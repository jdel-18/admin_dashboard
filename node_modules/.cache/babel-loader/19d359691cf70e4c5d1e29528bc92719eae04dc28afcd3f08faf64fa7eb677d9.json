{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, addClass, append, Property, Event, L10n, compile } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, extend, removeClass, prepend, isNullOrUndefined, detach, getValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, rippleEffect, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { DataManager, Query, DataUtil } from '@syncfusion/ej2-data';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { select, selectAll } from '@syncfusion/ej2-base';\nvar FieldSettings = /** @class */function (_super) {\n  __extends(FieldSettings, _super);\n  function FieldSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property()], FieldSettings.prototype, \"text\", void 0);\n  __decorate([Property()], FieldSettings.prototype, \"value\", void 0);\n  __decorate([Property()], FieldSettings.prototype, \"iconCss\", void 0);\n  __decorate([Property()], FieldSettings.prototype, \"groupBy\", void 0);\n  __decorate([Property()], FieldSettings.prototype, \"htmlAttributes\", void 0);\n  return FieldSettings;\n}(ChildProperty);\nexport { FieldSettings };\nexport var dropDownBaseClasses = {\n  root: 'e-dropdownbase',\n  rtl: 'e-rtl',\n  content: 'e-content',\n  selected: 'e-active',\n  hover: 'e-hover',\n  noData: 'e-nodata',\n  fixedHead: 'e-fixed-head',\n  focus: 'e-item-focus',\n  li: 'e-list-item',\n  group: 'e-list-group-item',\n  disabled: 'e-disabled',\n  grouping: 'e-dd-group'\n};\nvar ITEMTEMPLATE_PROPERTY = 'ItemTemplate';\nvar VALUETEMPLATE_PROPERTY = 'ValueTemplate';\nvar GROUPTEMPLATE_PROPERTY = 'GroupTemplate';\nvar HEADERTEMPLATE_PROPERTY = 'HeaderTemplate';\nvar FOOTERTEMPLATE_PROPERTY = 'FooterTemplate';\nvar NORECORDSTEMPLATE_PROPERTY = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE_PROPERTY = 'ActionFailureTemplate';\nvar HIDE_GROUPLIST = 'e-hide-group-header';\n/**\n * DropDownBase component will generate the list items based on given data and act as base class to drop-down related components\n */\nvar DropDownBase = /** @class */function (_super) {\n  __extends(DropDownBase, _super);\n  /**\n   * * Constructor for DropDownBase class\n   *\n   * @param {DropDownBaseModel} options - Specifies the DropDownBase model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function DropDownBase(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.preventChange = false;\n    _this.isAngular = false;\n    _this.isPreventChange = false;\n    _this.isDynamicDataChange = false;\n    return _this;\n  }\n  DropDownBase.prototype.getPropObject = function (prop, newProp, oldProp) {\n    var newProperty = new Object();\n    var oldProperty = new Object();\n    var propName = function (prop) {\n      return prop;\n    };\n    newProperty[propName(prop)] = newProp[propName(prop)];\n    oldProperty[propName(prop)] = oldProp[propName(prop)];\n    var data = new Object();\n    data.newProperty = newProperty;\n    data.oldProperty = oldProperty;\n    return data;\n  };\n  DropDownBase.prototype.getValueByText = function (text, ignoreCase, ignoreAccent) {\n    var value = null;\n    if (!isNullOrUndefined(this.listData)) {\n      if (ignoreCase) {\n        value = this.checkValueCase(text, true, ignoreAccent);\n      } else {\n        value = this.checkValueCase(text, false, ignoreAccent);\n      }\n    }\n    return value;\n  };\n  DropDownBase.prototype.checkValueCase = function (text, ignoreCase, ignoreAccent, isTextByValue) {\n    var _this = this;\n    var value = null;\n    if (isTextByValue) {\n      value = text;\n    }\n    var dataSource = this.listData;\n    var fields = this.fields;\n    var type = this.typeOfData(dataSource).typeof;\n    if (type === 'string' || type === 'number' || type === 'boolean') {\n      for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n        var item = dataSource_1[_i];\n        if (!isNullOrUndefined(item)) {\n          if (ignoreAccent) {\n            value = this.checkingAccent(String(item), text, ignoreCase);\n          } else {\n            if (ignoreCase) {\n              if (this.checkIgnoreCase(String(item), text)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n              }\n            } else {\n              if (this.checkNonIgnoreCase(String(item), text)) {\n                value = this.getItemValue(String(item), text, ignoreCase, isTextByValue);\n              }\n            }\n          }\n        }\n      }\n    } else {\n      if (ignoreCase) {\n        dataSource.filter(function (item) {\n          var itemValue = getValue(fields.value, item);\n          if (!isNullOrUndefined(itemValue) && _this.checkIgnoreCase(getValue(fields.text, item).toString(), text)) {\n            value = getValue(fields.value, item);\n          }\n        });\n      } else {\n        if (isTextByValue) {\n          var compareValue_1 = null;\n          compareValue_1 = value;\n          dataSource.filter(function (item) {\n            var itemValue = getValue(fields.value, item);\n            if (!isNullOrUndefined(itemValue) && !isNullOrUndefined(value) && itemValue.toString() === compareValue_1.toString()) {\n              value = getValue(fields.text, item);\n            }\n          });\n        } else {\n          dataSource.filter(function (item) {\n            if (_this.checkNonIgnoreCase(getValue(fields.text, item), text)) {\n              value = getValue(fields.value, item);\n            }\n          });\n        }\n      }\n    }\n    return value;\n  };\n  DropDownBase.prototype.checkingAccent = function (item, text, ignoreCase) {\n    var dataItem = DataUtil.ignoreDiacritics(String(item));\n    var textItem = DataUtil.ignoreDiacritics(text.toString());\n    var value = null;\n    if (ignoreCase) {\n      if (this.checkIgnoreCase(dataItem, textItem)) {\n        value = this.getItemValue(String(item), text, ignoreCase);\n      }\n    } else {\n      if (this.checkNonIgnoreCase(String(item), text)) {\n        value = this.getItemValue(String(item), text, ignoreCase);\n      }\n    }\n    return value;\n  };\n  DropDownBase.prototype.checkIgnoreCase = function (item, text) {\n    return String(item).toLowerCase() === text.toString().toLowerCase() ? true : false;\n  };\n  DropDownBase.prototype.checkNonIgnoreCase = function (item, text) {\n    return String(item) === text.toString() ? true : false;\n  };\n  DropDownBase.prototype.getItemValue = function (dataItem, typedText, ignoreCase, isTextByValue) {\n    var value = null;\n    var dataSource = this.listData;\n    var type = this.typeOfData(dataSource).typeof;\n    if (isTextByValue) {\n      value = dataItem.toString();\n    } else {\n      if (ignoreCase) {\n        value = type === 'string' ? String(dataItem) : this.getFormattedValue(String(dataItem));\n      } else {\n        value = type === 'string' ? typedText : this.getFormattedValue(typedText);\n      }\n    }\n    return value;\n  };\n  DropDownBase.prototype.templateCompiler = function (baseTemplate) {\n    var checkTemplate = false;\n    if (baseTemplate) {\n      try {\n        checkTemplate = selectAll(baseTemplate, document).length ? true : false;\n      } catch (exception) {\n        checkTemplate = false;\n      }\n    }\n    return checkTemplate;\n  };\n  DropDownBase.prototype.l10nUpdate = function (actionFailure) {\n    var ele = this.getModuleName() === 'listbox' ? this.ulElement : this.list;\n    if (this.noRecordsTemplate !== 'No records found' || this.actionFailureTemplate !== 'Request failed') {\n      var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n      var compiledString = void 0;\n      var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n      ele.innerHTML = '';\n      var tempaltecheck = this.templateCompiler(template);\n      if (tempaltecheck) {\n        compiledString = compile(select(template, document).innerHTML.trim());\n      } else {\n        compiledString = compile(template);\n      }\n      var templateName = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      var noDataCompTemp = compiledString({}, this, templateName, templateId, this.isStringTemplate, null, ele);\n      if (noDataCompTemp && noDataCompTemp.length > 0) {\n        for (var i = 0; i < noDataCompTemp.length; i++) {\n          ele.appendChild(noDataCompTemp[i]);\n        }\n      }\n      this.renderReactTemplates();\n    } else {\n      var l10nLocale = {\n        noRecordsTemplate: 'No records found',\n        actionFailureTemplate: 'Request failed'\n      };\n      var componentLocale = new L10n(this.getLocaleName(), {}, this.locale);\n      if (componentLocale.getConstant('actionFailureTemplate') !== '') {\n        this.l10n = componentLocale;\n      } else {\n        this.l10n = new L10n(this.getModuleName() === 'listbox' ? 'listbox' : 'dropdowns', l10nLocale, this.locale);\n      }\n      var content = actionFailure ? this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n      if (this.getModuleName() === 'listbox') {\n        var liElem = this.createElement('li');\n        liElem.textContent = content;\n        ele.appendChild(liElem);\n        liElem.classList.add('e-list-nrt');\n      } else {\n        ele.innerHTML = content;\n      }\n    }\n  };\n  DropDownBase.prototype.getLocaleName = function () {\n    return 'drop-down-base';\n  };\n  DropDownBase.prototype.getTextByValue = function (value) {\n    var text = this.checkValueCase(value, false, false, true);\n    return text;\n  };\n  DropDownBase.prototype.getFormattedValue = function (value) {\n    if (this.listData && this.listData.length) {\n      var item = this.typeOfData(this.listData);\n      if (typeof getValue(this.fields.value ? this.fields.value : 'value', item.item) === 'number' || item.typeof === 'number') {\n        return parseFloat(value);\n      }\n      if (typeof getValue(this.fields.value ? this.fields.value : 'value', item.item) === 'boolean' || item.typeof === 'boolean') {\n        return value === 'true' || '' + value === 'true';\n      }\n    }\n    return value;\n  };\n  /**\n   * Sets RTL to dropdownbase wrapper\n   *\n   * @returns {void}\n   */\n  DropDownBase.prototype.setEnableRtl = function () {\n    if (this.list) {\n      this.enableRtlElements.push(this.list);\n    }\n    if (this.enableRtl) {\n      addClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n    } else {\n      removeClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n    }\n  };\n  /**\n   * Initialize the Component.\n   *\n   * @returns {void}\n   */\n  DropDownBase.prototype.initialize = function () {\n    this.bindEvent = true;\n    this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE_PROPERTY;\n    if (this.element.tagName === 'UL') {\n      var jsonElement = ListBase.createJsonFromElement(this.element);\n      this.setProperties({\n        fields: {\n          text: 'text',\n          value: 'text'\n        }\n      }, true);\n      this.resetList(jsonElement, this.fields);\n    } else if (this.element.tagName === 'SELECT') {\n      var dataSource = this.dataSource instanceof Array ? this.dataSource.length > 0 ? true : false : !isNullOrUndefined(this.dataSource) ? true : false;\n      if (!dataSource) {\n        this.renderItemsBySelect();\n      } else if (this.isDynamicDataChange) {\n        this.setListData(this.dataSource, this.fields, this.query);\n      }\n    } else {\n      this.setListData(this.dataSource, this.fields, this.query);\n    }\n  };\n  /**\n   * Get the properties to be maintained in persisted state.\n   *\n   * @returns {string} Returns the persisted data of the component.\n   */\n  DropDownBase.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n  /**\n   * Sets the enabled state to DropDownBase.\n   *\n   * @returns {void}\n   */\n  DropDownBase.prototype.setEnabled = function () {\n    this.element.setAttribute('aria-disabled', this.enabled ? 'false' : 'true');\n  };\n  /**\n   * Sets the enabled state to DropDownBase.\n   *\n   * @param {string} value - Specifies the attribute values to add on the input element.\n   * @returns {void}\n   */\n  DropDownBase.prototype.updateDataAttribute = function (value) {\n    var invalidAttr = ['class', 'style', 'id', 'type'];\n    var attr = {};\n    for (var a = 0; a < this.element.attributes.length; a++) {\n      if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 && !(this.getModuleName() === 'dropdownlist' && this.element.attributes[a].name === 'readonly')) {\n        attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n      }\n    }\n    extend(attr, value, attr);\n    this.setProperties({\n      htmlAttributes: attr\n    }, true);\n  };\n  DropDownBase.prototype.renderItemsBySelect = function () {\n    var element = this.element;\n    var fields = {\n      value: 'value',\n      text: 'text'\n    };\n    var jsonElement = [];\n    var group = element.querySelectorAll('select>optgroup');\n    var option = element.querySelectorAll('select>option');\n    this.getJSONfromOption(jsonElement, option, fields);\n    if (group.length) {\n      for (var i = 0; i < group.length; i++) {\n        var item = group[i];\n        var optionGroup = {};\n        optionGroup[fields.text] = item.label;\n        optionGroup.isHeader = true;\n        var child = item.querySelectorAll('option');\n        jsonElement.push(optionGroup);\n        this.getJSONfromOption(jsonElement, child, fields);\n      }\n      element.querySelectorAll('select>option');\n    }\n    this.updateFields(fields.text, fields.value, this.fields.groupBy, this.fields.htmlAttributes, this.fields.iconCss);\n    this.resetList(jsonElement, fields);\n  };\n  DropDownBase.prototype.updateFields = function (text, value, groupBy, htmlAttributes, iconCss) {\n    var field = {\n      'fields': {\n        text: text,\n        value: value,\n        groupBy: !isNullOrUndefined(groupBy) ? groupBy : this.fields && this.fields.groupBy,\n        htmlAttributes: !isNullOrUndefined(htmlAttributes) ? htmlAttributes : this.fields && this.fields.htmlAttributes,\n        iconCss: !isNullOrUndefined(iconCss) ? iconCss : this.fields && this.fields.iconCss\n      }\n    };\n    this.setProperties(field, true);\n  };\n  DropDownBase.prototype.getJSONfromOption = function (items, options, fields) {\n    for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n      var option = options_1[_i];\n      var json = {};\n      json[fields.text] = option.innerText;\n      json[fields.value] = !isNullOrUndefined(option.getAttribute(fields.value)) ? option.getAttribute(fields.value) : option.innerText;\n      items.push(json);\n    }\n  };\n  /**\n   * Execute before render the list items\n   *\n   * @private\n   * @returns {void}\n   */\n  DropDownBase.prototype.preRender = function () {\n    // there is no event handler\n    this.scrollTimer = -1;\n    this.enableRtlElements = [];\n    this.isRequested = false;\n    this.isDataFetched = false;\n    this.itemTemplateId = \"\" + this.element.id + ITEMTEMPLATE_PROPERTY;\n    this.valueTemplateId = \"\" + this.element.id + VALUETEMPLATE_PROPERTY;\n    this.groupTemplateId = \"\" + this.element.id + GROUPTEMPLATE_PROPERTY;\n    this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE_PROPERTY;\n    this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE_PROPERTY;\n    this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE_PROPERTY;\n  };\n  /**\n   * Creates the list items of DropDownBase component.\n   *\n   * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n   * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n   * @param {Query} query - Accepts the external Query that execute along with data processing.\n   * @returns {void}\n   */\n  DropDownBase.prototype.setListData = function (dataSource, fields, query) {\n    var _this = this;\n    fields = fields ? fields : this.fields;\n    var ulElement;\n    this.isActive = true;\n    var eventArgs = {\n      cancel: false,\n      data: dataSource,\n      query: query\n    };\n    this.isPreventChange = this.isAngular && this.preventChange ? true : this.isPreventChange;\n    this.trigger('actionBegin', eventArgs, function (eventArgs) {\n      if (!eventArgs.cancel) {\n        _this.showSpinner();\n        if (dataSource instanceof DataManager) {\n          _this.isRequested = true;\n          if (_this.isDataFetched) {\n            _this.emptyDataRequest(fields);\n            return;\n          }\n          eventArgs.data.executeQuery(_this.getQuery(eventArgs.query)).then(function (e) {\n            _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n            _this.trigger('actionComplete', e, function (e) {\n              if (!e.cancel) {\n                var listItems = e.result;\n                if (listItems.length === 0) {\n                  _this.isDataFetched = true;\n                }\n                ulElement = _this.renderItems(listItems, fields);\n                _this.onActionComplete(ulElement, listItems, e);\n                if (_this.groupTemplate) {\n                  _this.renderGroupTemplate(ulElement);\n                }\n                _this.isRequested = false;\n                _this.bindChildItems(listItems, ulElement, fields, e);\n              }\n            });\n          }).catch(function (e) {\n            _this.isRequested = false;\n            _this.onActionFailure(e);\n            _this.hideSpinner();\n          });\n        } else {\n          var dataManager = new DataManager(eventArgs.data);\n          var listItems = _this.getQuery(eventArgs.query).executeLocal(dataManager);\n          var localDataArgs = {\n            cancel: false,\n            result: listItems\n          };\n          _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n          _this.trigger('actionComplete', localDataArgs, function (localDataArgs) {\n            if (!localDataArgs.cancel) {\n              ulElement = _this.renderItems(localDataArgs.result, fields);\n              _this.onActionComplete(ulElement, localDataArgs.result);\n              if (_this.groupTemplate) {\n                _this.renderGroupTemplate(ulElement);\n              }\n              _this.bindChildItems(localDataArgs.result, ulElement, fields);\n              setTimeout(function () {\n                if (_this.getModuleName() === 'multiselect' && _this.itemTemplate != null && ulElement.childElementCount > 0 && (ulElement.children[0].childElementCount > 0 || _this.fields.groupBy && ulElement.children[1] && ulElement.children[1].childElementCount > 0)) {\n                  _this.updateDataList();\n                }\n              });\n            }\n          });\n        }\n      }\n    });\n  };\n  DropDownBase.prototype.bindChildItems = function (listItems, ulElement, fields, e) {\n    var _this = this;\n    if (listItems.length >= 100 && this.getModuleName() === 'autocomplete') {\n      setTimeout(function () {\n        var childNode = _this.remainingItems(_this.sortedData, fields);\n        append(childNode, ulElement);\n        _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        _this.updateListValues();\n        _this.raiseDataBound(listItems, e);\n      }, 0);\n    } else {\n      this.raiseDataBound(listItems, e);\n    }\n  };\n  DropDownBase.prototype.updateListValues = function () {\n    // Used this method in component side.\n  };\n  DropDownBase.prototype.findListElement = function (list, findNode, attribute, value) {\n    var liElement = null;\n    if (list) {\n      var listArr = [].slice.call(list.querySelectorAll(findNode));\n      for (var index = 0; index < listArr.length; index++) {\n        if (listArr[index].getAttribute(attribute) === value + '') {\n          liElement = listArr[index];\n          break;\n        }\n      }\n    }\n    return liElement;\n  };\n  DropDownBase.prototype.raiseDataBound = function (listItems, e) {\n    this.hideSpinner();\n    var dataBoundEventArgs = {\n      items: listItems,\n      e: e\n    };\n    this.trigger('dataBound', dataBoundEventArgs);\n  };\n  DropDownBase.prototype.remainingItems = function (dataSource, fields) {\n    var spliceData = new DataManager(dataSource).executeLocal(new Query().skip(100));\n    if (this.itemTemplate) {\n      var listElements = this.templateListItem(spliceData, fields);\n      return [].slice.call(listElements.childNodes);\n    }\n    var type = this.typeOfData(spliceData).typeof;\n    if (type === 'string' || type === 'number' || type === 'boolean') {\n      return ListBase.createListItemFromArray(this.createElement, spliceData, true, this.listOption(spliceData, fields), this);\n    }\n    return ListBase.createListItemFromJson(this.createElement, spliceData, this.listOption(spliceData, fields), 1, true, this);\n  };\n  DropDownBase.prototype.emptyDataRequest = function (fields) {\n    var listItems = [];\n    this.onActionComplete(this.renderItems(listItems, fields), listItems);\n    this.isRequested = false;\n    this.hideSpinner();\n  };\n  DropDownBase.prototype.showSpinner = function () {\n    // Used this method in component side.\n  };\n  DropDownBase.prototype.hideSpinner = function () {\n    // Used this method in component side.\n  };\n  DropDownBase.prototype.onActionFailure = function (e) {\n    this.liCollections = [];\n    this.trigger('actionFailure', e);\n    this.l10nUpdate(true);\n    addClass([this.list], dropDownBaseClasses.noData);\n  };\n  /* eslint-disable @typescript-eslint/no-unused-vars */\n  DropDownBase.prototype.onActionComplete = function (ulElement, list, e) {\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    this.listData = list;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.isReact) {\n      this.clearTemplate(['itemTemplate', 'groupTemplate', 'actionFailureTemplate', 'noRecordsTemplate']);\n    }\n    this.fixedHeaderElement = isNullOrUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement : null;\n    if (this.getModuleName() === 'multiselect' && this.properties.allowCustomValue && this.fields.groupBy) {\n      for (var i = 0; i < ulElement.childElementCount; i++) {\n        if (ulElement.children[i].classList.contains('e-list-group-item')) {\n          if (isNullOrUndefined(ulElement.children[i].innerHTML) || ulElement.children[i].innerHTML == \"\") {\n            addClass([ulElement.children[i]], HIDE_GROUPLIST);\n          }\n        }\n      }\n    }\n    if (!isNullOrUndefined(this.list)) {\n      this.list.innerHTML = '';\n      this.list.appendChild(ulElement);\n      this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n      this.ulElement = this.list.querySelector('ul');\n      this.postRender(this.list, list, this.bindEvent);\n    }\n  };\n  /* eslint-disable @typescript-eslint/no-unused-vars */\n  DropDownBase.prototype.postRender = function (listElement, list, bindEvent) {\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    var focusItem = listElement.querySelector('.' + dropDownBaseClasses.li);\n    var selectedItem = listElement.querySelector('.' + dropDownBaseClasses.selected);\n    if (focusItem && !selectedItem) {\n      focusItem.classList.add(dropDownBaseClasses.focus);\n    }\n    if (list.length <= 0) {\n      this.l10nUpdate();\n      addClass([listElement], dropDownBaseClasses.noData);\n    } else {\n      listElement.classList.remove(dropDownBaseClasses.noData);\n    }\n  };\n  /**\n   * Get the query to do the data operation before list item generation.\n   *\n   * @param {Query} query - Accepts the external Query that execute along with data processing.\n   * @returns {Query} Returns the query to do the data query operation.\n   */\n  DropDownBase.prototype.getQuery = function (query) {\n    return query ? query : this.query ? this.query : new Query();\n  };\n  /**\n   * To render the template content for group header element.\n   *\n   * @param {HTMLElement} listEle - Specifies the group list elements.\n   * @returns {void}\n   */\n  DropDownBase.prototype.renderGroupTemplate = function (listEle) {\n    if (this.fields.groupBy !== null && this.dataSource || this.element.querySelector('.' + dropDownBaseClasses.group)) {\n      var dataSource = this.dataSource;\n      var option = {\n        groupTemplateID: this.groupTemplateId,\n        isStringTemplate: this.isStringTemplate\n      };\n      var headerItems = listEle.querySelectorAll('.' + dropDownBaseClasses.group);\n      var groupcheck = this.templateCompiler(this.groupTemplate);\n      if (groupcheck) {\n        var groupValue = select(this.groupTemplate, document).innerHTML.trim();\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var tempHeaders = ListBase.renderGroupTemplate(groupValue, dataSource, this.fields.properties, headerItems, option, this);\n        //EJ2-55168- Group checkbox is not working with group template\n        if (this.isGroupChecking) {\n          for (var i = 0; i < tempHeaders.length; i++) {\n            this.notify('addItem', {\n              module: 'CheckBoxSelection',\n              item: tempHeaders[i]\n            });\n          }\n        }\n      } else {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var tempHeaders = ListBase.renderGroupTemplate(this.groupTemplate, dataSource, this.fields.properties, headerItems, option, this);\n        //EJ2-55168- Group checkbox is not working with group template\n        if (this.isGroupChecking) {\n          for (var i = 0; i < tempHeaders.length; i++) {\n            this.notify('addItem', {\n              module: 'CheckBoxSelection',\n              item: tempHeaders[i]\n            });\n          }\n        }\n      }\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * To create the ul li list items\n   *\n   * @param {object []} dataSource - Specifies the data to generate the list.\n   * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n   * @returns {HTMLElement} Return the ul li list items.\n   */\n  DropDownBase.prototype.createListItems = function (dataSource, fields) {\n    if (dataSource && fields.groupBy || this.element.querySelector('optgroup')) {\n      if (fields.groupBy) {\n        if (this.sortOrder !== 'None') {\n          dataSource = this.getSortedDataSource(dataSource);\n        }\n        dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n      }\n      addClass([this.list], dropDownBaseClasses.grouping);\n    } else {\n      dataSource = this.getSortedDataSource(dataSource);\n    }\n    var options = this.listOption(dataSource, fields);\n    var spliceData = dataSource.length > 100 ? new DataManager(dataSource).executeLocal(new Query().take(100)) : dataSource;\n    this.sortedData = dataSource;\n    return ListBase.createList(this.createElement, this.getModuleName() === 'autocomplete' ? spliceData : dataSource, options, true, this);\n  };\n  DropDownBase.prototype.listOption = function (dataSource, fields) {\n    var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n    var fieldValues = !isNullOrUndefined(fields.properties) ? fields.properties : fields;\n    var options = fields.text !== null || fields.value !== null ? {\n      fields: fieldValues,\n      showIcon: iconCss,\n      ariaAttributes: {\n        groupItemRole: 'presentation'\n      }\n    } : {\n      fields: {\n        value: 'text'\n      }\n    };\n    return extend({}, options, fields, true);\n  };\n  DropDownBase.prototype.setFloatingHeader = function (e) {\n    if (isNullOrUndefined(this.fixedHeaderElement)) {\n      this.fixedHeaderElement = this.createElement('div', {\n        className: dropDownBaseClasses.fixedHead\n      });\n      if (!this.list.querySelector('li').classList.contains(dropDownBaseClasses.group)) {\n        this.fixedHeaderElement.style.display = 'none';\n      }\n      prepend([this.fixedHeaderElement], this.list);\n      this.setFixedHeader();\n    }\n    if (!isNullOrUndefined(this.fixedHeaderElement) && this.fixedHeaderElement.style.zIndex === '0') {\n      this.setFixedHeader();\n    }\n    this.scrollStop(e);\n  };\n  DropDownBase.prototype.scrollStop = function (e) {\n    var target = !isNullOrUndefined(e) ? e.target : this.list;\n    var liHeight = parseInt(getComputedStyle(this.getValidLi(), null).getPropertyValue('height'), 10);\n    var topIndex = Math.round(target.scrollTop / liHeight);\n    var liCollections = this.list.querySelectorAll('li' + ':not(.e-hide-listitem)');\n    for (var i = topIndex; i > -1; i--) {\n      if (!isNullOrUndefined(liCollections[i]) && liCollections[i].classList.contains(dropDownBaseClasses.group)) {\n        var currentLi = liCollections[i];\n        this.fixedHeaderElement.innerHTML = currentLi.innerHTML;\n        this.fixedHeaderElement.style.top = target.scrollTop + 'px';\n        this.fixedHeaderElement.style.display = 'block';\n        break;\n      } else {\n        this.fixedHeaderElement.style.display = 'none';\n        this.fixedHeaderElement.style.top = 'none';\n      }\n    }\n  };\n  DropDownBase.prototype.getValidLi = function () {\n    return this.liCollections[0];\n  };\n  /**\n   * To render the list items\n   *\n   * @param {object[]} listData - Specifies the list of array of data.\n   * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n   * @returns {HTMLElement} Return the list items.\n   */\n  DropDownBase.prototype.renderItems = function (listData, fields) {\n    var ulElement;\n    if (this.itemTemplate && listData) {\n      var dataSource = listData;\n      if (dataSource && fields.groupBy) {\n        if (this.sortOrder !== 'None') {\n          dataSource = this.getSortedDataSource(dataSource);\n        }\n        dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n      } else {\n        dataSource = this.getSortedDataSource(dataSource);\n      }\n      this.sortedData = dataSource;\n      var spliceData = dataSource.length > 100 ? new DataManager(dataSource).executeLocal(new Query().take(100)) : dataSource;\n      ulElement = this.templateListItem(this.getModuleName() === 'autocomplete' ? spliceData : dataSource, fields);\n    } else {\n      ulElement = this.createListItems(listData, fields);\n    }\n    return ulElement;\n  };\n  DropDownBase.prototype.templateListItem = function (dataSource, fields) {\n    var option = this.listOption(dataSource, fields);\n    option.templateID = this.itemTemplateId;\n    option.isStringTemplate = this.isStringTemplate;\n    var itemcheck = this.templateCompiler(this.itemTemplate);\n    if (itemcheck) {\n      var itemValue = select(this.itemTemplate, document).innerHTML.trim();\n      return ListBase.renderContentTemplate(this.createElement, itemValue, dataSource, fields.properties, option, this);\n    } else {\n      return ListBase.renderContentTemplate(this.createElement, this.itemTemplate, dataSource, fields.properties, option, this);\n    }\n  };\n  DropDownBase.prototype.typeOfData = function (items) {\n    var item = {\n      typeof: null,\n      item: null\n    };\n    for (var i = 0; !isNullOrUndefined(items) && i < items.length; i++) {\n      if (!isNullOrUndefined(items[i])) {\n        var listDataType = typeof items[i] === 'string' || typeof items[i] === 'number' || typeof items[i] === 'boolean';\n        var isNullData = listDataType ? isNullOrUndefined(items[i]) : isNullOrUndefined(getValue(this.fields.value ? this.fields.value : 'value', items[i]));\n        if (!isNullData) {\n          return item = {\n            typeof: typeof items[i],\n            item: items[i]\n          };\n        }\n      }\n    }\n    return item;\n  };\n  DropDownBase.prototype.setFixedHeader = function () {\n    this.list.parentElement.style.display = 'block';\n    var borderWidth = 0;\n    if (this.list && this.list.parentElement) {\n      borderWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-width'), 10);\n      /*Shorthand property not working in Firefox for getComputedStyle method.\n      Refer bug report https://bugzilla.mozilla.org/show_bug.cgi?id=137688\n      Refer alternate solution https://stackoverflow.com/a/41696234/9133493*/\n      if (isNaN(borderWidth)) {\n        var borderTopWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-top-width'), 10);\n        var borderBottomWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-bottom-width'), 10);\n        var borderLeftWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-left-width'), 10);\n        var borderRightWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-right-width'), 10);\n        borderWidth = borderTopWidth + borderBottomWidth + borderLeftWidth + borderRightWidth;\n      }\n    }\n    var liWidth = this.getValidLi().offsetWidth - borderWidth;\n    this.fixedHeaderElement.style.width = liWidth.toString() + 'px';\n    setStyleAttribute(this.fixedHeaderElement, {\n      zIndex: 10\n    });\n    var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group + ':not(.e-hide-listitem)');\n    this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n  };\n  DropDownBase.prototype.getSortedDataSource = function (dataSource) {\n    if (dataSource && this.sortOrder !== 'None') {\n      var textField = this.fields.text ? this.fields.text : 'text';\n      if (this.typeOfData(dataSource).typeof === 'string' || this.typeOfData(dataSource).typeof === 'number' || this.typeOfData(dataSource).typeof === 'boolean') {\n        textField = '';\n      }\n      dataSource = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, textField));\n    }\n    return dataSource;\n  };\n  /**\n   * Return the index of item which matched with given value in data source\n   *\n   * @param {string | number | boolean} value - Specifies given value.\n   * @returns {number} Returns the index of the item.\n   */\n  DropDownBase.prototype.getIndexByValue = function (value) {\n    var index;\n    var listItems = this.getItems();\n    for (var i = 0; i < listItems.length; i++) {\n      if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\n        index = i;\n        break;\n      }\n    }\n    return index;\n  };\n  /**\n   * To dispatch the event manually\n   *\n   * @param {HTMLElement} element - Specifies the element to dispatch the event.\n   * @param {string} type - Specifies the name of the event.\n   * @returns {void}\n   */\n  DropDownBase.prototype.dispatchEvent = function (element, type) {\n    var evt = document.createEvent('HTMLEvents');\n    evt.initEvent(type, false, true);\n    element.dispatchEvent(evt);\n  };\n  /**\n   * To set the current fields\n   *\n   * @returns {void}\n   */\n  DropDownBase.prototype.setFields = function () {\n    if (this.fields.value && !this.fields.text) {\n      this.updateFields(this.fields.value, this.fields.value);\n    } else if (!this.fields.value && this.fields.text) {\n      this.updateFields(this.fields.text, this.fields.text);\n    } else if (!this.fields.value && !this.fields.text) {\n      this.updateFields('text', 'text');\n    }\n  };\n  /**\n   * reset the items list.\n   *\n   * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n   * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n   * @param {Query} query - Accepts the external Query that execute along with data processing.\n   * @returns {void}\n   */\n  DropDownBase.prototype.resetList = function (dataSource, fields, query) {\n    if (this.list) {\n      if (this.element.tagName === 'SELECT' && this.element.options.length > 0 || this.element.tagName === 'UL' && this.element.childNodes.length > 0) {\n        var data = dataSource instanceof Array ? dataSource.length > 0 : !isNullOrUndefined(dataSource);\n        if (!data && this.selectData && this.selectData.length > 0) {\n          dataSource = this.selectData;\n        }\n      }\n      this.setListData(dataSource, fields, query);\n    }\n  };\n  DropDownBase.prototype.updateSelectElementData = function (isFiltering) {\n    if (isFiltering && isNullOrUndefined(this.selectData) && this.listData && this.listData.length > 0) {\n      this.selectData = this.listData;\n    }\n  };\n  DropDownBase.prototype.updateSelection = function () {\n    // This is for after added the item, need to update the selected index values.\n  };\n  DropDownBase.prototype.renderList = function () {\n    // This is for render the list items.\n    this.render();\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DropDownBase.prototype.updateDataSource = function (props) {\n    this.resetList(this.dataSource);\n  };\n  DropDownBase.prototype.setUpdateInitial = function (props, newProp) {\n    this.isDataFetched = false;\n    var updateData = {};\n    for (var j = 0; props.length > j; j++) {\n      if (newProp[props[j]] && props[j] === 'fields') {\n        this.setFields();\n        updateData[props[j]] = newProp[props[j]];\n      } else if (newProp[props[j]]) {\n        updateData[props[j]] = newProp[props[j]];\n      }\n    }\n    if (Object.keys(updateData).length > 0) {\n      if (Object.keys(updateData).indexOf('dataSource') === -1) {\n        updateData.dataSource = this.dataSource;\n      }\n      this.updateDataSource(updateData);\n    }\n  };\n  /**\n   * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n   *\n   * @param {DropDownBaseModel} newProp - Returns the dynamic property value of the component.\n   * @param {DropDownBaseModel} oldProp - Returns the previous property value of the component.\n   * @private\n   * @returns {void}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DropDownBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n    if (this.getModuleName() === 'dropdownbase') {\n      this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n    }\n    this.setUpdateInitial(['sortOrder', 'itemTemplate'], newProp);\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'query':\n        case 'sortOrder':\n        case 'dataSource':\n        case 'itemTemplate':\n          break;\n        case 'enableRtl':\n          this.setEnableRtl();\n          break;\n        case 'enabled':\n          this.setEnabled();\n          break;\n        case 'groupTemplate':\n          this.renderGroupTemplate(this.list);\n          if (this.ulElement && this.fixedHeaderElement) {\n            var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\n            this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n          }\n          break;\n        case 'locale':\n          if (this.list && !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0) {\n            this.l10nUpdate();\n          }\n          break;\n        case 'zIndex':\n          this.setProperties({\n            zIndex: newProp.zIndex\n          }, true);\n          this.setZIndex();\n          break;\n      }\n    }\n  };\n  /**\n   * Build and render the component\n   *\n   * @param {boolean} isEmptyData - Specifies the component to initialize with list data or not.\n   * @private\n   * @returns {void}\n   */\n  DropDownBase.prototype.render = function (isEmptyData) {\n    this.list = this.createElement('div', {\n      className: dropDownBaseClasses.content,\n      attrs: {\n        'tabindex': '0'\n      }\n    });\n    this.list.classList.add(dropDownBaseClasses.root);\n    this.setFields();\n    var rippleModel = {\n      duration: 300,\n      selector: '.' + dropDownBaseClasses.li\n    };\n    this.rippleFun = rippleEffect(this.list, rippleModel);\n    var group = this.element.querySelector('select>optgroup');\n    if ((this.fields.groupBy || !isNullOrUndefined(group)) && !this.isGroupChecking) {\n      EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n    }\n    if (this.getModuleName() === 'dropdownbase') {\n      if (this.element.getAttribute('tabindex')) {\n        this.list.setAttribute('tabindex', this.element.getAttribute('tabindex'));\n      }\n      removeClass([this.element], dropDownBaseClasses.root);\n      this.element.style.display = 'none';\n      var wrapperElement = this.createElement('div');\n      this.element.parentElement.insertBefore(wrapperElement, this.element);\n      wrapperElement.appendChild(this.element);\n      wrapperElement.appendChild(this.list);\n    }\n    this.setEnableRtl();\n    this.setEnabled();\n    if (!isEmptyData) {\n      this.initialize();\n    }\n  };\n  /**\n   * Return the module name of this component.\n   *\n   * @private\n   * @returns {string} Return the module name of this component.\n   */\n  DropDownBase.prototype.getModuleName = function () {\n    return 'dropdownbase';\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets all the list items bound on this component.\n   *\n   * @returns {Element[]}\n   */\n  DropDownBase.prototype.getItems = function () {\n    return this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n   * but you can insert based on the index parameter.\n   *\n   * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n   * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n   * @returns {void}\n    */\n  DropDownBase.prototype.addItem = function (items, itemIndex) {\n    if (!this.list || this.list.textContent === this.noRecordsTemplate && this.getModuleName() !== 'listbox') {\n      this.renderList();\n    }\n    if (this.sortOrder !== 'None' && isNullOrUndefined(itemIndex)) {\n      var newList = [].slice.call(this.listData);\n      newList.push(items);\n      newList = this.getSortedDataSource(newList);\n      if (this.fields.groupBy) {\n        newList = ListBase.groupDataSource(newList, this.fields.properties, this.sortOrder);\n        itemIndex = newList.indexOf(items);\n      } else {\n        itemIndex = newList.indexOf(items);\n      }\n    }\n    var itemsCount = this.getItems().length;\n    var selectedItemValue = this.list.querySelector('.' + dropDownBaseClasses.selected);\n    items = items instanceof Array ? items : [items];\n    var index;\n    index = isNullOrUndefined(itemIndex) || itemIndex < 0 || itemIndex > itemsCount - 1 ? itemsCount : itemIndex;\n    var fields = this.fields;\n    if (items && fields.groupBy) {\n      items = ListBase.groupDataSource(items, fields.properties);\n    }\n    var liCollections = [];\n    for (var i = 0; i < items.length; i++) {\n      var item = items[i];\n      var isHeader = item.isHeader;\n      var li = this.createElement('li', {\n        className: isHeader ? dropDownBaseClasses.group : dropDownBaseClasses.li,\n        id: 'option-add-' + i\n      });\n      var itemText = item instanceof Object ? getValue(fields.text, item) : item;\n      if (isHeader) {\n        li.innerText = itemText;\n      }\n      if (this.itemTemplate && !isHeader) {\n        var itemCheck = this.templateCompiler(this.itemTemplate);\n        var compiledString = itemCheck ? compile(select(this.itemTemplate, document).innerHTML.trim()) : compile(this.itemTemplate);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var addItemTemplate = compiledString(item, this, 'itemTemplate', this.itemTemplateId, this.isStringTemplate, null, li);\n        if (addItemTemplate) {\n          append(addItemTemplate, li);\n        }\n      } else if (!isHeader) {\n        li.appendChild(document.createTextNode(itemText));\n      }\n      li.setAttribute('data-value', item instanceof Object ? getValue(fields.value, item) : item);\n      li.setAttribute('role', 'option');\n      this.notify('addItem', {\n        module: 'CheckBoxSelection',\n        item: li\n      });\n      liCollections.push(li);\n      this.listData.push(item);\n      if (this.sortOrder === 'None' && isNullOrUndefined(itemIndex) && index === 0) {\n        index = null;\n      }\n      this.updateActionCompleteData(li, item, index);\n      //Listbox event\n      this.trigger('beforeItemRender', {\n        element: li,\n        item: item\n      });\n    }\n    if (itemsCount === 0 && isNullOrUndefined(this.list.querySelector('ul'))) {\n      this.list.innerHTML = '';\n      this.list.classList.remove(dropDownBaseClasses.noData);\n      this.list.appendChild(this.ulElement);\n      this.liCollections = liCollections;\n      append(liCollections, this.ulElement);\n      this.updateAddItemList(this.list, itemsCount);\n    } else {\n      if (this.getModuleName() === 'listbox' && itemsCount === 0) {\n        this.ulElement.innerHTML = '';\n      }\n      var attr = [];\n      for (var i = 0; i < items.length; i++) {\n        var listGroupItem = this.ulElement.querySelectorAll('.e-list-group-item');\n        for (var j = 0; j < listGroupItem.length; j++) {\n          attr[j] = listGroupItem[j].innerText;\n        }\n        if (attr.indexOf(liCollections[i].innerText) > -1 && fields.groupBy) {\n          for (var j = 0; j < listGroupItem.length; j++) {\n            if (attr[j] === liCollections[i].innerText) {\n              if (this.sortOrder === 'None') {\n                this.ulElement.insertBefore(liCollections[i + 1], listGroupItem[j + 1]);\n              } else {\n                this.ulElement.insertBefore(liCollections[i + 1], this.ulElement.childNodes[itemIndex]);\n              }\n              i = i + 1;\n              break;\n            }\n          }\n        } else {\n          if (this.liCollections[index]) {\n            this.liCollections[index].parentNode.insertBefore(liCollections[i], this.liCollections[index]);\n          } else {\n            this.ulElement.appendChild(liCollections[i]);\n          }\n        }\n        var tempLi = [].slice.call(this.liCollections);\n        tempLi.splice(index, 0, liCollections[i]);\n        this.liCollections = tempLi;\n        index += 1;\n        if (this.getModuleName() === 'multiselect') {\n          this.updateDataList();\n        }\n      }\n    }\n    if (selectedItemValue || itemIndex === 0) {\n      this.updateSelection();\n    }\n  };\n  DropDownBase.prototype.validationAttribute = function (target, hidden) {\n    var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n    hidden.setAttribute('name', name);\n    target.removeAttribute('name');\n    var attributes = ['required', 'aria-required', 'form'];\n    for (var i = 0; i < attributes.length; i++) {\n      if (!target.getAttribute(attributes[i])) {\n        continue;\n      }\n      var attr = target.getAttribute(attributes[i]);\n      hidden.setAttribute(attributes[i], attr);\n      target.removeAttribute(attributes[i]);\n    }\n  };\n  DropDownBase.prototype.setZIndex = function () {\n    // this is for component wise\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DropDownBase.prototype.updateActionCompleteData = function (li, item, index) {\n    // this is for ComboBox custom value\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DropDownBase.prototype.updateAddItemList = function (list, itemCount) {\n    // this is for multiselect add item\n  };\n  DropDownBase.prototype.updateDataList = function () {\n    // this is for multiselect update list items\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets the data Object that matches the given value.\n   *\n   * @param { string | number } value - Specifies the value of the list item.\n   * @returns {Object}\n   */\n  DropDownBase.prototype.getDataByValue = function (value) {\n    if (!isNullOrUndefined(this.listData)) {\n      var type = this.typeOfData(this.listData).typeof;\n      if (type === 'string' || type === 'number' || type === 'boolean') {\n        for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n          var item = _a[_i];\n          if (!isNullOrUndefined(item) && item === value) {\n            return item;\n          }\n        }\n      } else {\n        for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n          var item = _c[_b];\n          if (!isNullOrUndefined(item) && getValue(this.fields.value ? this.fields.value : 'value', item) === value) {\n            return item;\n          }\n        }\n      }\n    }\n    return null;\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n   *\n   * @method destroy\n   * @returns {void}\n   */\n  DropDownBase.prototype.destroy = function () {\n    if (document.body.contains(this.list)) {\n      EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n      if (!isNullOrUndefined(this.rippleFun)) {\n        this.rippleFun();\n      }\n      detach(this.list);\n    }\n    _super.prototype.destroy.call(this);\n  };\n  __decorate([Complex({\n    text: null,\n    value: null,\n    iconCss: null,\n    groupBy: null\n  }, FieldSettings)], DropDownBase.prototype, \"fields\", void 0);\n  __decorate([Property(false)], DropDownBase.prototype, \"enablePersistence\", void 0);\n  __decorate([Property(null)], DropDownBase.prototype, \"itemTemplate\", void 0);\n  __decorate([Property(null)], DropDownBase.prototype, \"groupTemplate\", void 0);\n  __decorate([Property('No records found')], DropDownBase.prototype, \"noRecordsTemplate\", void 0);\n  __decorate([Property('Request failed')], DropDownBase.prototype, \"actionFailureTemplate\", void 0);\n  __decorate([Property('None')], DropDownBase.prototype, \"sortOrder\", void 0);\n  __decorate([Property(true)], DropDownBase.prototype, \"enabled\", void 0);\n  __decorate([Property([])], DropDownBase.prototype, \"dataSource\", void 0);\n  __decorate([Property(null)], DropDownBase.prototype, \"query\", void 0);\n  __decorate([Property('StartsWith')], DropDownBase.prototype, \"filterType\", void 0);\n  __decorate([Property(true)], DropDownBase.prototype, \"ignoreCase\", void 0);\n  __decorate([Property(1000)], DropDownBase.prototype, \"zIndex\", void 0);\n  __decorate([Property(false)], DropDownBase.prototype, \"ignoreAccent\", void 0);\n  __decorate([Property()], DropDownBase.prototype, \"locale\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"actionBegin\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"actionComplete\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"actionFailure\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"select\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"dataBound\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"created\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"destroyed\", void 0);\n  DropDownBase = __decorate([NotifyPropertyChanges], DropDownBase);\n  return DropDownBase;\n}(Component);\nexport { DropDownBase };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","EventHandler","addClass","append","Property","Event","L10n","compile","setStyleAttribute","extend","removeClass","prepend","isNullOrUndefined","detach","getValue","NotifyPropertyChanges","rippleEffect","ChildProperty","Complex","DataManager","Query","DataUtil","ListBase","select","selectAll","FieldSettings","_super","apply","dropDownBaseClasses","root","rtl","content","selected","hover","noData","fixedHead","focus","li","group","disabled","grouping","ITEMTEMPLATE_PROPERTY","VALUETEMPLATE_PROPERTY","GROUPTEMPLATE_PROPERTY","HEADERTEMPLATE_PROPERTY","FOOTERTEMPLATE_PROPERTY","NORECORDSTEMPLATE_PROPERTY","ACTIONFAILURETEMPLATE_PROPERTY","HIDE_GROUPLIST","DropDownBase","options","element","_this","call","preventChange","isAngular","isPreventChange","isDynamicDataChange","getPropObject","prop","newProp","oldProp","newProperty","oldProperty","propName","data","getValueByText","text","ignoreCase","ignoreAccent","value","listData","checkValueCase","isTextByValue","dataSource","fields","type","typeOfData","typeof","_i","dataSource_1","item","checkingAccent","String","checkIgnoreCase","getItemValue","checkNonIgnoreCase","filter","itemValue","toString","compareValue_1","dataItem","ignoreDiacritics","textItem","toLowerCase","typedText","getFormattedValue","templateCompiler","baseTemplate","checkTemplate","document","exception","l10nUpdate","actionFailure","ele","getModuleName","ulElement","list","noRecordsTemplate","actionFailureTemplate","template","compiledString","templateId","actionFailureTemplateId","noRecordsTemplateId","innerHTML","tempaltecheck","trim","templateName","noDataCompTemp","isStringTemplate","appendChild","renderReactTemplates","l10nLocale","componentLocale","getLocaleName","locale","getConstant","l10n","liElem","createElement","textContent","classList","add","getTextByValue","parseFloat","setEnableRtl","enableRtlElements","push","enableRtl","initialize","bindEvent","id","tagName","jsonElement","createJsonFromElement","setProperties","resetList","renderItemsBySelect","setListData","query","getPersistData","addOnPersist","setEnabled","setAttribute","enabled","updateDataAttribute","invalidAttr","attr","a","attributes","indexOf","name","getAttribute","htmlAttributes","querySelectorAll","option","getJSONfromOption","optionGroup","label","isHeader","child","updateFields","groupBy","iconCss","field","items","options_1","json","innerText","preRender","scrollTimer","isRequested","isDataFetched","itemTemplateId","valueTemplateId","groupTemplateId","headerTemplateId","footerTemplateId","isActive","eventArgs","cancel","trigger","showSpinner","emptyDataRequest","executeQuery","getQuery","then","e","listItems","result","renderItems","onActionComplete","groupTemplate","renderGroupTemplate","bindChildItems","catch","onActionFailure","hideSpinner","dataManager","executeLocal","localDataArgs","setTimeout","itemTemplate","childElementCount","children","updateDataList","childNode","remainingItems","sortedData","liCollections","updateListValues","raiseDataBound","findListElement","findNode","attribute","liElement","listArr","slice","index","dataBoundEventArgs","spliceData","skip","listElements","templateListItem","childNodes","createListItemFromArray","listOption","createListItemFromJson","isReact","clearTemplate","fixedHeaderElement","properties","allowCustomValue","contains","querySelector","postRender","listElement","focusItem","selectedItem","remove","listEle","groupTemplateID","headerItems","groupcheck","groupValue","tempHeaders","isGroupChecking","notify","module","createListItems","sortOrder","getSortedDataSource","groupDataSource","take","createList","fieldValues","showIcon","ariaAttributes","groupItemRole","setFloatingHeader","className","style","display","setFixedHeader","zIndex","scrollStop","liHeight","parseInt","getComputedStyle","getValidLi","getPropertyValue","topIndex","Math","round","scrollTop","currentLi","top","templateID","itemcheck","renderContentTemplate","listDataType","isNullData","parentElement","borderWidth","defaultView","isNaN","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","liWidth","offsetWidth","width","firstLi","textField","getDataSource","addSorting","getIndexByValue","getItems","dispatchEvent","evt","createEvent","initEvent","setFields","selectData","updateSelectElementData","isFiltering","updateSelection","renderList","render","updateDataSource","props","setUpdateInitial","updateData","j","keys","onPropertyChanged","_a","setZIndex","isEmptyData","attrs","rippleModel","duration","selector","rippleFun","wrapperElement","insertBefore","addItem","itemIndex","newList","itemsCount","selectedItemValue","itemText","itemCheck","addItemTemplate","createTextNode","updateActionCompleteData","updateAddItemList","listGroupItem","parentNode","tempLi","splice","validationAttribute","hidden","removeAttribute","itemCount","getDataByValue","_b","_c","destroy","body"],"sources":["C:/Users/Josh/Desktop/School-work/admin_dash/Admin_Dashboard/node_modules/@syncfusion/ej2-dropdowns/src/drop-down-base/drop-down-base.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, addClass, append, Property, Event, L10n, compile } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, extend, removeClass, prepend, isNullOrUndefined, detach, getValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, rippleEffect, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { DataManager, Query, DataUtil } from '@syncfusion/ej2-data';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { select, selectAll } from '@syncfusion/ej2-base';\nvar FieldSettings = /** @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"groupBy\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"htmlAttributes\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nexport { FieldSettings };\nexport var dropDownBaseClasses = {\n    root: 'e-dropdownbase',\n    rtl: 'e-rtl',\n    content: 'e-content',\n    selected: 'e-active',\n    hover: 'e-hover',\n    noData: 'e-nodata',\n    fixedHead: 'e-fixed-head',\n    focus: 'e-item-focus',\n    li: 'e-list-item',\n    group: 'e-list-group-item',\n    disabled: 'e-disabled',\n    grouping: 'e-dd-group'\n};\nvar ITEMTEMPLATE_PROPERTY = 'ItemTemplate';\nvar VALUETEMPLATE_PROPERTY = 'ValueTemplate';\nvar GROUPTEMPLATE_PROPERTY = 'GroupTemplate';\nvar HEADERTEMPLATE_PROPERTY = 'HeaderTemplate';\nvar FOOTERTEMPLATE_PROPERTY = 'FooterTemplate';\nvar NORECORDSTEMPLATE_PROPERTY = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE_PROPERTY = 'ActionFailureTemplate';\nvar HIDE_GROUPLIST = 'e-hide-group-header';\n/**\n * DropDownBase component will generate the list items based on given data and act as base class to drop-down related components\n */\nvar DropDownBase = /** @class */ (function (_super) {\n    __extends(DropDownBase, _super);\n    /**\n     * * Constructor for DropDownBase class\n     *\n     * @param {DropDownBaseModel} options - Specifies the DropDownBase model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DropDownBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        _this.isPreventChange = false;\n        _this.isDynamicDataChange = false;\n        return _this;\n    }\n    DropDownBase.prototype.getPropObject = function (prop, newProp, oldProp) {\n        var newProperty = new Object();\n        var oldProperty = new Object();\n        var propName = function (prop) {\n            return prop;\n        };\n        newProperty[propName(prop)] = newProp[propName(prop)];\n        oldProperty[propName(prop)] = oldProp[propName(prop)];\n        var data = new Object();\n        data.newProperty = newProperty;\n        data.oldProperty = oldProperty;\n        return data;\n    };\n    DropDownBase.prototype.getValueByText = function (text, ignoreCase, ignoreAccent) {\n        var value = null;\n        if (!isNullOrUndefined(this.listData)) {\n            if (ignoreCase) {\n                value = this.checkValueCase(text, true, ignoreAccent);\n            }\n            else {\n                value = this.checkValueCase(text, false, ignoreAccent);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkValueCase = function (text, ignoreCase, ignoreAccent, isTextByValue) {\n        var _this = this;\n        var value = null;\n        if (isTextByValue) {\n            value = text;\n        }\n        var dataSource = this.listData;\n        var fields = this.fields;\n        var type = this.typeOfData(dataSource).typeof;\n        if (type === 'string' || type === 'number' || type === 'boolean') {\n            for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n                var item = dataSource_1[_i];\n                if (!isNullOrUndefined(item)) {\n                    if (ignoreAccent) {\n                        value = this.checkingAccent(String(item), text, ignoreCase);\n                    }\n                    else {\n                        if (ignoreCase) {\n                            if (this.checkIgnoreCase(String(item), text)) {\n                                value = this.getItemValue(String(item), text, ignoreCase);\n                            }\n                        }\n                        else {\n                            if (this.checkNonIgnoreCase(String(item), text)) {\n                                value = this.getItemValue(String(item), text, ignoreCase, isTextByValue);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (ignoreCase) {\n                dataSource.filter(function (item) {\n                    var itemValue = getValue(fields.value, item);\n                    if (!isNullOrUndefined(itemValue) && _this.checkIgnoreCase(getValue(fields.text, item).toString(), text)) {\n                        value = getValue(fields.value, item);\n                    }\n                });\n            }\n            else {\n                if (isTextByValue) {\n                    var compareValue_1 = null;\n                    compareValue_1 = value;\n                    dataSource.filter(function (item) {\n                        var itemValue = getValue(fields.value, item);\n                        if (!isNullOrUndefined(itemValue) && !isNullOrUndefined(value) && itemValue.toString() === compareValue_1.toString()) {\n                            value = getValue(fields.text, item);\n                        }\n                    });\n                }\n                else {\n                    dataSource.filter(function (item) {\n                        if (_this.checkNonIgnoreCase(getValue(fields.text, item), text)) {\n                            value = getValue(fields.value, item);\n                        }\n                    });\n                }\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkingAccent = function (item, text, ignoreCase) {\n        var dataItem = DataUtil.ignoreDiacritics(String(item));\n        var textItem = DataUtil.ignoreDiacritics(text.toString());\n        var value = null;\n        if (ignoreCase) {\n            if (this.checkIgnoreCase(dataItem, textItem)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        else {\n            if (this.checkNonIgnoreCase(String(item), text)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkIgnoreCase = function (item, text) {\n        return String(item).toLowerCase() === text.toString().toLowerCase() ? true : false;\n    };\n    DropDownBase.prototype.checkNonIgnoreCase = function (item, text) {\n        return String(item) === text.toString() ? true : false;\n    };\n    DropDownBase.prototype.getItemValue = function (dataItem, typedText, ignoreCase, isTextByValue) {\n        var value = null;\n        var dataSource = this.listData;\n        var type = this.typeOfData(dataSource).typeof;\n        if (isTextByValue) {\n            value = dataItem.toString();\n        }\n        else {\n            if (ignoreCase) {\n                value = type === 'string' ? String(dataItem) : this.getFormattedValue(String(dataItem));\n            }\n            else {\n                value = type === 'string' ? typedText : this.getFormattedValue(typedText);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.templateCompiler = function (baseTemplate) {\n        var checkTemplate = false;\n        if (baseTemplate) {\n            try {\n                checkTemplate = (selectAll(baseTemplate, document).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    DropDownBase.prototype.l10nUpdate = function (actionFailure) {\n        var ele = this.getModuleName() === 'listbox' ? this.ulElement : this.list;\n        if (this.noRecordsTemplate !== 'No records found' || this.actionFailureTemplate !== 'Request failed') {\n            var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n            var compiledString = void 0;\n            var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n            ele.innerHTML = '';\n            var tempaltecheck = this.templateCompiler(template);\n            if (tempaltecheck) {\n                compiledString = compile(select(template, document).innerHTML.trim());\n            }\n            else {\n                compiledString = compile(template);\n            }\n            var templateName = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var noDataCompTemp = compiledString({}, this, templateName, templateId, this.isStringTemplate, null, ele);\n            if (noDataCompTemp && noDataCompTemp.length > 0) {\n                for (var i = 0; i < noDataCompTemp.length; i++) {\n                    ele.appendChild(noDataCompTemp[i]);\n                }\n            }\n            this.renderReactTemplates();\n        }\n        else {\n            var l10nLocale = { noRecordsTemplate: 'No records found', actionFailureTemplate: 'Request failed' };\n            var componentLocale = new L10n(this.getLocaleName(), {}, this.locale);\n            if (componentLocale.getConstant('actionFailureTemplate') !== '') {\n                this.l10n = componentLocale;\n            }\n            else {\n                this.l10n = new L10n(this.getModuleName() === 'listbox' ? 'listbox' : 'dropdowns', l10nLocale, this.locale);\n            }\n            var content = actionFailure ?\n                this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n            if (this.getModuleName() === 'listbox') {\n                var liElem = this.createElement('li');\n                liElem.textContent = content;\n                ele.appendChild(liElem);\n                liElem.classList.add('e-list-nrt');\n            }\n            else {\n                ele.innerHTML = content;\n            }\n        }\n    };\n    DropDownBase.prototype.getLocaleName = function () {\n        return 'drop-down-base';\n    };\n    DropDownBase.prototype.getTextByValue = function (value) {\n        var text = this.checkValueCase(value, false, false, true);\n        return text;\n    };\n    DropDownBase.prototype.getFormattedValue = function (value) {\n        if (this.listData && this.listData.length) {\n            var item = this.typeOfData(this.listData);\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'number'\n                || item.typeof === 'number') {\n                return parseFloat(value);\n            }\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'boolean'\n                || item.typeof === 'boolean') {\n                return ((value === 'true') || ('' + value === 'true'));\n            }\n        }\n        return value;\n    };\n    /**\n     * Sets RTL to dropdownbase wrapper\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.setEnableRtl = function () {\n        if (this.list) {\n            this.enableRtlElements.push(this.list);\n        }\n        if (this.enableRtl) {\n            addClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n        }\n        else {\n            removeClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n        }\n    };\n    /**\n     * Initialize the Component.\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.initialize = function () {\n        this.bindEvent = true;\n        this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE_PROPERTY;\n        if (this.element.tagName === 'UL') {\n            var jsonElement = ListBase.createJsonFromElement(this.element);\n            this.setProperties({ fields: { text: 'text', value: 'text' } }, true);\n            this.resetList(jsonElement, this.fields);\n        }\n        else if (this.element.tagName === 'SELECT') {\n            var dataSource = this.dataSource instanceof Array ? (this.dataSource.length > 0 ? true : false)\n                : !isNullOrUndefined(this.dataSource) ? true : false;\n            if (!dataSource) {\n                this.renderItemsBySelect();\n            }\n            else if (this.isDynamicDataChange) {\n                this.setListData(this.dataSource, this.fields, this.query);\n            }\n        }\n        else {\n            this.setListData(this.dataSource, this.fields, this.query);\n        }\n    };\n    /**\n     * Get the properties to be maintained in persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    DropDownBase.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.setEnabled = function () {\n        this.element.setAttribute('aria-disabled', (this.enabled) ? 'false' : 'true');\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @param {string} value - Specifies the attribute values to add on the input element.\n     * @returns {void}\n     */\n    DropDownBase.prototype.updateDataAttribute = function (value) {\n        var invalidAttr = ['class', 'style', 'id', 'type'];\n        var attr = {};\n        for (var a = 0; a < this.element.attributes.length; a++) {\n            if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 &&\n                !(this.getModuleName() === 'dropdownlist' && this.element.attributes[a].name === 'readonly')) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        extend(attr, value, attr);\n        this.setProperties({ htmlAttributes: attr }, true);\n    };\n    DropDownBase.prototype.renderItemsBySelect = function () {\n        var element = this.element;\n        var fields = { value: 'value', text: 'text' };\n        var jsonElement = [];\n        var group = element.querySelectorAll('select>optgroup');\n        var option = element.querySelectorAll('select>option');\n        this.getJSONfromOption(jsonElement, option, fields);\n        if (group.length) {\n            for (var i = 0; i < group.length; i++) {\n                var item = group[i];\n                var optionGroup = {};\n                optionGroup[fields.text] = item.label;\n                optionGroup.isHeader = true;\n                var child = item.querySelectorAll('option');\n                jsonElement.push(optionGroup);\n                this.getJSONfromOption(jsonElement, child, fields);\n            }\n            element.querySelectorAll('select>option');\n        }\n        this.updateFields(fields.text, fields.value, this.fields.groupBy, this.fields.htmlAttributes, this.fields.iconCss);\n        this.resetList(jsonElement, fields);\n    };\n    DropDownBase.prototype.updateFields = function (text, value, groupBy, htmlAttributes, iconCss) {\n        var field = {\n            'fields': {\n                text: text,\n                value: value,\n                groupBy: !isNullOrUndefined(groupBy) ? groupBy : this.fields && this.fields.groupBy,\n                htmlAttributes: !isNullOrUndefined(htmlAttributes) ? htmlAttributes : this.fields && this.fields.htmlAttributes,\n                iconCss: !isNullOrUndefined(iconCss) ? iconCss : this.fields && this.fields.iconCss\n            }\n        };\n        this.setProperties(field, true);\n    };\n    DropDownBase.prototype.getJSONfromOption = function (items, options, fields) {\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var option = options_1[_i];\n            var json = {};\n            json[fields.text] = option.innerText;\n            json[fields.value] = !isNullOrUndefined(option.getAttribute(fields.value)) ?\n                option.getAttribute(fields.value) : option.innerText;\n            items.push(json);\n        }\n    };\n    /**\n     * Execute before render the list items\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownBase.prototype.preRender = function () {\n        // there is no event handler\n        this.scrollTimer = -1;\n        this.enableRtlElements = [];\n        this.isRequested = false;\n        this.isDataFetched = false;\n        this.itemTemplateId = \"\" + this.element.id + ITEMTEMPLATE_PROPERTY;\n        this.valueTemplateId = \"\" + this.element.id + VALUETEMPLATE_PROPERTY;\n        this.groupTemplateId = \"\" + this.element.id + GROUPTEMPLATE_PROPERTY;\n        this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE_PROPERTY;\n        this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE_PROPERTY;\n        this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE_PROPERTY;\n    };\n    /**\n     * Creates the list items of DropDownBase component.\n     *\n     * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @returns {void}\n     */\n    DropDownBase.prototype.setListData = function (dataSource, fields, query) {\n        var _this = this;\n        fields = fields ? fields : this.fields;\n        var ulElement;\n        this.isActive = true;\n        var eventArgs = { cancel: false, data: dataSource, query: query };\n        this.isPreventChange = this.isAngular && this.preventChange ? true : this.isPreventChange;\n        this.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                _this.showSpinner();\n                if (dataSource instanceof DataManager) {\n                    _this.isRequested = true;\n                    if (_this.isDataFetched) {\n                        _this.emptyDataRequest(fields);\n                        return;\n                    }\n                    eventArgs.data.executeQuery(_this.getQuery(eventArgs.query)).then(function (e) {\n                        _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n                        _this.trigger('actionComplete', e, function (e) {\n                            if (!e.cancel) {\n                                var listItems = e.result;\n                                if (listItems.length === 0) {\n                                    _this.isDataFetched = true;\n                                }\n                                ulElement = _this.renderItems(listItems, fields);\n                                _this.onActionComplete(ulElement, listItems, e);\n                                if (_this.groupTemplate) {\n                                    _this.renderGroupTemplate(ulElement);\n                                }\n                                _this.isRequested = false;\n                                _this.bindChildItems(listItems, ulElement, fields, e);\n                            }\n                        });\n                    }).catch(function (e) {\n                        _this.isRequested = false;\n                        _this.onActionFailure(e);\n                        _this.hideSpinner();\n                    });\n                }\n                else {\n                    var dataManager = new DataManager(eventArgs.data);\n                    var listItems = (_this.getQuery(eventArgs.query)).executeLocal(dataManager);\n                    var localDataArgs = { cancel: false, result: listItems };\n                    _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n                    _this.trigger('actionComplete', localDataArgs, function (localDataArgs) {\n                        if (!localDataArgs.cancel) {\n                            ulElement = _this.renderItems(localDataArgs.result, fields);\n                            _this.onActionComplete(ulElement, localDataArgs.result);\n                            if (_this.groupTemplate) {\n                                _this.renderGroupTemplate(ulElement);\n                            }\n                            _this.bindChildItems(localDataArgs.result, ulElement, fields);\n                            setTimeout(function () {\n                                if (_this.getModuleName() === 'multiselect' && _this.itemTemplate != null && (ulElement.childElementCount > 0 && (ulElement.children[0].childElementCount > 0 || (_this.fields.groupBy && ulElement.children[1] && ulElement.children[1].childElementCount > 0)))) {\n                                    _this.updateDataList();\n                                }\n                            });\n                        }\n                    });\n                }\n            }\n        });\n    };\n    DropDownBase.prototype.bindChildItems = function (listItems, ulElement, fields, e) {\n        var _this = this;\n        if (listItems.length >= 100 && this.getModuleName() === 'autocomplete') {\n            setTimeout(function () {\n                var childNode = _this.remainingItems(_this.sortedData, fields);\n                append(childNode, ulElement);\n                _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                _this.updateListValues();\n                _this.raiseDataBound(listItems, e);\n            }, 0);\n        }\n        else {\n            this.raiseDataBound(listItems, e);\n        }\n    };\n    DropDownBase.prototype.updateListValues = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.findListElement = function (list, findNode, attribute, value) {\n        var liElement = null;\n        if (list) {\n            var listArr = [].slice.call(list.querySelectorAll(findNode));\n            for (var index = 0; index < listArr.length; index++) {\n                if (listArr[index].getAttribute(attribute) === (value + '')) {\n                    liElement = listArr[index];\n                    break;\n                }\n            }\n        }\n        return liElement;\n    };\n    DropDownBase.prototype.raiseDataBound = function (listItems, e) {\n        this.hideSpinner();\n        var dataBoundEventArgs = {\n            items: listItems,\n            e: e\n        };\n        this.trigger('dataBound', dataBoundEventArgs);\n    };\n    DropDownBase.prototype.remainingItems = function (dataSource, fields) {\n        var spliceData = new DataManager(dataSource).executeLocal(new Query().skip(100));\n        if (this.itemTemplate) {\n            var listElements = this.templateListItem(spliceData, fields);\n            return [].slice.call(listElements.childNodes);\n        }\n        var type = this.typeOfData(spliceData).typeof;\n        if (type === 'string' || type === 'number' || type === 'boolean') {\n            return ListBase.createListItemFromArray(this.createElement, spliceData, true, this.listOption(spliceData, fields), this);\n        }\n        return ListBase.createListItemFromJson(this.createElement, spliceData, this.listOption(spliceData, fields), 1, true, this);\n    };\n    DropDownBase.prototype.emptyDataRequest = function (fields) {\n        var listItems = [];\n        this.onActionComplete(this.renderItems(listItems, fields), listItems);\n        this.isRequested = false;\n        this.hideSpinner();\n    };\n    DropDownBase.prototype.showSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.hideSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.onActionFailure = function (e) {\n        this.liCollections = [];\n        this.trigger('actionFailure', e);\n        this.l10nUpdate(true);\n        addClass([this.list], dropDownBaseClasses.noData);\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    DropDownBase.prototype.onActionComplete = function (ulElement, list, e) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        this.listData = list;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['itemTemplate', 'groupTemplate', 'actionFailureTemplate', 'noRecordsTemplate']);\n        }\n        this.fixedHeaderElement = isNullOrUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement : null;\n        if (this.getModuleName() === 'multiselect' && this.properties.allowCustomValue && this.fields.groupBy) {\n            for (var i = 0; i < ulElement.childElementCount; i++) {\n                if (ulElement.children[i].classList.contains('e-list-group-item')) {\n                    if (isNullOrUndefined(ulElement.children[i].innerHTML) || ulElement.children[i].innerHTML == \"\") {\n                        addClass([ulElement.children[i]], HIDE_GROUPLIST);\n                    }\n                }\n            }\n        }\n        if (!isNullOrUndefined(this.list)) {\n            this.list.innerHTML = '';\n            this.list.appendChild(ulElement);\n            this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n            this.ulElement = this.list.querySelector('ul');\n            this.postRender(this.list, list, this.bindEvent);\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    DropDownBase.prototype.postRender = function (listElement, list, bindEvent) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        var focusItem = listElement.querySelector('.' + dropDownBaseClasses.li);\n        var selectedItem = listElement.querySelector('.' + dropDownBaseClasses.selected);\n        if (focusItem && !selectedItem) {\n            focusItem.classList.add(dropDownBaseClasses.focus);\n        }\n        if (list.length <= 0) {\n            this.l10nUpdate();\n            addClass([listElement], dropDownBaseClasses.noData);\n        }\n        else {\n            listElement.classList.remove(dropDownBaseClasses.noData);\n        }\n    };\n    /**\n     * Get the query to do the data operation before list item generation.\n     *\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @returns {Query} Returns the query to do the data query operation.\n     */\n    DropDownBase.prototype.getQuery = function (query) {\n        return query ? query : this.query ? this.query : new Query();\n    };\n    /**\n     * To render the template content for group header element.\n     *\n     * @param {HTMLElement} listEle - Specifies the group list elements.\n     * @returns {void}\n     */\n    DropDownBase.prototype.renderGroupTemplate = function (listEle) {\n        if (this.fields.groupBy !== null && this.dataSource || this.element.querySelector('.' + dropDownBaseClasses.group)) {\n            var dataSource = this.dataSource;\n            var option = { groupTemplateID: this.groupTemplateId, isStringTemplate: this.isStringTemplate };\n            var headerItems = listEle.querySelectorAll('.' + dropDownBaseClasses.group);\n            var groupcheck = this.templateCompiler(this.groupTemplate);\n            if (groupcheck) {\n                var groupValue = select(this.groupTemplate, document).innerHTML.trim();\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                var tempHeaders = ListBase.renderGroupTemplate(groupValue, dataSource, this.fields.properties, headerItems, option, this);\n                //EJ2-55168- Group checkbox is not working with group template\n                if (this.isGroupChecking) {\n                    for (var i = 0; i < tempHeaders.length; i++) {\n                        this.notify('addItem', { module: 'CheckBoxSelection', item: tempHeaders[i] });\n                    }\n                }\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                var tempHeaders = ListBase.renderGroupTemplate(this.groupTemplate, dataSource, this.fields.properties, headerItems, option, this);\n                //EJ2-55168- Group checkbox is not working with group template\n                if (this.isGroupChecking) {\n                    for (var i = 0; i < tempHeaders.length; i++) {\n                        this.notify('addItem', { module: 'CheckBoxSelection', item: tempHeaders[i] });\n                    }\n                }\n            }\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To create the ul li list items\n     *\n     * @param {object []} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @returns {HTMLElement} Return the ul li list items.\n     */\n    DropDownBase.prototype.createListItems = function (dataSource, fields) {\n        if (dataSource && fields.groupBy || this.element.querySelector('optgroup')) {\n            if (fields.groupBy) {\n                if (this.sortOrder !== 'None') {\n                    dataSource = this.getSortedDataSource(dataSource);\n                }\n                dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n            }\n            addClass([this.list], dropDownBaseClasses.grouping);\n        }\n        else {\n            dataSource = this.getSortedDataSource(dataSource);\n        }\n        var options = this.listOption(dataSource, fields);\n        var spliceData = (dataSource.length > 100) ?\n            new DataManager(dataSource).executeLocal(new Query().take(100))\n            : dataSource;\n        this.sortedData = dataSource;\n        return ListBase.createList(this.createElement, (this.getModuleName() === 'autocomplete') ? spliceData : dataSource, options, true, this);\n    };\n    DropDownBase.prototype.listOption = function (dataSource, fields) {\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n        var fieldValues = !isNullOrUndefined(fields.properties) ?\n            fields.properties : fields;\n        var options = (fields.text !== null || fields.value !== null) ? {\n            fields: fieldValues,\n            showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\n        } : { fields: { value: 'text' } };\n        return extend({}, options, fields, true);\n    };\n    DropDownBase.prototype.setFloatingHeader = function (e) {\n        if (isNullOrUndefined(this.fixedHeaderElement)) {\n            this.fixedHeaderElement = this.createElement('div', { className: dropDownBaseClasses.fixedHead });\n            if (!this.list.querySelector('li').classList.contains(dropDownBaseClasses.group)) {\n                this.fixedHeaderElement.style.display = 'none';\n            }\n            prepend([this.fixedHeaderElement], this.list);\n            this.setFixedHeader();\n        }\n        if (!isNullOrUndefined(this.fixedHeaderElement) && this.fixedHeaderElement.style.zIndex === '0') {\n            this.setFixedHeader();\n        }\n        this.scrollStop(e);\n    };\n    DropDownBase.prototype.scrollStop = function (e) {\n        var target = !isNullOrUndefined(e) ? e.target : this.list;\n        var liHeight = parseInt(getComputedStyle(this.getValidLi(), null).getPropertyValue('height'), 10);\n        var topIndex = Math.round(target.scrollTop / liHeight);\n        var liCollections = this.list.querySelectorAll('li' + ':not(.e-hide-listitem)');\n        for (var i = topIndex; i > -1; i--) {\n            if (!isNullOrUndefined(liCollections[i]) && liCollections[i].classList.contains(dropDownBaseClasses.group)) {\n                var currentLi = liCollections[i];\n                this.fixedHeaderElement.innerHTML = currentLi.innerHTML;\n                this.fixedHeaderElement.style.top = target.scrollTop + 'px';\n                this.fixedHeaderElement.style.display = 'block';\n                break;\n            }\n            else {\n                this.fixedHeaderElement.style.display = 'none';\n                this.fixedHeaderElement.style.top = 'none';\n            }\n        }\n    };\n    DropDownBase.prototype.getValidLi = function () {\n        return this.liCollections[0];\n    };\n    /**\n     * To render the list items\n     *\n     * @param {object[]} listData - Specifies the list of array of data.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @returns {HTMLElement} Return the list items.\n     */\n    DropDownBase.prototype.renderItems = function (listData, fields) {\n        var ulElement;\n        if (this.itemTemplate && listData) {\n            var dataSource = listData;\n            if (dataSource && fields.groupBy) {\n                if (this.sortOrder !== 'None') {\n                    dataSource = this.getSortedDataSource(dataSource);\n                }\n                dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n            }\n            else {\n                dataSource = this.getSortedDataSource(dataSource);\n            }\n            this.sortedData = dataSource;\n            var spliceData = (dataSource.length > 100) ?\n                new DataManager(dataSource).executeLocal(new Query().take(100))\n                : dataSource;\n            ulElement = this.templateListItem((this.getModuleName() === 'autocomplete') ? spliceData : dataSource, fields);\n        }\n        else {\n            ulElement = this.createListItems(listData, fields);\n        }\n        return ulElement;\n    };\n    DropDownBase.prototype.templateListItem = function (dataSource, fields) {\n        var option = this.listOption(dataSource, fields);\n        option.templateID = this.itemTemplateId;\n        option.isStringTemplate = this.isStringTemplate;\n        var itemcheck = this.templateCompiler(this.itemTemplate);\n        if (itemcheck) {\n            var itemValue = select(this.itemTemplate, document).innerHTML.trim();\n            return ListBase.renderContentTemplate(this.createElement, itemValue, dataSource, fields.properties, option, this);\n        }\n        else {\n            return ListBase.renderContentTemplate(this.createElement, this.itemTemplate, dataSource, fields.properties, option, this);\n        }\n    };\n    DropDownBase.prototype.typeOfData = function (items) {\n        var item = { typeof: null, item: null };\n        for (var i = 0; (!isNullOrUndefined(items) && i < items.length); i++) {\n            if (!isNullOrUndefined(items[i])) {\n                var listDataType = typeof (items[i]) === 'string' ||\n                    typeof (items[i]) === 'number' || typeof (items[i]) === 'boolean';\n                var isNullData = listDataType ? isNullOrUndefined(items[i]) :\n                    isNullOrUndefined(getValue((this.fields.value ? this.fields.value : 'value'), items[i]));\n                if (!isNullData) {\n                    return item = { typeof: typeof items[i], item: items[i] };\n                }\n            }\n        }\n        return item;\n    };\n    DropDownBase.prototype.setFixedHeader = function () {\n        this.list.parentElement.style.display = 'block';\n        var borderWidth = 0;\n        if (this.list && this.list.parentElement) {\n            borderWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-width'), 10);\n            /*Shorthand property not working in Firefox for getComputedStyle method.\n            Refer bug report https://bugzilla.mozilla.org/show_bug.cgi?id=137688\n            Refer alternate solution https://stackoverflow.com/a/41696234/9133493*/\n            if (isNaN(borderWidth)) {\n                var borderTopWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-top-width'), 10);\n                var borderBottomWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-bottom-width'), 10);\n                var borderLeftWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-left-width'), 10);\n                var borderRightWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-right-width'), 10);\n                borderWidth = (borderTopWidth + borderBottomWidth + borderLeftWidth + borderRightWidth);\n            }\n        }\n        var liWidth = this.getValidLi().offsetWidth - borderWidth;\n        this.fixedHeaderElement.style.width = liWidth.toString() + 'px';\n        setStyleAttribute(this.fixedHeaderElement, { zIndex: 10 });\n        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group + ':not(.e-hide-listitem)');\n        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n    };\n    DropDownBase.prototype.getSortedDataSource = function (dataSource) {\n        if (dataSource && this.sortOrder !== 'None') {\n            var textField = this.fields.text ? this.fields.text : 'text';\n            if (this.typeOfData(dataSource).typeof === 'string' || this.typeOfData(dataSource).typeof === 'number'\n                || this.typeOfData(dataSource).typeof === 'boolean') {\n                textField = '';\n            }\n            dataSource = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, textField));\n        }\n        return dataSource;\n    };\n    /**\n     * Return the index of item which matched with given value in data source\n     *\n     * @param {string | number | boolean} value - Specifies given value.\n     * @returns {number} Returns the index of the item.\n     */\n    DropDownBase.prototype.getIndexByValue = function (value) {\n        var index;\n        var listItems = this.getItems();\n        for (var i = 0; i < listItems.length; i++) {\n            if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    };\n    /**\n     * To dispatch the event manually\n     *\n     * @param {HTMLElement} element - Specifies the element to dispatch the event.\n     * @param {string} type - Specifies the name of the event.\n     * @returns {void}\n     */\n    DropDownBase.prototype.dispatchEvent = function (element, type) {\n        var evt = document.createEvent('HTMLEvents');\n        evt.initEvent(type, false, true);\n        element.dispatchEvent(evt);\n    };\n    /**\n     * To set the current fields\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.setFields = function () {\n        if (this.fields.value && !this.fields.text) {\n            this.updateFields(this.fields.value, this.fields.value);\n        }\n        else if (!this.fields.value && this.fields.text) {\n            this.updateFields(this.fields.text, this.fields.text);\n        }\n        else if (!this.fields.value && !this.fields.text) {\n            this.updateFields('text', 'text');\n        }\n    };\n    /**\n     * reset the items list.\n     *\n     * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @returns {void}\n     */\n    DropDownBase.prototype.resetList = function (dataSource, fields, query) {\n        if (this.list) {\n            if ((this.element.tagName === 'SELECT' && this.element.options.length > 0)\n                || (this.element.tagName === 'UL' && this.element.childNodes.length > 0)) {\n                var data = dataSource instanceof Array ? (dataSource.length > 0)\n                    : !isNullOrUndefined(dataSource);\n                if (!data && this.selectData && this.selectData.length > 0) {\n                    dataSource = this.selectData;\n                }\n            }\n            this.setListData(dataSource, fields, query);\n        }\n    };\n    DropDownBase.prototype.updateSelectElementData = function (isFiltering) {\n        if (isFiltering && isNullOrUndefined(this.selectData) && this.listData && this.listData.length > 0) {\n            this.selectData = this.listData;\n        }\n    };\n    DropDownBase.prototype.updateSelection = function () {\n        // This is for after added the item, need to update the selected index values.\n    };\n    DropDownBase.prototype.renderList = function () {\n        // This is for render the list items.\n        this.render();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateDataSource = function (props) {\n        this.resetList(this.dataSource);\n    };\n    DropDownBase.prototype.setUpdateInitial = function (props, newProp) {\n        this.isDataFetched = false;\n        var updateData = {};\n        for (var j = 0; props.length > j; j++) {\n            if (newProp[props[j]] && props[j] === 'fields') {\n                this.setFields();\n                updateData[props[j]] = newProp[props[j]];\n            }\n            else if (newProp[props[j]]) {\n                updateData[props[j]] = newProp[props[j]];\n            }\n        }\n        if (Object.keys(updateData).length > 0) {\n            if (Object.keys(updateData).indexOf('dataSource') === -1) {\n                updateData.dataSource = this.dataSource;\n            }\n            this.updateDataSource(updateData);\n        }\n    };\n    /**\n     * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n     *\n     * @param {DropDownBaseModel} newProp - Returns the dynamic property value of the component.\n     * @param {DropDownBaseModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'dropdownbase') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        this.setUpdateInitial(['sortOrder', 'itemTemplate'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'sortOrder':\n                case 'dataSource':\n                case 'itemTemplate':\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'enabled':\n                    this.setEnabled();\n                    break;\n                case 'groupTemplate':\n                    this.renderGroupTemplate(this.list);\n                    if (this.ulElement && this.fixedHeaderElement) {\n                        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\n                        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n                    }\n                    break;\n                case 'locale':\n                    if (this.list && (!isNullOrUndefined(this.liCollections) && this.liCollections.length === 0)) {\n                        this.l10nUpdate();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    this.setZIndex();\n                    break;\n            }\n        }\n    };\n    /**\n     * Build and render the component\n     *\n     * @param {boolean} isEmptyData - Specifies the component to initialize with list data or not.\n     * @private\n     * @returns {void}\n     */\n    DropDownBase.prototype.render = function (isEmptyData) {\n        this.list = this.createElement('div', { className: dropDownBaseClasses.content, attrs: { 'tabindex': '0' } });\n        this.list.classList.add(dropDownBaseClasses.root);\n        this.setFields();\n        var rippleModel = { duration: 300, selector: '.' + dropDownBaseClasses.li };\n        this.rippleFun = rippleEffect(this.list, rippleModel);\n        var group = this.element.querySelector('select>optgroup');\n        if ((this.fields.groupBy || !isNullOrUndefined(group)) && !this.isGroupChecking) {\n            EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n        }\n        if (this.getModuleName() === 'dropdownbase') {\n            if (this.element.getAttribute('tabindex')) {\n                this.list.setAttribute('tabindex', this.element.getAttribute('tabindex'));\n            }\n            removeClass([this.element], dropDownBaseClasses.root);\n            this.element.style.display = 'none';\n            var wrapperElement = this.createElement('div');\n            this.element.parentElement.insertBefore(wrapperElement, this.element);\n            wrapperElement.appendChild(this.element);\n            wrapperElement.appendChild(this.list);\n        }\n        this.setEnableRtl();\n        this.setEnabled();\n        if (!isEmptyData) {\n            this.initialize();\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    DropDownBase.prototype.getModuleName = function () {\n        return 'dropdownbase';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     */\n    DropDownBase.prototype.getItems = function () {\n        return this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n\n     */\n    DropDownBase.prototype.addItem = function (items, itemIndex) {\n        if (!this.list || (this.list.textContent === this.noRecordsTemplate && this.getModuleName() !== 'listbox')) {\n            this.renderList();\n        }\n        if (this.sortOrder !== 'None' && isNullOrUndefined(itemIndex)) {\n            var newList = [].slice.call(this.listData);\n            newList.push(items);\n            newList = this.getSortedDataSource(newList);\n            if (this.fields.groupBy) {\n                newList = ListBase.groupDataSource(newList, this.fields.properties, this.sortOrder);\n                itemIndex = newList.indexOf(items);\n            }\n            else {\n                itemIndex = newList.indexOf(items);\n            }\n        }\n        var itemsCount = this.getItems().length;\n        var selectedItemValue = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        items = (items instanceof Array ? items : [items]);\n        var index;\n        index = (isNullOrUndefined(itemIndex) || itemIndex < 0 || itemIndex > itemsCount - 1) ? itemsCount : itemIndex;\n        var fields = this.fields;\n        if (items && fields.groupBy) {\n            items = ListBase.groupDataSource(items, fields.properties);\n        }\n        var liCollections = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            var isHeader = item.isHeader;\n            var li = this.createElement('li', { className: isHeader ? dropDownBaseClasses.group : dropDownBaseClasses.li, id: 'option-add-' + i });\n            var itemText = item instanceof Object ? getValue(fields.text, item) : item;\n            if (isHeader) {\n                li.innerText = itemText;\n            }\n            if (this.itemTemplate && !isHeader) {\n                var itemCheck = this.templateCompiler(this.itemTemplate);\n                var compiledString = itemCheck ? compile(select(this.itemTemplate, document).innerHTML.trim()) : compile(this.itemTemplate);\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var addItemTemplate = compiledString(item, this, 'itemTemplate', this.itemTemplateId, this.isStringTemplate, null, li);\n                if (addItemTemplate) {\n                    append(addItemTemplate, li);\n                }\n            }\n            else if (!isHeader) {\n                li.appendChild(document.createTextNode(itemText));\n            }\n            li.setAttribute('data-value', item instanceof Object ? getValue(fields.value, item) : item);\n            li.setAttribute('role', 'option');\n            this.notify('addItem', { module: 'CheckBoxSelection', item: li });\n            liCollections.push(li);\n            this.listData.push(item);\n            if (this.sortOrder === 'None' && isNullOrUndefined(itemIndex) && index === 0) {\n                index = null;\n            }\n            this.updateActionCompleteData(li, item, index);\n            //Listbox event\n            this.trigger('beforeItemRender', { element: li, item: item });\n        }\n        if (itemsCount === 0 && isNullOrUndefined(this.list.querySelector('ul'))) {\n            this.list.innerHTML = '';\n            this.list.classList.remove(dropDownBaseClasses.noData);\n            this.list.appendChild(this.ulElement);\n            this.liCollections = liCollections;\n            append(liCollections, this.ulElement);\n            this.updateAddItemList(this.list, itemsCount);\n        }\n        else {\n            if (this.getModuleName() === 'listbox' && itemsCount === 0) {\n                this.ulElement.innerHTML = '';\n            }\n            var attr = [];\n            for (var i = 0; i < items.length; i++) {\n                var listGroupItem = this.ulElement.querySelectorAll('.e-list-group-item');\n                for (var j = 0; j < listGroupItem.length; j++) {\n                    attr[j] = listGroupItem[j].innerText;\n                }\n                if (attr.indexOf(liCollections[i].innerText) > -1 && fields.groupBy) {\n                    for (var j = 0; j < listGroupItem.length; j++) {\n                        if (attr[j] === liCollections[i].innerText) {\n                            if (this.sortOrder === 'None') {\n                                this.ulElement.insertBefore(liCollections[i + 1], listGroupItem[j + 1]);\n                            }\n                            else {\n                                this.ulElement.insertBefore(liCollections[i + 1], this.ulElement.childNodes[itemIndex]);\n                            }\n                            i = i + 1;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    if (this.liCollections[index]) {\n                        this.liCollections[index].parentNode.insertBefore(liCollections[i], this.liCollections[index]);\n                    }\n                    else {\n                        this.ulElement.appendChild(liCollections[i]);\n                    }\n                }\n                var tempLi = [].slice.call(this.liCollections);\n                tempLi.splice(index, 0, liCollections[i]);\n                this.liCollections = tempLi;\n                index += 1;\n                if (this.getModuleName() === 'multiselect') {\n                    this.updateDataList();\n                }\n            }\n        }\n        if (selectedItemValue || itemIndex === 0) {\n            this.updateSelection();\n        }\n    };\n    DropDownBase.prototype.validationAttribute = function (target, hidden) {\n        var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        hidden.setAttribute('name', name);\n        target.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            if (!target.getAttribute(attributes[i])) {\n                continue;\n            }\n            var attr = target.getAttribute(attributes[i]);\n            hidden.setAttribute(attributes[i], attr);\n            target.removeAttribute(attributes[i]);\n        }\n    };\n    DropDownBase.prototype.setZIndex = function () {\n        // this is for component wise\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateActionCompleteData = function (li, item, index) {\n        // this is for ComboBox custom value\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateAddItemList = function (list, itemCount) {\n        // this is for multiselect add item\n    };\n    DropDownBase.prototype.updateDataList = function () {\n        // this is for multiselect update list items\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     */\n    DropDownBase.prototype.getDataByValue = function (value) {\n        if (!isNullOrUndefined(this.listData)) {\n            var type = this.typeOfData(this.listData).typeof;\n            if (type === 'string' || type === 'number' || type === 'boolean') {\n                for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    if (!isNullOrUndefined(item) && item === value) {\n                        return item;\n                    }\n                }\n            }\n            else {\n                for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    if (!isNullOrUndefined(item) && getValue((this.fields.value ? this.fields.value : 'value'), item) === value) {\n                        return item;\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownBase.prototype.destroy = function () {\n        if (document.body.contains(this.list)) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n            if (!isNullOrUndefined(this.rippleFun)) {\n                this.rippleFun();\n            }\n            detach(this.list);\n        }\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], DropDownBase.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownBase.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], DropDownBase.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property('Request failed')\n    ], DropDownBase.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property('None')\n    ], DropDownBase.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownBase.prototype, \"enabled\", void 0);\n    __decorate([\n        Property([])\n    ], DropDownBase.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"query\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], DropDownBase.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownBase.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(1000)\n    ], DropDownBase.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownBase.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property()\n    ], DropDownBase.prototype, \"locale\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"destroyed\", void 0);\n    DropDownBase = __decorate([\n        NotifyPropertyChanges\n    ], DropDownBase);\n    return DropDownBase;\n}(Component));\nexport { DropDownBase };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}