{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { EventHandler, Property, Event, compile, KeyboardEvents, append, select } from '@syncfusion/ej2-base';\nimport { attributes, isNullOrUndefined, getUniqueID, formatUnit, isUndefined, getValue } from '@syncfusion/ej2-base';\nimport { Animation, Browser, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, closest, prepend, detach, classList } from '@syncfusion/ej2-base';\nimport { Popup, isCollide, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { incrementalSearch, resetIncrementalSearchValues } from '../common/incremental-search';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { DataManager, Query, Predicate } from '@syncfusion/ej2-data';\n// don't use space in classnames\nexport var dropDownListClasses = {\n  root: 'e-dropdownlist',\n  hover: dropDownBaseClasses.hover,\n  selected: dropDownBaseClasses.selected,\n  rtl: dropDownBaseClasses.rtl,\n  li: dropDownBaseClasses.li,\n  disable: dropDownBaseClasses.disabled,\n  base: dropDownBaseClasses.root,\n  focus: dropDownBaseClasses.focus,\n  input: 'e-input-group',\n  inputFocus: 'e-input-focus',\n  icon: 'e-input-group-icon e-ddl-icon',\n  iconAnimation: 'e-icon-anim',\n  value: 'e-input-value',\n  device: 'e-ddl-device',\n  backIcon: 'e-input-group-icon e-back-icon e-icons',\n  filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n  filterInput: 'e-input-filter',\n  filterParent: 'e-filter-parent',\n  mobileFilter: 'e-ddl-device-filter',\n  footer: 'e-ddl-footer',\n  header: 'e-ddl-header',\n  clearIcon: 'e-clear-icon',\n  clearIconHide: 'e-clear-icon-hide',\n  popupFullScreen: 'e-popup-full-page',\n  disableIcon: 'e-ddl-disable-icon',\n  hiddenElement: 'e-ddl-hidden'\n};\nvar inputObject = {\n  container: null,\n  buttons: []\n};\n/**\n * The DropDownList component contains a list of predefined values from which you can\n * choose a single value.\n * ```html\n * <input type=\"text\" tabindex=\"1\" id=\"list\"> </input>\n * ```\n * ```typescript\n *   let dropDownListObj:DropDownList = new DropDownList();\n *   dropDownListObj.appendTo(\"#list\");\n * ```\n */\nvar DropDownList = /** @class */function (_super) {\n  __extends(DropDownList, _super);\n  /**\n   * * Constructor for creating the DropDownList component.\n   *\n   * @param {DropDownListModel} options - Specifies the DropDownList model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function DropDownList(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.isListSearched = false;\n    _this.preventChange = false;\n    _this.isAngular = false;\n    return _this;\n  }\n  /**\n   * Initialize the event handler.\n   *\n   * @private\n   * @returns {void}\n   */\n  DropDownList.prototype.preRender = function () {\n    this.valueTempElement = null;\n    this.element.style.opacity = '0';\n    this.initializeData();\n    _super.prototype.preRender.call(this);\n    this.activeIndex = this.index;\n    this.queryString = '';\n  };\n  DropDownList.prototype.initializeData = function () {\n    this.isPopupOpen = false;\n    this.isDocumentClick = false;\n    this.isInteracted = false;\n    this.isFilterFocus = false;\n    this.beforePopupOpen = false;\n    this.initial = true;\n    this.initRemoteRender = false;\n    this.isNotSearchList = false;\n    this.isTyped = false;\n    this.isSelected = false;\n    this.preventFocus = false;\n    this.preventAutoFill = false;\n    this.isValidKey = false;\n    this.typedString = '';\n    this.isEscapeKey = false;\n    this.isPreventBlur = false;\n    this.isTabKey = false;\n    this.actionCompleteData = {\n      isUpdated: false\n    };\n    this.actionData = {\n      isUpdated: false\n    };\n    this.prevSelectPoints = {};\n    this.isSelectCustom = false;\n    this.isDropDownClick = false;\n    this.preventAltUp = false;\n    this.isCustomFilter = false;\n    this.isSecondClick = false;\n    this.previousValue = null;\n    this.keyConfigure = {\n      tab: 'tab',\n      enter: '13',\n      escape: '27',\n      end: '35',\n      home: '36',\n      down: '40',\n      up: '38',\n      pageUp: '33',\n      pageDown: '34',\n      open: 'alt+40',\n      close: 'shift+tab',\n      hide: 'alt+38',\n      space: '32'\n    };\n  };\n  DropDownList.prototype.setZIndex = function () {\n    if (this.popupObj) {\n      this.popupObj.setProperties({\n        'zIndex': this.zIndex\n      });\n    }\n  };\n  DropDownList.prototype.renderList = function (isEmptyData) {\n    _super.prototype.render.call(this, isEmptyData);\n    this.unWireListEvents();\n    this.wireListEvents();\n  };\n  DropDownList.prototype.floatLabelChange = function () {\n    if (this.getModuleName() === 'dropdownlist' && this.floatLabelType === 'Auto') {\n      var floatElement = this.inputWrapper.container.querySelector('.e-float-text');\n      if (this.inputElement.value !== '' || this.isInteracted) {\n        classList(floatElement, ['e-label-top'], ['e-label-bottom']);\n      } else {\n        classList(floatElement, ['e-label-bottom'], ['e-label-top']);\n      }\n    }\n  };\n  DropDownList.prototype.resetHandler = function (e) {\n    e.preventDefault();\n    this.clearAll(e);\n  };\n  DropDownList.prototype.resetFocusElement = function () {\n    this.removeHover();\n    this.removeSelection();\n    this.removeFocus();\n    this.list.scrollTop = 0;\n    if (this.getModuleName() !== 'autocomplete' && !isNullOrUndefined(this.ulElement)) {\n      var li = this.ulElement.querySelector('.' + dropDownListClasses.li);\n      if (li) {\n        li.classList.add(dropDownListClasses.focus);\n      }\n    }\n  };\n  DropDownList.prototype.clearAll = function (e, properties) {\n    if (isNullOrUndefined(properties) || !isNullOrUndefined(properties) && (isNullOrUndefined(properties.dataSource) || !(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)) {\n      this.isActive = true;\n      this.resetSelection(properties);\n    }\n    var dataItem = this.getItemData();\n    if (this.previousValue === dataItem.value) {\n      return;\n    }\n    this.onChangeEvent(e);\n  };\n  DropDownList.prototype.resetSelection = function (properties) {\n    if (this.list) {\n      if (!isNullOrUndefined(properties) && (isNullOrUndefined(properties.dataSource) || !(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)) {\n        this.selectedLI = null;\n        this.actionCompleteData.isUpdated = false;\n        this.actionCompleteData.ulElement = null;\n        this.actionCompleteData.list = null;\n        this.resetList(properties.dataSource);\n      } else {\n        if (this.allowFiltering && this.getModuleName() !== 'autocomplete' && !isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list)) {\n          this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(true), this.actionCompleteData.list);\n        }\n        this.resetFocusElement();\n      }\n    }\n    this.hiddenElement.innerHTML = '';\n    this.inputElement.value = '';\n    this.value = null;\n    this.itemData = null;\n    this.text = null;\n    this.index = null;\n    this.activeIndex = null;\n    this.item = null;\n    this.queryString = '';\n    if (this.valueTempElement) {\n      detach(this.valueTempElement);\n      this.inputElement.style.display = 'block';\n      this.valueTempElement = null;\n    }\n    this.setSelection(null, null);\n    this.isSelectCustom = false;\n    this.updateIconState();\n    this.cloneElements();\n  };\n  DropDownList.prototype.setHTMLAttributes = function () {\n    if (Object.keys(this.htmlAttributes).length) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var htmlAttr = _a[_i];\n        if (htmlAttr === 'class') {\n          var updatedClassValue = this.htmlAttributes[htmlAttr].replace(/\\s+/g, ' ').trim();\n          if (updatedClassValue !== '') {\n            addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n          }\n        } else if (htmlAttr === 'disabled' && this.htmlAttributes[htmlAttr] === 'disabled') {\n          this.enabled = false;\n          this.setEnable();\n        } else if (htmlAttr === 'readonly' && !isNullOrUndefined(this.htmlAttributes[htmlAttr])) {\n          this.readonly = true;\n          this.dataBind();\n        } else if (htmlAttr === 'style') {\n          this.inputWrapper.container.setAttribute('style', this.htmlAttributes[htmlAttr]);\n        } else {\n          var defaultAttr = ['title', 'id', 'placeholder', 'aria-placeholder', 'role', 'autocorrect', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n          var validateAttr = ['name', 'required'];\n          if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n            defaultAttr.push('tabindex');\n          }\n          if (validateAttr.indexOf(htmlAttr) > -1 || htmlAttr.indexOf('data') === 0) {\n            this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n          } else if (defaultAttr.indexOf(htmlAttr) > -1) {\n            if (htmlAttr === 'placeholder') {\n              Input.setPlaceholder(this.htmlAttributes[htmlAttr], this.inputElement);\n            } else {\n              this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n            }\n          } else {\n            this.inputWrapper.container.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n          }\n        }\n      }\n    }\n    if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n      this.inputWrapper.container.removeAttribute('tabindex');\n    }\n  };\n  DropDownList.prototype.getAriaAttributes = function () {\n    return {\n      'aria-disabled': 'false',\n      'aria-owns': this.element.id + '_options',\n      'role': 'listbox',\n      'aria-haspopup': 'true',\n      'aria-expanded': 'false',\n      'aria-activedescendant': 'null',\n      'aria-live': 'polite',\n      'aria-labelledby': this.hiddenElement.id\n    };\n  };\n  DropDownList.prototype.setEnableRtl = function () {\n    Input.setEnableRtl(this.enableRtl, [this.inputElement.parentElement]);\n    if (this.popupObj) {\n      this.popupObj.enableRtl = this.enableRtl;\n      this.popupObj.dataBind();\n    }\n  };\n  DropDownList.prototype.setEnable = function () {\n    Input.setEnabled(this.enabled, this.inputElement);\n    if (this.enabled) {\n      removeClass([this.inputWrapper.container], dropDownListClasses.disable);\n      this.inputElement.setAttribute('aria-disabled', 'false');\n      this.targetElement().setAttribute('tabindex', this.tabIndex);\n    } else {\n      this.hidePopup();\n      addClass([this.inputWrapper.container], dropDownListClasses.disable);\n      this.inputElement.setAttribute('aria-disabled', 'true');\n      this.targetElement().tabIndex = -1;\n    }\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string} Returns the persisted data of the component.\n   */\n  DropDownList.prototype.getPersistData = function () {\n    return this.addOnPersist(['value']);\n  };\n  DropDownList.prototype.getLocaleName = function () {\n    return 'drop-down-list';\n  };\n  DropDownList.prototype.preventTabIndex = function (element) {\n    if (this.getModuleName() === 'dropdownlist') {\n      element.tabIndex = -1;\n    }\n  };\n  DropDownList.prototype.targetElement = function () {\n    return this.inputWrapper.container;\n  };\n  DropDownList.prototype.getNgDirective = function () {\n    return 'EJS-DROPDOWNLIST';\n  };\n  DropDownList.prototype.getElementByText = function (text) {\n    return this.getElementByValue(this.getValueByText(text));\n  };\n  DropDownList.prototype.getElementByValue = function (value) {\n    var item;\n    var listItems = this.getItems();\n    for (var _i = 0, listItems_1 = listItems; _i < listItems_1.length; _i++) {\n      var liItem = listItems_1[_i];\n      if (this.getFormattedValue(liItem.getAttribute('data-value')) === value) {\n        item = liItem;\n        break;\n      }\n    }\n    return item;\n  };\n  DropDownList.prototype.initValue = function () {\n    this.renderList();\n    if (this.dataSource instanceof DataManager) {\n      this.initRemoteRender = true;\n    } else {\n      this.updateValues();\n    }\n  };\n  DropDownList.prototype.updateValues = function () {\n    if (!isNullOrUndefined(this.value)) {\n      this.setSelection(this.getElementByValue(this.value), null);\n    } else if (this.text && isNullOrUndefined(this.value)) {\n      var element = this.getElementByText(this.text);\n      if (isNullOrUndefined(element)) {\n        this.setProperties({\n          text: null\n        });\n        return;\n      } else {\n        this.setSelection(element, null);\n      }\n    } else {\n      this.setSelection(this.liCollections[this.activeIndex], null);\n    }\n    this.setHiddenValue();\n    Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n  };\n  DropDownList.prototype.onBlurHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n    var target = e.relatedTarget;\n    var currentTarget = e.target;\n    var isPreventBlur = this.isPreventBlur;\n    this.isPreventBlur = false;\n    //IE 11 - issue\n    if (isPreventBlur && !this.isDocumentClick && this.isPopupOpen && (!isNullOrUndefined(currentTarget) || !this.isFilterLayout() && isNullOrUndefined(target))) {\n      if (this.getModuleName() === 'dropdownlist' && this.allowFiltering && this.isPopupOpen) {\n        this.filterInput.focus();\n      } else {\n        this.targetElement().focus();\n      }\n      return;\n    }\n    if (this.isDocumentClick || !isNullOrUndefined(this.popupObj) && document.body.contains(this.popupObj.element) && this.popupObj.element.classList.contains(dropDownListClasses.mobileFilter)) {\n      if (!this.beforePopupOpen) {\n        this.isDocumentClick = false;\n      }\n      return;\n    }\n    if (this.getModuleName() === 'dropdownlist' && !this.isFilterFocus && target !== this.inputElement && (document.activeElement !== target || document.activeElement === target && currentTarget.classList.contains(dropDownListClasses.inputFocus)) || isNullOrUndefined(target) && this.getModuleName() === 'dropdownlist' && this.allowFiltering && currentTarget !== this.inputWrapper.container || this.getModuleName() !== 'dropdownlist' && !this.inputWrapper.container.contains(target) || this.isTabKey) {\n      this.isDocumentClick = this.isPopupOpen ? true : false;\n      this.focusOutAction(e);\n      this.isTabKey = false;\n    }\n    if (this.isRequested && !this.isPopupOpen && !this.isPreventBlur) {\n      this.isActive = false;\n      this.beforePopupOpen = false;\n    }\n  };\n  DropDownList.prototype.focusOutAction = function (e) {\n    this.isInteracted = false;\n    this.focusOut(e);\n    this.onFocusOut();\n  };\n  DropDownList.prototype.onFocusOut = function () {\n    if (!this.enabled) {\n      return;\n    }\n    if (this.isSelected) {\n      this.isSelectCustom = false;\n      this.onChangeEvent(null);\n    }\n    this.floatLabelChange();\n    this.dispatchEvent(this.hiddenElement, 'change');\n    if (this.getModuleName() === 'dropdownlist' && this.element.tagName !== 'INPUT') {\n      this.dispatchEvent(this.inputElement, 'blur');\n    }\n    if (this.inputWrapper.clearButton) {\n      addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n    }\n    this.trigger('blur');\n  };\n  DropDownList.prototype.onFocus = function (e) {\n    if (!this.isInteracted) {\n      this.isInteracted = true;\n      var args = {\n        isInteracted: e ? true : false,\n        event: e\n      };\n      this.trigger('focus', args);\n    }\n    this.updateIconState();\n  };\n  DropDownList.prototype.resetValueHandler = function (e) {\n    var formElement = closest(this.inputElement, 'form');\n    if (formElement && e.target === formElement) {\n      var val = this.element.tagName === this.getNgDirective() ? null : this.inputElement.getAttribute('value');\n      this.text = val;\n    }\n  };\n  DropDownList.prototype.wireEvent = function () {\n    EventHandler.add(this.inputWrapper.container, 'mousedown', this.dropDownClick, this);\n    EventHandler.add(this.inputWrapper.container, 'focus', this.focusIn, this);\n    EventHandler.add(this.inputWrapper.container, 'keypress', this.onSearch, this);\n    this.bindCommonEvent();\n  };\n  DropDownList.prototype.bindCommonEvent = function () {\n    EventHandler.add(this.targetElement(), 'blur', this.onBlurHandler, this);\n    var formElement = closest(this.inputElement, 'form');\n    if (formElement) {\n      EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n    }\n    if (!Browser.isDevice) {\n      this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n        keyAction: this.keyActionHandler.bind(this),\n        keyConfigs: this.keyConfigure,\n        eventName: 'keydown'\n      });\n    } else {\n      this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n        keyAction: this.mobileKeyActionHandler.bind(this),\n        keyConfigs: this.keyConfigure,\n        eventName: 'keydown'\n      });\n    }\n    this.bindClearEvent();\n  };\n  DropDownList.prototype.bindClearEvent = function () {\n    if (this.showClearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n    }\n  };\n  DropDownList.prototype.unBindCommonEvent = function () {\n    if (this.targetElement()) {\n      EventHandler.remove(this.targetElement(), 'blur', this.onBlurHandler);\n    }\n    var formElement = this.inputElement && closest(this.inputElement, 'form');\n    if (formElement) {\n      EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n    }\n    if (!Browser.isDevice) {\n      this.keyboardModule.destroy();\n    }\n    if (this.showClearButton) {\n      EventHandler.remove(this.inputWrapper.clearButton, 'mousedown', this.resetHandler);\n    }\n  };\n  DropDownList.prototype.updateIconState = function () {\n    if (this.showClearButton) {\n      if (this.inputElement.value !== '' && !this.readonly) {\n        removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n      } else {\n        addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n      }\n    }\n  };\n  /**\n   * Event binding for list\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.wireListEvents = function () {\n    EventHandler.add(this.list, 'click', this.onMouseClick, this);\n    EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n    EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n  };\n  DropDownList.prototype.onSearch = function (e) {\n    if (e.charCode !== 32 && e.charCode !== 13) {\n      if (this.list === undefined) {\n        this.renderList();\n      }\n      this.searchKeyEvent = e;\n      this.onServerIncrementalSearch(e);\n    }\n  };\n  DropDownList.prototype.onServerIncrementalSearch = function (e) {\n    if (!this.isRequested && !isNullOrUndefined(this.list) && !isNullOrUndefined(this.list.querySelector('li')) && this.enabled && !this.readonly) {\n      this.incrementalSearch(e);\n    }\n  };\n  DropDownList.prototype.onMouseClick = function (e) {\n    var target = e.target;\n    var li = closest(target, '.' + dropDownBaseClasses.li);\n    if (!this.isValidLI(li)) {\n      return;\n    }\n    this.setSelection(li, e);\n    if (Browser.isDevice && this.isFilterLayout()) {\n      history.back();\n    } else {\n      var delay = 100;\n      this.closePopup(delay);\n    }\n  };\n  DropDownList.prototype.onMouseOver = function (e) {\n    var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n    this.setHover(currentLi);\n  };\n  DropDownList.prototype.setHover = function (li) {\n    if (this.enabled && this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n      this.removeHover();\n      addClass([li], dropDownBaseClasses.hover);\n    }\n  };\n  DropDownList.prototype.onMouseLeave = function () {\n    this.removeHover();\n  };\n  DropDownList.prototype.removeHover = function () {\n    if (this.list) {\n      var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n      if (hoveredItem && hoveredItem.length) {\n        removeClass(hoveredItem, dropDownBaseClasses.hover);\n      }\n    }\n  };\n  DropDownList.prototype.isValidLI = function (li) {\n    return li && li.hasAttribute('role') && li.getAttribute('role') === 'option';\n  };\n  DropDownList.prototype.incrementalSearch = function (e) {\n    if (this.liCollections.length > 0) {\n      var li = incrementalSearch(e.charCode, this.liCollections, this.activeIndex, true, this.element.id);\n      if (!isNullOrUndefined(li)) {\n        this.setSelection(li, e);\n        this.setScrollPosition();\n      }\n    }\n  };\n  /**\n   * Hides the spinner loader.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.hideSpinner = function () {\n    if (!isNullOrUndefined(this.spinnerElement)) {\n      hideSpinner(this.spinnerElement);\n      removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n      this.spinnerElement.innerHTML = '';\n      this.spinnerElement = null;\n    }\n  };\n  /**\n   * Shows the spinner loader.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.showSpinner = function () {\n    if (isNullOrUndefined(this.spinnerElement)) {\n      this.spinnerElement = Browser.isDevice && !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[1] || !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[0] || this.inputWrapper.buttons[0];\n      addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n      createSpinner({\n        target: this.spinnerElement,\n        width: Browser.isDevice ? '16px' : '14px'\n      }, this.createElement);\n      showSpinner(this.spinnerElement);\n    }\n  };\n  DropDownList.prototype.keyActionHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n    var preventAction = e.action === 'pageUp' || e.action === 'pageDown';\n    var preventHomeEnd = this.getModuleName() !== 'dropdownlist' && (e.action === 'home' || e.action === 'end');\n    this.isEscapeKey = e.action === 'escape';\n    this.isTabKey = !this.isPopupOpen && e.action === 'tab';\n    var isNavAction = e.action === 'down' || e.action === 'up' || e.action === 'home' || e.action === 'end';\n    var isNavigation = e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown' || e.action === 'home' || e.action === 'end';\n    if ((this.isEditTextBox() || preventAction || preventHomeEnd) && !this.isPopupOpen) {\n      return;\n    }\n    if (!this.readonly) {\n      var isTabAction = e.action === 'tab' || e.action === 'close';\n      if (this.list === undefined && !this.isRequested && !isTabAction && e.action !== 'escape') {\n        this.searchKeyEvent = e;\n        this.renderList();\n      }\n      if (isNullOrUndefined(this.list) || !isNullOrUndefined(this.liCollections) && isNavigation && this.liCollections.length === 0 || this.isRequested) {\n        return;\n      }\n      if (isTabAction && this.getModuleName() !== 'autocomplete' && this.isPopupOpen || e.action === 'escape') {\n        e.preventDefault();\n      }\n      this.isSelected = e.action === 'escape' ? false : this.isSelected;\n      this.isTyped = isNavigation || e.action === 'escape' ? false : this.isTyped;\n      switch (e.action) {\n        case 'down':\n        case 'up':\n          this.updateUpDownAction(e);\n          break;\n        case 'pageUp':\n          this.pageUpSelection(this.activeIndex - this.getPageCount(), e);\n          e.preventDefault();\n          break;\n        case 'pageDown':\n          this.pageDownSelection(this.activeIndex + this.getPageCount(), e);\n          e.preventDefault();\n          break;\n        case 'home':\n          this.updateHomeEndAction(e);\n          break;\n        case 'end':\n          this.updateHomeEndAction(e);\n          break;\n        case 'space':\n          if (this.getModuleName() === 'dropdownlist') {\n            if (!this.beforePopupOpen) {\n              this.showPopup();\n            }\n          }\n          break;\n        case 'open':\n          this.showPopup();\n          break;\n        case 'hide':\n          this.preventAltUp = this.isPopupOpen;\n          this.hidePopup(e);\n          this.focusDropDown(e);\n          break;\n        case 'enter':\n          this.selectCurrentItem(e);\n          break;\n        case 'tab':\n          this.selectCurrentValueOnTab(e);\n          break;\n        case 'escape':\n        case 'close':\n          if (this.isPopupOpen) {\n            this.hidePopup(e);\n            this.focusDropDown(e);\n          }\n          break;\n      }\n    }\n  };\n  DropDownList.prototype.updateUpDownAction = function (e) {\n    var focusEle = this.list.querySelector('.' + dropDownListClasses.focus);\n    if (this.isSelectFocusItem(focusEle)) {\n      this.setSelection(focusEle, e);\n    } else if (!isNullOrUndefined(this.liCollections)) {\n      var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n      var startIndex = 0;\n      if (this.getModuleName() === 'autocomplete') {\n        startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n        index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n      }\n      var nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[startIndex] : this.liCollections[index];\n      if (!isNullOrUndefined(nextItem)) {\n        this.setSelection(nextItem, e);\n      }\n    }\n    e.preventDefault();\n  };\n  DropDownList.prototype.updateHomeEndAction = function (e) {\n    if (this.getModuleName() === 'dropdownlist') {\n      var findLi = 0;\n      if (e.action === 'home') {\n        findLi = 0;\n      } else {\n        findLi = this.getItems().length - 1;\n      }\n      e.preventDefault();\n      if (this.activeIndex === findLi) {\n        return;\n      }\n      this.setSelection(this.liCollections[findLi], e);\n    }\n  };\n  DropDownList.prototype.selectCurrentValueOnTab = function (e) {\n    if (this.getModuleName() === 'autocomplete') {\n      this.selectCurrentItem(e);\n    } else {\n      if (this.isPopupOpen) {\n        this.hidePopup(e);\n        this.focusDropDown(e);\n      }\n    }\n  };\n  DropDownList.prototype.mobileKeyActionHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n    if (this.isEditTextBox() && !this.isPopupOpen) {\n      return;\n    }\n    if (!this.readonly) {\n      if (this.list === undefined && !this.isRequested) {\n        this.searchKeyEvent = e;\n        this.renderList();\n      }\n      if (isNullOrUndefined(this.list) || !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0 || this.isRequested) {\n        return;\n      }\n      if (e.action === 'enter') {\n        this.selectCurrentItem(e);\n      }\n    }\n  };\n  DropDownList.prototype.selectCurrentItem = function (e) {\n    if (this.isPopupOpen) {\n      var li = this.list.querySelector('.' + dropDownListClasses.focus);\n      if (li) {\n        this.setSelection(li, e);\n        this.isTyped = false;\n      }\n      if (this.isSelected) {\n        this.isSelectCustom = false;\n        this.onChangeEvent(e);\n      }\n      this.hidePopup();\n      this.focusDropDown(e);\n    } else {\n      this.showPopup();\n    }\n  };\n  DropDownList.prototype.isSelectFocusItem = function (element) {\n    return !isNullOrUndefined(element);\n  };\n  DropDownList.prototype.getPageCount = function () {\n    var liHeight = this.list.classList.contains(dropDownBaseClasses.noData) ? null : getComputedStyle(this.getItems()[0], null).getPropertyValue('height');\n    return Math.round(this.list.getBoundingClientRect().height / parseInt(liHeight, 10));\n  };\n  DropDownList.prototype.pageUpSelection = function (steps, event) {\n    var previousItem = steps >= 0 ? this.liCollections[steps + 1] : this.liCollections[0];\n    this.setSelection(previousItem, event);\n  };\n  DropDownList.prototype.pageDownSelection = function (steps, event) {\n    var list = this.getItems();\n    var previousItem = steps <= list.length ? this.liCollections[steps - 1] : this.liCollections[list.length - 1];\n    this.setSelection(previousItem, event);\n  };\n  DropDownList.prototype.unWireEvent = function () {\n    EventHandler.remove(this.inputWrapper.container, 'mousedown', this.dropDownClick);\n    EventHandler.remove(this.inputWrapper.container, 'keypress', this.onSearch);\n    EventHandler.remove(this.inputWrapper.container, 'focus', this.focusIn);\n    this.unBindCommonEvent();\n  };\n  /**\n   * Event un binding for list items.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.unWireListEvents = function () {\n    EventHandler.remove(this.list, 'click', this.onMouseClick);\n    EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n    EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n  };\n  DropDownList.prototype.checkSelector = function (id) {\n    return '[id=\"' + id.replace(/(:|\\.|\\[|\\]|,|=|@|\\\\|\\/|#)/g, '\\\\$1') + '\"]';\n  };\n  DropDownList.prototype.onDocumentClick = function (e) {\n    var target = e.target;\n    if (!(!isNullOrUndefined(this.popupObj) && closest(target, this.checkSelector(this.popupObj.element.id))) && !this.inputWrapper.container.contains(e.target)) {\n      if (this.inputWrapper.container.classList.contains(dropDownListClasses.inputFocus) || this.isPopupOpen) {\n        this.isDocumentClick = true;\n        var isActive = this.isRequested;\n        this.isInteracted = false;\n        this.hidePopup(e);\n        if (!isActive) {\n          this.onFocusOut();\n          this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n        }\n      }\n    } else if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput) && !(this.getModuleName() === 'combobox' && !this.allowFiltering && Browser.isDevice && target === this.inputWrapper.buttons[0])) {\n      this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.targetElement() || document.activeElement === this.filterInput);\n      e.preventDefault();\n    }\n  };\n  DropDownList.prototype.activeStateChange = function () {\n    if (this.isDocumentClick) {\n      this.hidePopup();\n      this.onFocusOut();\n      this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n    }\n  };\n  DropDownList.prototype.focusDropDown = function (e) {\n    if (!this.initial && this.isFilterLayout()) {\n      this.focusIn(e);\n    }\n  };\n  DropDownList.prototype.dropDownClick = function (e) {\n    if (e.which === 3 || e.button === 2) {\n      return;\n    }\n    if (this.targetElement().classList.contains(dropDownListClasses.disable) || this.inputWrapper.clearButton === e.target) {\n      return;\n    }\n    var target = e.target;\n    if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput) && this.getModuleName() !== 'combobox') {\n      e.preventDefault();\n    }\n    if (!this.readonly) {\n      if (this.isPopupOpen) {\n        this.hidePopup();\n        if (this.isFilterLayout()) {\n          this.focusDropDown(e);\n        }\n      } else {\n        this.focusIn(e);\n        this.floatLabelChange();\n        this.queryString = this.inputElement.value.trim() === '' ? null : this.inputElement.value;\n        this.isDropDownClick = true;\n        this.showPopup();\n      }\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      var proxy_1 = this;\n      // eslint-disable-next-line max-len\n      var duration = this.element.tagName === this.getNgDirective() && this.itemTemplate ? 500 : 100;\n      if (!this.isSecondClick) {\n        setTimeout(function () {\n          proxy_1.cloneElements();\n          proxy_1.isSecondClick = true;\n        }, duration);\n      }\n    } else {\n      this.focusIn(e);\n    }\n  };\n  DropDownList.prototype.cloneElements = function () {\n    if (this.list) {\n      var ulElement = this.list.querySelector('ul');\n      if (ulElement) {\n        ulElement = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n        this.actionCompleteData.ulElement = ulElement;\n      }\n    }\n  };\n  DropDownList.prototype.updateSelectedItem = function (li, e, preventSelect, isSelection) {\n    var _this = this;\n    this.removeSelection();\n    li.classList.add(dropDownBaseClasses.selected);\n    this.removeHover();\n    var value = this.getFormattedValue(li.getAttribute('data-value'));\n    var selectedData = this.getDataByValue(value);\n    if (!this.initial && !preventSelect && !isNullOrUndefined(e)) {\n      var items = this.detachChanges(selectedData);\n      this.isSelected = true;\n      var eventArgs = {\n        e: e,\n        item: li,\n        itemData: items,\n        isInteracted: e ? true : false,\n        cancel: false\n      };\n      this.trigger('select', eventArgs, function (eventArgs) {\n        if (eventArgs.cancel) {\n          li.classList.remove(dropDownBaseClasses.selected);\n        } else {\n          _this.selectEventCallback(li, e, preventSelect, selectedData, value);\n          if (isSelection) {\n            _this.setSelectOptions(li, e);\n          }\n        }\n      });\n    } else {\n      this.selectEventCallback(li, e, preventSelect, selectedData, value);\n      if (isSelection) {\n        this.setSelectOptions(li, e);\n      }\n    }\n  };\n  DropDownList.prototype.selectEventCallback = function (li, e, preventSelect, selectedData, value) {\n    this.previousItemData = !isNullOrUndefined(this.itemData) ? this.itemData : null;\n    this.item = li;\n    this.itemData = selectedData;\n    var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n    if (focusedItem) {\n      removeClass([focusedItem], dropDownBaseClasses.focus);\n    }\n    li.setAttribute('aria-selected', 'true');\n    this.activeIndex = this.getIndexByValue(value);\n  };\n  DropDownList.prototype.activeItem = function (li) {\n    if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.selected)) {\n      this.removeSelection();\n      li.classList.add(dropDownBaseClasses.selected);\n      this.removeHover();\n      li.setAttribute('aria-selected', 'true');\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DropDownList.prototype.setValue = function (e) {\n    var dataItem = this.getItemData();\n    if (dataItem.value === null) {\n      Input.setValue(null, this.inputElement, this.floatLabelType, this.showClearButton);\n    } else {\n      Input.setValue(dataItem.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n    if (this.valueTemplate && this.itemData !== null) {\n      this.setValueTemplate();\n    } else if (!isNullOrUndefined(this.valueTempElement) && this.inputElement.previousSibling === this.valueTempElement) {\n      detach(this.valueTempElement);\n      this.inputElement.style.display = 'block';\n    }\n    var clearIcon = dropDownListClasses.clearIcon;\n    var isFilterElement = this.isFiltering() && this.filterInput && this.getModuleName() === 'combobox';\n    var clearElement = isFilterElement && this.filterInput.parentElement.querySelector('.' + clearIcon);\n    if (this.isFiltering() && clearElement) {\n      clearElement.style.removeProperty('visibility');\n    }\n    if (this.previousValue === dataItem.value) {\n      this.isSelected = false;\n      return true;\n    } else {\n      this.isSelected = !this.initial ? true : false;\n      this.isSelectCustom = false;\n      if (this.getModuleName() === 'dropdownlist') {\n        this.updateIconState();\n      }\n      return false;\n    }\n  };\n  DropDownList.prototype.setSelection = function (li, e) {\n    if (this.isValidLI(li) && (!li.classList.contains(dropDownBaseClasses.selected) || this.isPopupOpen && this.isSelected && li.classList.contains(dropDownBaseClasses.selected))) {\n      this.updateSelectedItem(li, e, false, true);\n    } else {\n      this.setSelectOptions(li, e);\n    }\n  };\n  DropDownList.prototype.setSelectOptions = function (li, e) {\n    if (this.list) {\n      this.removeHover();\n    }\n    this.previousSelectedLI = !isNullOrUndefined(this.selectedLI) ? this.selectedLI : null;\n    this.selectedLI = li;\n    if (this.setValue(e)) {\n      return;\n    }\n    if (this.isPopupOpen) {\n      attributes(this.targetElement(), {\n        'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null\n      });\n      if (this.isFilterLayout() && this.filterInput) {\n        attributes(this.filterInput, {\n          'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null\n        });\n      }\n    }\n    if (!this.isPopupOpen && !isNullOrUndefined(li) || this.isPopupOpen && !isNullOrUndefined(e) && (e.type !== 'keydown' || e.type === 'keydown' && e.action === 'enter')) {\n      this.isSelectCustom = false;\n      this.onChangeEvent(e);\n    }\n    if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI) && this.itemData !== null && (!e || e.type !== 'click')) {\n      this.setScrollPosition(e);\n    }\n    if (Browser.info.name !== 'mozilla') {\n      attributes(this.inputElement, {\n        'aria-label': this.inputElement.value\n      });\n      attributes(this.targetElement(), {\n        'aria-describedby': this.inputElement.id\n      });\n      this.targetElement().removeAttribute('aria-live');\n    }\n  };\n  DropDownList.prototype.dropdownCompiler = function (dropdownTemplate) {\n    var checkTemplate = false;\n    if (dropdownTemplate) {\n      try {\n        checkTemplate = document.querySelectorAll(dropdownTemplate).length ? true : false;\n      } catch (exception) {\n        checkTemplate = false;\n      }\n    }\n    return checkTemplate;\n  };\n  DropDownList.prototype.setValueTemplate = function () {\n    var compiledString;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.isReact) {\n      this.clearTemplate(['valueTemplate']);\n    }\n    if (!this.valueTempElement) {\n      this.valueTempElement = this.createElement('span', {\n        className: dropDownListClasses.value\n      });\n      this.inputElement.parentElement.insertBefore(this.valueTempElement, this.inputElement);\n      this.inputElement.style.display = 'none';\n    }\n    this.valueTempElement.innerHTML = '';\n    var valuecheck = this.dropdownCompiler(this.valueTemplate);\n    if (valuecheck) {\n      compiledString = compile(document.querySelector(this.valueTemplate).innerHTML.trim());\n    } else {\n      compiledString = compile(this.valueTemplate);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var valueCompTemp = compiledString(this.itemData, this, 'valueTemplate', this.valueTemplateId, this.isStringTemplate, null, this.valueTempElement);\n    if (valueCompTemp && valueCompTemp.length > 0) {\n      for (var i = 0; i < valueCompTemp.length; i++) {\n        this.valueTempElement.appendChild(valueCompTemp[i]);\n      }\n    }\n    this.renderReactTemplates();\n  };\n  DropDownList.prototype.removeSelection = function () {\n    if (this.list) {\n      var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n      if (selectedItems.length) {\n        removeClass(selectedItems, dropDownBaseClasses.selected);\n        selectedItems[0].removeAttribute('aria-selected');\n      }\n    }\n  };\n  DropDownList.prototype.getItemData = function () {\n    var fields = this.fields;\n    var dataItem = null;\n    dataItem = this.itemData;\n    var dataValue;\n    var dataText;\n    if (!isNullOrUndefined(dataItem)) {\n      dataValue = getValue(fields.value, dataItem);\n      dataText = getValue(fields.text, dataItem);\n    }\n    var value = !isNullOrUndefined(dataItem) && !isUndefined(dataValue) ? dataValue : dataItem;\n    var text = !isNullOrUndefined(dataItem) && !isUndefined(dataValue) ? dataText : dataItem;\n    return {\n      value: value,\n      text: text\n    };\n  };\n  /**\n   * To trigger the change event for list.\n   *\n   * @param {MouseEvent | KeyboardEvent | TouchEvent} eve - Specifies the event arguments.\n   * @returns {void}\n   */\n  DropDownList.prototype.onChangeEvent = function (eve) {\n    var dataItem = this.getItemData();\n    var index = this.isSelectCustom ? null : this.activeIndex;\n    this.setProperties({\n      'index': index,\n      'text': dataItem.text,\n      'value': dataItem.value\n    }, true);\n    this.detachChangeEvent(eve);\n  };\n  DropDownList.prototype.detachChanges = function (value) {\n    var items;\n    if (typeof value === 'string' || typeof value === 'boolean' || typeof value === 'number') {\n      items = Object.defineProperties({}, {\n        value: {\n          value: value,\n          enumerable: true\n        },\n        text: {\n          value: value,\n          enumerable: true\n        }\n      });\n    } else {\n      items = value;\n    }\n    return items;\n  };\n  DropDownList.prototype.detachChangeEvent = function (eve) {\n    this.isSelected = false;\n    this.previousValue = this.value;\n    this.activeIndex = this.index;\n    this.typedString = !isNullOrUndefined(this.text) ? this.text : '';\n    if (!this.initial) {\n      var items = this.detachChanges(this.itemData);\n      var preItems = void 0;\n      if (typeof this.previousItemData === 'string' || typeof this.previousItemData === 'boolean' || typeof this.previousItemData === 'number') {\n        preItems = Object.defineProperties({}, {\n          value: {\n            value: this.previousItemData,\n            enumerable: true\n          },\n          text: {\n            value: this.previousItemData,\n            enumerable: true\n          }\n        });\n      } else {\n        preItems = this.previousItemData;\n      }\n      this.setHiddenValue();\n      var eventArgs = {\n        e: eve,\n        item: this.item,\n        itemData: items,\n        previousItem: this.previousSelectedLI,\n        previousItemData: preItems,\n        isInteracted: eve ? true : false,\n        value: this.value,\n        element: this.element,\n        event: eve\n      };\n      if (this.isAngular && this.preventChange) {\n        this.preventChange = false;\n      } else {\n        this.trigger('change', eventArgs);\n      }\n    }\n    if ((isNullOrUndefined(this.value) || this.value === '') && this.floatLabelType !== 'Always') {\n      removeClass([this.inputWrapper.container], 'e-valid-input');\n    }\n  };\n  DropDownList.prototype.setHiddenValue = function () {\n    if (!isNullOrUndefined(this.value)) {\n      if (this.hiddenElement.querySelector('option')) {\n        var selectedElement = this.hiddenElement.querySelector('option');\n        selectedElement.textContent = this.text;\n        selectedElement.setAttribute('value', this.value.toString());\n      } else {\n        this.hiddenElement.innerHTML = '<option selected>' + this.text + '</option>';\n        var selectedElement = this.hiddenElement.querySelector('option');\n        selectedElement.setAttribute('value', this.value.toString());\n      }\n    } else {\n      this.hiddenElement.innerHTML = '';\n    }\n  };\n  /**\n   * Filter bar implementation\n   *\n   * @param {KeyboardEventArgs} e - Specifies the event arguments.\n   * @returns {void}\n   */\n  DropDownList.prototype.onFilterUp = function (e) {\n    if (!(e.ctrlKey && e.keyCode === 86) && (this.isValidKey || e.keyCode === 40 || e.keyCode === 38)) {\n      this.isValidKey = false;\n      switch (e.keyCode) {\n        case 38: //up arrow\n        case 40:\n          //down arrow\n          if (this.getModuleName() === 'autocomplete' && !this.isPopupOpen && !this.preventAltUp && !this.isRequested) {\n            this.preventAutoFill = true;\n            this.searchLists(e);\n          } else {\n            this.preventAutoFill = false;\n          }\n          this.preventAltUp = false;\n          e.preventDefault();\n          break;\n        case 46: //delete\n        case 8:\n          //backspace\n          this.typedString = this.filterInput.value;\n          if (!this.isPopupOpen && this.typedString !== '' || this.isPopupOpen && this.queryString.length > 0) {\n            this.preventAutoFill = true;\n            this.searchLists(e);\n          } else if (this.typedString === '' && this.queryString === '' && this.getModuleName() !== 'autocomplete') {\n            this.preventAutoFill = true;\n            this.searchLists(e);\n          } else if (this.typedString === '') {\n            if (this.list) {\n              this.resetFocusElement();\n            }\n            this.activeIndex = null;\n            if (this.getModuleName() !== 'dropdownlist') {\n              this.preventAutoFill = true;\n              this.searchLists(e);\n              if (this.getModuleName() === 'autocomplete') {\n                this.hidePopup();\n              }\n            }\n          }\n          e.preventDefault();\n          break;\n        default:\n          this.typedString = this.filterInput.value;\n          this.preventAutoFill = false;\n          this.searchLists(e);\n          break;\n      }\n    } else {\n      this.isValidKey = false;\n    }\n  };\n  DropDownList.prototype.onFilterDown = function (e) {\n    switch (e.keyCode) {\n      case 13:\n        //enter\n        break;\n      case 40: //down arrow\n      case 38:\n        //up arrow\n        this.queryString = this.filterInput.value;\n        e.preventDefault();\n        break;\n      case 9:\n        //tab\n        if (this.isPopupOpen && this.getModuleName() !== 'autocomplete') {\n          e.preventDefault();\n        }\n        break;\n      default:\n        this.prevSelectPoints = this.getSelectionPoints();\n        this.queryString = this.filterInput.value;\n        break;\n    }\n  };\n  DropDownList.prototype.removeFillSelection = function () {\n    if (this.isInteracted) {\n      var selection = this.getSelectionPoints();\n      this.inputElement.setSelectionRange(selection.end, selection.end);\n    }\n  };\n  DropDownList.prototype.getQuery = function (query) {\n    var filterQuery;\n    if (!this.isCustomFilter && this.allowFiltering && this.filterInput) {\n      filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n      var filterType = this.typedString === '' ? 'contains' : this.filterType;\n      var dataType = this.typeOfData(this.dataSource).typeof;\n      if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n        filterQuery.where('', filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n      } else {\n        var fields = this.fields.text ? this.fields.text : '';\n        filterQuery.where(fields, filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n      }\n    } else {\n      filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n    }\n    return filterQuery;\n  };\n  DropDownList.prototype.getSelectionPoints = function () {\n    var input = this.inputElement;\n    return {\n      start: Math.abs(input.selectionStart),\n      end: Math.abs(input.selectionEnd)\n    };\n  };\n  DropDownList.prototype.searchLists = function (e) {\n    var _this = this;\n    this.isTyped = true;\n    this.activeIndex = null;\n    this.isListSearched = true;\n    if (this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon)) {\n      var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n      clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n    }\n    this.isDataFetched = false;\n    if (this.isFiltering()) {\n      var eventArgs_1 = {\n        preventDefaultAction: false,\n        text: this.filterInput.value,\n        updateData: function (dataSource, query, fields) {\n          if (eventArgs_1.cancel) {\n            return;\n          }\n          _this.isCustomFilter = true;\n          _this.filteringAction(dataSource, query, fields);\n        },\n        baseEventArgs: e,\n        cancel: false\n      };\n      this.trigger('filtering', eventArgs_1, function (eventArgs) {\n        if (!eventArgs.cancel && !_this.isCustomFilter && !eventArgs.preventDefaultAction) {\n          _this.filteringAction(_this.dataSource, null, _this.fields);\n        }\n      });\n    }\n  };\n  /**\n   * To filter the data from given data source by using query\n   *\n   * @param  {Object[] | DataManager } dataSource - Set the data source to filter.\n   * @param  {Query} query - Specify the query to filter the data.\n   * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n   * @returns {void}\n    */\n  DropDownList.prototype.filter = function (dataSource, query, fields) {\n    this.isCustomFilter = true;\n    this.filteringAction(dataSource, query, fields);\n  };\n  DropDownList.prototype.filteringAction = function (dataSource, query, fields) {\n    if (!isNullOrUndefined(this.filterInput)) {\n      this.beforePopupOpen = !this.isPopupOpen && this.getModuleName() === 'combobox' && this.filterInput.value === '' ? false : true;\n      if (this.filterInput.value.trim() === '' && !this.itemTemplate) {\n        this.actionCompleteData.isUpdated = false;\n        this.isTyped = false;\n        if (!isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list)) {\n          this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list);\n        }\n        this.isTyped = true;\n        if (!isNullOrUndefined(this.itemData) && this.getModuleName() === 'dropdownlist') {\n          this.focusIndexItem();\n          this.setScrollPosition();\n        }\n        this.isNotSearchList = true;\n      } else {\n        this.isNotSearchList = false;\n        query = this.filterInput.value.trim() === '' ? null : query;\n        this.resetList(dataSource, fields, query);\n      }\n      this.renderReactTemplates();\n    }\n  };\n  DropDownList.prototype.setSearchBox = function (popupElement) {\n    if (this.isFiltering()) {\n      var parentElement = popupElement.querySelector('.' + dropDownListClasses.filterParent) ? popupElement.querySelector('.' + dropDownListClasses.filterParent) : this.createElement('span', {\n        className: dropDownListClasses.filterParent\n      });\n      this.filterInput = this.createElement('input', {\n        attrs: {\n          type: 'text'\n        },\n        className: dropDownListClasses.filterInput\n      });\n      this.element.parentNode.insertBefore(this.filterInput, this.element);\n      var backIcon = false;\n      if (Browser.isDevice) {\n        backIcon = true;\n      }\n      this.filterInputObj = Input.createInput({\n        element: this.filterInput,\n        buttons: backIcon ? [dropDownListClasses.backIcon, dropDownListClasses.filterBarClearIcon] : [dropDownListClasses.filterBarClearIcon],\n        properties: {\n          placeholder: this.filterBarPlaceholder\n        }\n      }, this.createElement);\n      if (!isNullOrUndefined(this.cssClass)) {\n        if (this.cssClass.split(' ').indexOf('e-outline') !== -1) {\n          addClass([this.filterInputObj.container], 'e-outline');\n        } else if (this.cssClass.split(' ').indexOf('e-filled') !== -1) {\n          addClass([this.filterInputObj.container], 'e-filled');\n        }\n      }\n      append([this.filterInputObj.container], parentElement);\n      prepend([parentElement], popupElement);\n      attributes(this.filterInput, {\n        'aria-disabled': 'false',\n        'aria-owns': this.element.id + '_options',\n        'role': 'listbox',\n        'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null,\n        'autocomplete': 'off',\n        'autocorrect': 'off',\n        'autocapitalize': 'off',\n        'spellcheck': 'false'\n      });\n      this.clearIconElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n      if (!Browser.isDevice && this.clearIconElement) {\n        EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n        this.clearIconElement.style.visibility = 'hidden';\n      }\n      if (!Browser.isDevice) {\n        this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n          keyAction: this.keyActionHandler.bind(this),\n          keyConfigs: this.keyConfigure,\n          eventName: 'keydown'\n        });\n      } else {\n        this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n          keyAction: this.mobileKeyActionHandler.bind(this),\n          keyConfigs: this.keyConfigure,\n          eventName: 'keydown'\n        });\n      }\n      EventHandler.add(this.filterInput, 'input', this.onInput, this);\n      EventHandler.add(this.filterInput, 'keyup', this.onFilterUp, this);\n      EventHandler.add(this.filterInput, 'keydown', this.onFilterDown, this);\n      EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n      EventHandler.add(this.filterInput, 'paste', this.pasteHandler, this);\n      return this.filterInputObj;\n    } else {\n      return inputObject;\n    }\n  };\n  DropDownList.prototype.onInput = function (e) {\n    this.isValidKey = true;\n    // For filtering works in mobile firefox.\n    if (Browser.isDevice && Browser.info.name === 'mozilla') {\n      this.typedString = this.filterInput.value;\n      this.preventAutoFill = true;\n      this.searchLists(e);\n    }\n  };\n  DropDownList.prototype.pasteHandler = function (e) {\n    var _this = this;\n    setTimeout(function () {\n      _this.typedString = _this.filterInput.value;\n      _this.searchLists(e);\n    });\n  };\n  DropDownList.prototype.onActionFailure = function (e) {\n    _super.prototype.onActionFailure.call(this, e);\n    if (this.beforePopupOpen) {\n      this.renderPopup();\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DropDownList.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n    var _this = this;\n    if (this.isNotSearchList) {\n      this.isNotSearchList = false;\n      return;\n    }\n    if (this.isActive) {\n      var selectedItem = this.selectedLI ? this.selectedLI.cloneNode(true) : null;\n      _super.prototype.onActionComplete.call(this, ulElement, list, e);\n      this.updateSelectElementData(this.allowFiltering);\n      if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent) && this.searchKeyEvent.type === 'keydown') {\n        this.isRequested = false;\n        this.keyActionHandler(this.searchKeyEvent);\n        this.searchKeyEvent = null;\n      }\n      if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent)) {\n        this.incrementalSearch(this.searchKeyEvent);\n        this.searchKeyEvent = null;\n      }\n      this.list.scrollTop = 0;\n      if (!isNullOrUndefined(ulElement)) {\n        attributes(ulElement, {\n          'id': this.element.id + '_options',\n          'role': 'listbox',\n          'aria-hidden': 'false'\n        });\n      }\n      if (this.initRemoteRender) {\n        this.initial = true;\n        this.activeIndex = this.index;\n        this.updateValues();\n        this.initRemoteRender = false;\n        this.initial = false;\n        if (this.value && this.dataSource instanceof DataManager) {\n          var checkField_1 = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n          var checkVal = list.some(function (x) {\n            return x[checkField_1] === _this.value;\n          });\n          if (!checkVal) {\n            this.dataSource.executeQuery(this.getQuery(this.query).where(new Predicate(checkField_1, 'equal', this.value))).then(function (e) {\n              if (e.result.length > 0) {\n                _this.addItem(e.result, list.length);\n                _this.updateValues();\n              }\n            });\n          }\n        }\n      }\n      if (this.getModuleName() !== 'autocomplete' && this.isFiltering() && !this.isTyped) {\n        if (!this.actionCompleteData.isUpdated || !this.isCustomFilter && !this.isFilterFocus || isNullOrUndefined(this.itemData) && this.allowFiltering && (this.dataSource instanceof DataManager || !isNullOrUndefined(this.dataSource) && !isNullOrUndefined(this.dataSource.length) && this.dataSource.length !== 0)) {\n          if (this.itemTemplate && this.element.tagName === 'EJS-COMBOBOX' && this.allowFiltering) {\n            setTimeout(function () {\n              _this.updateActionCompleteDataValues(ulElement, list);\n            }, 0);\n          } else {\n            this.updateActionCompleteDataValues(ulElement, list);\n          }\n        }\n        this.addNewItem(list, selectedItem);\n        if (!isNullOrUndefined(this.itemData)) {\n          this.focusIndexItem();\n        }\n      }\n      if (this.beforePopupOpen) {\n        this.renderPopup();\n      }\n    }\n  };\n  DropDownList.prototype.updateActionCompleteDataValues = function (ulElement, list) {\n    this.actionCompleteData = {\n      ulElement: ulElement.cloneNode(true),\n      list: list,\n      isUpdated: true\n    };\n    if (isNullOrUndefined(this.actionData.ulElement) && isNullOrUndefined(this.actionData.list)) {\n      this.actionData = this.actionCompleteData;\n    }\n  };\n  DropDownList.prototype.addNewItem = function (listData, newElement) {\n    var _this = this;\n    if (!isNullOrUndefined(this.itemData) && !isNullOrUndefined(newElement)) {\n      var value_1 = this.getItemData().value;\n      var isExist = listData.some(function (data) {\n        return (typeof data === 'string' || typeof data === 'number') && data === value_1 || getValue(_this.fields.value, data) === value_1;\n      });\n      if (!isExist) {\n        this.addItem(this.itemData);\n      }\n    }\n  };\n  DropDownList.prototype.updateActionCompleteData = function (li, item, index) {\n    var _this = this;\n    if (this.getModuleName() !== 'autocomplete' && this.actionCompleteData.ulElement) {\n      if (this.itemTemplate && this.element.tagName === 'EJS-COMBOBOX' && this.allowFiltering) {\n        setTimeout(function () {\n          _this.actionCompleteDataUpdate(li, item, index);\n        }, 0);\n      } else {\n        this.actionCompleteDataUpdate(li, item, index);\n      }\n    }\n  };\n  DropDownList.prototype.actionCompleteDataUpdate = function (li, item, index) {\n    if (index != null) {\n      this.actionCompleteData.ulElement.insertBefore(li.cloneNode(true), this.actionCompleteData.ulElement.childNodes[index]);\n    } else {\n      this.actionCompleteData.ulElement.appendChild(li.cloneNode(true));\n    }\n    if (this.isFiltering() && this.actionCompleteData.list.indexOf(item) < 0) {\n      this.actionCompleteData.list.push(item);\n    }\n  };\n  DropDownList.prototype.focusIndexItem = function () {\n    var value = this.getItemData().value;\n    this.activeIndex = this.getIndexByValue(value);\n    var element = this.findListElement(this.list, 'li', 'data-value', value);\n    this.selectedLI = element;\n    this.activeItem(element);\n    this.removeFocus();\n  };\n  DropDownList.prototype.updateSelection = function () {\n    var selectedItem = this.list.querySelector('.' + dropDownBaseClasses.selected);\n    if (selectedItem) {\n      this.setProperties({\n        'index': this.getIndexByValue(selectedItem.getAttribute('data-value'))\n      });\n      this.activeIndex = this.index;\n    } else {\n      this.removeFocus();\n      this.list.querySelector('.' + dropDownBaseClasses.li).classList.add(dropDownListClasses.focus);\n    }\n  };\n  DropDownList.prototype.removeFocus = function () {\n    var highlightedItem = this.list.querySelectorAll('.' + dropDownListClasses.focus);\n    if (highlightedItem && highlightedItem.length) {\n      removeClass(highlightedItem, dropDownListClasses.focus);\n    }\n  };\n  DropDownList.prototype.renderPopup = function () {\n    var _this = this;\n    if (this.popupObj && document.body.contains(this.popupObj.element)) {\n      this.refreshPopup();\n      return;\n    }\n    var args = {\n      cancel: false\n    };\n    this.trigger('beforeOpen', args, function (args) {\n      if (!args.cancel) {\n        var popupEle = _this.createElement('div', {\n          id: _this.element.id + '_popup',\n          className: 'e-ddl e-popup ' + (_this.cssClass != null ? _this.cssClass : '')\n        });\n        var searchBox = _this.setSearchBox(popupEle);\n        _this.listHeight = formatUnit(_this.popupHeight);\n        if (_this.headerTemplate) {\n          _this.setHeaderTemplate(popupEle);\n        }\n        append([_this.list], popupEle);\n        if (_this.footerTemplate) {\n          _this.setFooterTemplate(popupEle);\n        }\n        document.body.appendChild(popupEle);\n        popupEle.style.visibility = 'hidden';\n        if (_this.popupHeight !== 'auto') {\n          _this.searchBoxHeight = 0;\n          if (!isNullOrUndefined(searchBox.container)) {\n            _this.searchBoxHeight = searchBox.container.parentElement.getBoundingClientRect().height;\n            _this.listHeight = (parseInt(_this.listHeight, 10) - _this.searchBoxHeight).toString() + 'px';\n          }\n          if (_this.headerTemplate) {\n            _this.header = _this.header ? _this.header : popupEle.querySelector('.e-ddl-header');\n            var height = Math.round(_this.header.getBoundingClientRect().height);\n            _this.listHeight = (parseInt(_this.listHeight, 10) - (height + _this.searchBoxHeight)).toString() + 'px';\n          }\n          if (_this.footerTemplate) {\n            _this.footer = _this.footer ? _this.footer : popupEle.querySelector('.e-ddl-footer');\n            var height = Math.round(_this.footer.getBoundingClientRect().height);\n            _this.listHeight = (parseInt(_this.listHeight, 10) - (height + _this.searchBoxHeight)).toString() + 'px';\n          }\n          _this.list.style.maxHeight = (parseInt(_this.listHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n          popupEle.style.maxHeight = formatUnit(_this.popupHeight);\n        } else {\n          popupEle.style.height = 'auto';\n        }\n        var offsetValue = 0;\n        var left = void 0;\n        if (!isNullOrUndefined(_this.selectedLI) && !isNullOrUndefined(_this.activeIndex) && _this.activeIndex >= 0) {\n          _this.setScrollPosition();\n        } else {\n          _this.list.scrollTop = 0;\n        }\n        if (Browser.isDevice && !_this.allowFiltering && (_this.getModuleName() === 'dropdownlist' || _this.isDropDownClick && _this.getModuleName() === 'combobox')) {\n          offsetValue = _this.getOffsetValue(popupEle);\n          var firstItem = _this.isEmptyList() ? _this.list : _this.liCollections[0];\n          left = -(parseInt(getComputedStyle(firstItem).textIndent, 10) - parseInt(getComputedStyle(_this.inputElement).paddingLeft, 10) + parseInt(getComputedStyle(_this.inputElement.parentElement).borderLeftWidth, 10));\n        }\n        _this.getFocusElement();\n        _this.createPopup(popupEle, offsetValue, left);\n        _this.checkCollision(popupEle);\n        if (Browser.isDevice) {\n          _this.popupObj.element.classList.add(dropDownListClasses.device);\n          if (_this.getModuleName() === 'dropdownlist' || _this.getModuleName() === 'combobox' && !_this.allowFiltering && _this.isDropDownClick) {\n            _this.popupObj.collision = {\n              X: 'fit',\n              Y: 'fit'\n            };\n          }\n          if (_this.isFilterLayout()) {\n            _this.popupObj.element.classList.add(dropDownListClasses.mobileFilter);\n            _this.popupObj.position = {\n              X: 0,\n              Y: 0\n            };\n            _this.popupObj.dataBind();\n            attributes(_this.popupObj.element, {\n              style: 'left:0px;right:0px;top:0px;bottom:0px;'\n            });\n            addClass([document.body, _this.popupObj.element], dropDownListClasses.popupFullScreen);\n            _this.setSearchBoxPosition();\n            _this.backIconElement = searchBox.container.querySelector('.e-back-icon');\n            _this.clearIconElement = searchBox.container.querySelector('.' + dropDownListClasses.clearIcon);\n            EventHandler.add(_this.backIconElement, 'click', _this.clickOnBackIcon, _this);\n            EventHandler.add(_this.clearIconElement, 'click', _this.clearText, _this);\n          }\n        }\n        popupEle.style.visibility = 'visible';\n        addClass([popupEle], 'e-popup-close');\n        var scrollParentElements = _this.popupObj.getScrollableParent(_this.inputWrapper.container);\n        for (var _i = 0, scrollParentElements_1 = scrollParentElements; _i < scrollParentElements_1.length; _i++) {\n          var element = scrollParentElements_1[_i];\n          EventHandler.add(element, 'scroll', _this.scrollHandler, _this);\n        }\n        if (Browser.isDevice && _this.isFilterLayout()) {\n          EventHandler.add(_this.list, 'scroll', _this.listScroll, _this);\n        }\n        if (!isNullOrUndefined(_this.list)) {\n          _this.unWireListEvents();\n          _this.wireListEvents();\n        }\n        attributes(_this.targetElement(), {\n          'aria-expanded': 'true'\n        });\n        var inputParent = _this.isFiltering() ? _this.filterInput.parentElement : _this.inputWrapper.container;\n        addClass([inputParent], [dropDownListClasses.inputFocus]);\n        var animModel = {\n          name: 'FadeIn',\n          duration: 100\n        };\n        _this.beforePopupOpen = true;\n        var popupInstance = _this.popupObj;\n        var eventArgs = {\n          popup: popupInstance,\n          cancel: false,\n          animation: animModel\n        };\n        _this.trigger('open', eventArgs, function (eventArgs) {\n          if (!eventArgs.cancel) {\n            addClass([_this.inputWrapper.container], [dropDownListClasses.iconAnimation]);\n            _this.renderReactTemplates();\n            _this.popupObj.show(new Animation(eventArgs.animation), _this.zIndex === 1000 ? _this.element : null);\n          } else {\n            _this.beforePopupOpen = false;\n            _this.destroyPopup();\n          }\n        });\n      } else {\n        _this.beforePopupOpen = false;\n      }\n    });\n  };\n  DropDownList.prototype.checkCollision = function (popupEle) {\n    if (!Browser.isDevice || Browser.isDevice && !(this.getModuleName() === 'dropdownlist' || this.isDropDownClick)) {\n      var collision = isCollide(popupEle);\n      if (collision.length > 0) {\n        popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n      }\n      this.popupObj.resolveCollision();\n    }\n  };\n  DropDownList.prototype.getOffsetValue = function (popupEle) {\n    var popupStyles = getComputedStyle(popupEle);\n    var borderTop = parseInt(popupStyles.borderTopWidth, 10);\n    var borderBottom = parseInt(popupStyles.borderBottomWidth, 10);\n    return this.setPopupPosition(borderTop + borderBottom);\n  };\n  DropDownList.prototype.createPopup = function (element, offsetValue, left) {\n    var _this = this;\n    this.popupObj = new Popup(element, {\n      width: this.setWidth(),\n      targetType: 'relative',\n      relateTo: this.inputWrapper.container,\n      collision: {\n        X: 'flip',\n        Y: 'flip'\n      },\n      offsetY: offsetValue,\n      enableRtl: this.enableRtl,\n      offsetX: left,\n      position: {\n        X: 'left',\n        Y: 'bottom'\n      },\n      zIndex: this.zIndex,\n      close: function () {\n        if (!_this.isDocumentClick) {\n          _this.focusDropDown();\n        }\n        // eslint-disable-next-line\n        if (_this.isReact) {\n          _this.clearTemplate(['headerTemplate', 'footerTemplate']);\n        }\n        var isResetItem = _this.getModuleName() === 'autocomplete' ? true : false;\n        _this.isNotSearchList = false;\n        _this.isDocumentClick = false;\n        _this.destroyPopup();\n        if (_this.isFiltering() && _this.actionCompleteData.list && _this.actionCompleteData.list[0]) {\n          _this.isActive = true;\n          _this.onActionComplete(_this.actionCompleteData.ulElement, _this.actionCompleteData.list, null, true);\n        }\n      },\n      open: function () {\n        EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n        _this.isPopupOpen = true;\n        var actionList = _this.actionCompleteData && _this.actionCompleteData.ulElement && _this.actionCompleteData.ulElement.querySelector('li');\n        var ulElement = _this.list.querySelector('ul li');\n        if (_this.isFiltering() && _this.itemTemplate && _this.element.tagName === _this.getNgDirective() && actionList && ulElement && actionList.textContent !== ulElement.textContent && _this.element.tagName !== 'EJS-COMBOBOX') {\n          _this.cloneElements();\n        }\n        if (_this.isFilterLayout()) {\n          removeClass([_this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n          _this.isFilterFocus = true;\n          _this.filterInput.focus();\n          if (_this.inputWrapper.clearButton) {\n            addClass([_this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n          }\n        }\n        _this.activeStateChange();\n      },\n      targetExitViewport: function () {\n        if (!Browser.isDevice) {\n          _this.hidePopup();\n        }\n      }\n    });\n  };\n  DropDownList.prototype.isEmptyList = function () {\n    return !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0;\n  };\n  DropDownList.prototype.getFocusElement = function () {\n    // combo-box used this method\n  };\n  DropDownList.prototype.isFilterLayout = function () {\n    return this.getModuleName() === 'dropdownlist' && this.allowFiltering;\n  };\n  DropDownList.prototype.scrollHandler = function () {\n    if (Browser.isDevice && (this.getModuleName() === 'dropdownlist' && !this.isFilterLayout() || this.getModuleName() === 'combobox' && !this.allowFiltering && this.isDropDownClick)) {\n      this.hidePopup();\n    }\n  };\n  DropDownList.prototype.setSearchBoxPosition = function () {\n    var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n    this.popupObj.element.style.maxHeight = '100%';\n    this.popupObj.element.style.width = '100%';\n    this.list.style.maxHeight = window.innerHeight - searchBoxHeight + 'px';\n    this.list.style.height = window.innerHeight - searchBoxHeight + 'px';\n    var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n    detach(this.filterInput);\n    clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n  };\n  DropDownList.prototype.setPopupPosition = function (border) {\n    var offsetValue;\n    var popupOffset = border;\n    var selectedLI = this.list.querySelector('.' + dropDownListClasses.focus) || this.selectedLI;\n    var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n    var lastItem = this.isEmptyList() ? this.list : this.liCollections[this.getItems().length - 1];\n    var liHeight = firstItem.getBoundingClientRect().height;\n    var listHeight = this.list.offsetHeight / 2;\n    var height = isNullOrUndefined(selectedLI) ? firstItem.offsetTop : selectedLI.offsetTop;\n    var lastItemOffsetValue = lastItem.offsetTop;\n    if (lastItemOffsetValue - listHeight < height && !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0 && !isNullOrUndefined(selectedLI)) {\n      var count = this.list.offsetHeight / liHeight;\n      var paddingBottom = parseInt(getComputedStyle(this.list).paddingBottom, 10);\n      offsetValue = (count - (this.liCollections.length - this.activeIndex)) * liHeight - popupOffset + paddingBottom;\n      this.list.scrollTop = selectedLI.offsetTop;\n    } else if (height > listHeight) {\n      offsetValue = listHeight - liHeight / 2;\n      this.list.scrollTop = height - listHeight + liHeight / 2;\n    } else {\n      offsetValue = height;\n    }\n    var inputHeight = this.inputWrapper.container.offsetHeight;\n    offsetValue = offsetValue + liHeight + popupOffset - (liHeight - inputHeight) / 2;\n    return -offsetValue;\n  };\n  DropDownList.prototype.setWidth = function () {\n    var width = formatUnit(this.popupWidth);\n    if (width.indexOf('%') > -1) {\n      var inputWidth = this.inputWrapper.container.offsetWidth * parseFloat(width) / 100;\n      width = inputWidth.toString() + 'px';\n    }\n    if (Browser.isDevice && !this.allowFiltering && (this.getModuleName() === 'dropdownlist' || this.isDropDownClick && this.getModuleName() === 'combobox')) {\n      var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n      width = parseInt(width, 10) + (parseInt(getComputedStyle(firstItem).textIndent, 10) - parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) + parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10)) * 2 + 'px';\n    }\n    return width;\n  };\n  DropDownList.prototype.scrollBottom = function (isInitial) {\n    if (!isNullOrUndefined(this.selectedLI)) {\n      var currentOffset = this.list.offsetHeight;\n      var nextBottom = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n      var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n      nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 : nextOffset;\n      var boxRange = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n      boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ? boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n      if (this.activeIndex === 0) {\n        this.list.scrollTop = 0;\n      } else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n        this.list.scrollTop = nextOffset;\n      }\n    }\n  };\n  DropDownList.prototype.scrollTop = function () {\n    if (!isNullOrUndefined(this.selectedLI)) {\n      var nextOffset = this.selectedLI.offsetTop - this.list.scrollTop;\n      nextOffset = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ? nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n      var boxRange = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n      if (this.activeIndex === 0) {\n        this.list.scrollTop = 0;\n      } else if (nextOffset < 0) {\n        this.list.scrollTop = this.list.scrollTop + nextOffset;\n      } else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n        this.list.scrollTop = this.selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement.offsetHeight : 0);\n      }\n    }\n  };\n  DropDownList.prototype.isEditTextBox = function () {\n    return false;\n  };\n  DropDownList.prototype.isFiltering = function () {\n    return this.allowFiltering;\n  };\n  DropDownList.prototype.isPopupButton = function () {\n    return true;\n  };\n  DropDownList.prototype.setScrollPosition = function (e) {\n    if (!isNullOrUndefined(e)) {\n      switch (e.action) {\n        case 'pageDown':\n        case 'down':\n        case 'end':\n          this.scrollBottom();\n          break;\n        default:\n          this.scrollTop();\n          break;\n      }\n    } else {\n      this.scrollBottom(true);\n    }\n  };\n  DropDownList.prototype.clearText = function () {\n    this.filterInput.value = this.typedString = '';\n    this.searchLists(null);\n  };\n  DropDownList.prototype.listScroll = function () {\n    this.filterInput.blur();\n  };\n  DropDownList.prototype.setEleWidth = function (width) {\n    if (!isNullOrUndefined(width)) {\n      if (typeof width === 'number') {\n        this.inputWrapper.container.style.width = formatUnit(width);\n      } else if (typeof width === 'string') {\n        this.inputWrapper.container.style.width = width.match(/px|%|em/) ? width : formatUnit(width);\n      }\n    }\n  };\n  DropDownList.prototype.closePopup = function (delay) {\n    var _this = this;\n    this.isTyped = false;\n    if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n      return;\n    }\n    EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n    this.isActive = false;\n    this.filterInputObj = null;\n    this.isDropDownClick = false;\n    this.preventAutoFill = false;\n    var scrollableParentElements = this.popupObj.getScrollableParent(this.inputWrapper.container);\n    for (var _i = 0, scrollableParentElements_1 = scrollableParentElements; _i < scrollableParentElements_1.length; _i++) {\n      var element = scrollableParentElements_1[_i];\n      EventHandler.remove(element, 'scroll', this.scrollHandler);\n    }\n    if (Browser.isDevice && this.isFilterLayout()) {\n      removeClass([document.body, this.popupObj.element], dropDownListClasses.popupFullScreen);\n      EventHandler.remove(this.list, 'scroll', this.listScroll);\n    }\n    if (this.isFilterLayout()) {\n      if (!Browser.isDevice) {\n        this.searchKeyModule.destroy();\n        if (this.clearIconElement) {\n          EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n        }\n      }\n      if (this.backIconElement) {\n        EventHandler.remove(this.backIconElement, 'click', this.clickOnBackIcon);\n        EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n      }\n      EventHandler.remove(this.filterInput, 'input', this.onInput);\n      EventHandler.remove(this.filterInput, 'keyup', this.onFilterUp);\n      EventHandler.remove(this.filterInput, 'keydown', this.onFilterDown);\n      EventHandler.remove(this.filterInput, 'blur', this.onBlurHandler);\n      EventHandler.remove(this.filterInput, 'paste', this.pasteHandler);\n      this.filterInput = null;\n    }\n    attributes(this.targetElement(), {\n      'aria-expanded': 'false',\n      'aria-activedescendant': null\n    });\n    this.inputWrapper.container.classList.remove(dropDownListClasses.iconAnimation);\n    if (this.isFiltering()) {\n      this.actionCompleteData.isUpdated = false;\n    }\n    this.beforePopupOpen = false;\n    var animModel = {\n      name: 'FadeOut',\n      duration: 100,\n      delay: delay ? delay : 0\n    };\n    var popupInstance = this.popupObj;\n    var eventArgs = {\n      popup: popupInstance,\n      cancel: false,\n      animation: animModel\n    };\n    this.trigger('close', eventArgs, function (eventArgs) {\n      if (!isNullOrUndefined(_this.popupObj) && !isNullOrUndefined(_this.popupObj.element.querySelector('.e-fixed-head'))) {\n        var fixedHeader = _this.popupObj.element.querySelector('.e-fixed-head');\n        fixedHeader.parentNode.removeChild(fixedHeader);\n        _this.fixedHeaderElement = null;\n      }\n      if (!eventArgs.cancel) {\n        if (_this.getModuleName() === 'autocomplete') {\n          _this.rippleFun();\n        }\n        if (_this.isPopupOpen) {\n          _this.popupObj.hide(new Animation(eventArgs.animation));\n        } else {\n          _this.destroyPopup();\n        }\n      }\n    });\n  };\n  DropDownList.prototype.destroyPopup = function () {\n    this.isPopupOpen = false;\n    this.isFilterFocus = false;\n    this.popupObj.destroy();\n    detach(this.popupObj.element);\n  };\n  DropDownList.prototype.clickOnBackIcon = function () {\n    this.hidePopup();\n    this.focusIn();\n  };\n  /**\n   * To Initialize the control rendering\n   *\n   * @private\n   * @returns {void}\n   */\n  DropDownList.prototype.render = function () {\n    if (this.element.tagName === 'INPUT') {\n      this.inputElement = this.element;\n      if (isNullOrUndefined(this.inputElement.getAttribute('role'))) {\n        this.inputElement.setAttribute('role', 'textbox');\n      }\n      if (isNullOrUndefined(this.inputElement.getAttribute('type'))) {\n        this.inputElement.setAttribute('type', 'text');\n      }\n    } else {\n      this.inputElement = this.createElement('input', {\n        attrs: {\n          role: 'textbox',\n          type: 'text'\n        }\n      });\n      if (this.element.tagName !== this.getNgDirective()) {\n        this.element.style.display = 'none';\n      }\n      this.element.parentElement.insertBefore(this.inputElement, this.element);\n      this.preventTabIndex(this.inputElement);\n    }\n    var updatedCssClassValues = this.cssClass;\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      updatedCssClassValues = this.cssClass.replace(/\\s+/g, ' ').trim();\n    }\n    this.inputWrapper = Input.createInput({\n      element: this.inputElement,\n      buttons: this.isPopupButton() ? [dropDownListClasses.icon] : null,\n      floatLabelType: this.floatLabelType,\n      properties: {\n        readonly: this.getModuleName() === 'dropdownlist' ? true : this.readonly,\n        placeholder: this.placeholder,\n        cssClass: updatedCssClassValues,\n        enabled: this.enabled,\n        enableRtl: this.enableRtl,\n        showClearButton: this.showClearButton\n      }\n    }, this.createElement);\n    if (this.element.tagName === this.getNgDirective()) {\n      this.element.appendChild(this.inputWrapper.container);\n    } else {\n      this.inputElement.parentElement.insertBefore(this.element, this.inputElement);\n    }\n    this.hiddenElement = this.createElement('select', {\n      attrs: {\n        'aria-hidden': 'true',\n        'tabindex': '-1',\n        'class': dropDownListClasses.hiddenElement\n      }\n    });\n    prepend([this.hiddenElement], this.inputWrapper.container);\n    this.validationAttribute(this.element, this.hiddenElement);\n    this.setReadOnly();\n    this.setFields();\n    this.inputWrapper.container.style.width = formatUnit(this.width);\n    this.inputWrapper.container.classList.add('e-ddl');\n    this.wireEvent();\n    this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n    this.element.removeAttribute('tabindex');\n    var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n    this.element.id = id;\n    this.hiddenElement.id = id + '_hidden';\n    this.targetElement().setAttribute('tabindex', this.tabIndex);\n    attributes(this.targetElement(), this.getAriaAttributes());\n    this.updateDataAttribute(this.htmlAttributes);\n    this.setHTMLAttributes();\n    if (this.value !== null || this.activeIndex !== null || this.text !== null) {\n      this.initValue();\n    } else if (this.element.tagName === 'SELECT' && this.element.options[0]) {\n      var selectElement = this.element;\n      this.value = selectElement.options[selectElement.selectedIndex].value;\n      this.text = isNullOrUndefined(this.value) ? null : selectElement.options[selectElement.selectedIndex].textContent;\n      this.initValue();\n    }\n    this.preventTabIndex(this.element);\n    if (!this.enabled) {\n      this.targetElement().tabIndex = -1;\n    }\n    this.initial = false;\n    this.element.style.opacity = '';\n    this.inputElement.onselect = function (e) {\n      e.stopImmediatePropagation();\n    };\n    this.inputElement.onchange = function (e) {\n      e.stopImmediatePropagation();\n    };\n    if (this.element.hasAttribute('autofocus')) {\n      this.focusIn();\n    }\n    if (!isNullOrUndefined(this.text)) {\n      this.inputElement.setAttribute('value', this.text);\n    }\n    if (this.element.hasAttribute('data-val')) {\n      this.element.setAttribute('data-val', 'false');\n    }\n    this.renderComplete();\n  };\n  DropDownList.prototype.setFooterTemplate = function (popupEle) {\n    var compiledString;\n    if (this.footer) {\n      this.footer.innerHTML = '';\n    } else {\n      this.footer = this.createElement('div');\n      addClass([this.footer], dropDownListClasses.footer);\n    }\n    var footercheck = this.dropdownCompiler(this.footerTemplate);\n    if (footercheck) {\n      compiledString = compile(select(this.footerTemplate, document).innerHTML.trim());\n    } else {\n      compiledString = compile(this.footerTemplate);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var footerCompTemp = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, null, this.footer);\n    if (footerCompTemp && footerCompTemp.length > 0) {\n      for (var i = 0; i < footerCompTemp.length; i++) {\n        this.footer.appendChild(footerCompTemp[i]);\n      }\n    }\n    append([this.footer], popupEle);\n  };\n  DropDownList.prototype.setHeaderTemplate = function (popupEle) {\n    var compiledString;\n    if (this.header) {\n      this.header.innerHTML = '';\n    } else {\n      this.header = this.createElement('div');\n      addClass([this.header], dropDownListClasses.header);\n    }\n    var headercheck = this.dropdownCompiler(this.headerTemplate);\n    if (headercheck) {\n      compiledString = compile(select(this.headerTemplate, document).innerHTML.trim());\n    } else {\n      compiledString = compile(this.headerTemplate);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var headerCompTemp = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, null, this.header);\n    if (headerCompTemp && headerCompTemp.length) {\n      for (var i = 0; i < headerCompTemp.length; i++) {\n        this.header.appendChild(headerCompTemp[i]);\n      }\n    }\n    var contentEle = popupEle.querySelector('div.e-content');\n    popupEle.insertBefore(this.header, contentEle);\n  };\n  DropDownList.prototype.setOldText = function (text) {\n    this.text = text;\n  };\n  DropDownList.prototype.setOldValue = function (value) {\n    this.value = value;\n  };\n  DropDownList.prototype.refreshPopup = function () {\n    if (!isNullOrUndefined(this.popupObj) && document.body.contains(this.popupObj.element) && (this.allowFiltering && !(Browser.isDevice && this.isFilterLayout()) || this.getModuleName() === 'autocomplete')) {\n      removeClass([this.popupObj.element], 'e-popup-close');\n      this.popupObj.refreshPosition(this.inputWrapper.container);\n      this.popupObj.resolveCollision();\n    }\n  };\n  DropDownList.prototype.checkData = function (newProp) {\n    if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource)) && this.itemTemplate && this.allowFiltering && !(this.isListSearched && newProp.dataSource instanceof DataManager)) {\n      this.list = null;\n      this.actionCompleteData = {\n        ulElement: null,\n        list: null,\n        isUpdated: false\n      };\n    }\n    this.isListSearched = false;\n    var isChangeValue = Object.keys(newProp).indexOf('value') !== -1 && isNullOrUndefined(newProp.value);\n    var isChangeText = Object.keys(newProp).indexOf('text') !== -1 && isNullOrUndefined(newProp.text);\n    if (this.getModuleName() !== 'autocomplete' && this.allowFiltering && (isChangeValue || isChangeText)) {\n      this.itemData = null;\n    }\n    if (this.allowFiltering && newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource))) {\n      this.actionCompleteData = {\n        ulElement: null,\n        list: null,\n        isUpdated: false\n      };\n      this.actionData = this.actionCompleteData;\n    } else if (this.allowFiltering && newProp.query && !isNullOrUndefined(Object.keys(newProp.query))) {\n      this.actionCompleteData = this.getModuleName() === 'combobox' ? {\n        ulElement: null,\n        list: null,\n        isUpdated: false\n      } : this.actionCompleteData;\n      this.actionData = this.actionCompleteData;\n    }\n  };\n  DropDownList.prototype.updateDataSource = function (props) {\n    if (this.inputElement.value !== '' || !isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource) || !(props.dataSource instanceof DataManager) && props.dataSource.length === 0)) {\n      this.clearAll(null, props);\n    }\n    if (this.fields.groupBy && props.fields && !this.isGroupChecking) {\n      EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n      EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n    }\n    if (!(!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource) || !(props.dataSource instanceof DataManager) && props.dataSource.length === 0)) || !(props.dataSource === [])) {\n      this.typedString = '';\n      this.resetList(this.dataSource);\n    }\n    if (!this.isCustomFilter && !this.isFilterFocus && document.activeElement !== this.filterInput) {\n      this.checkCustomValue();\n    }\n  };\n  DropDownList.prototype.checkCustomValue = function () {\n    this.itemData = this.getDataByValue(this.value);\n    var dataItem = this.getItemData();\n    this.setProperties({\n      'text': dataItem.text,\n      'value': dataItem.value\n    });\n  };\n  DropDownList.prototype.updateInputFields = function () {\n    if (this.getModuleName() === 'dropdownlist') {\n      Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n  };\n  /**\n   * Dynamically change the value of properties.\n   *\n   * @private\n   * @param {DropDownListModel} newProp - Returns the dynamic property value of the component.\n   * @param {DropDownListModel} oldProp - Returns the previous previous value of the component.\n   * @returns {void}\n   */\n  DropDownList.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var _this = this;\n    if (this.getModuleName() === 'dropdownlist') {\n      this.checkData(newProp);\n      this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n    }\n    var _loop_1 = function (prop) {\n      switch (prop) {\n        case 'query':\n        case 'dataSource':\n          break;\n        case 'htmlAttributes':\n          this_1.setHTMLAttributes();\n          break;\n        case 'width':\n          this_1.setEleWidth(newProp.width);\n          break;\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this_1.inputElement);\n          break;\n        case 'filterBarPlaceholder':\n          if (this_1.filterInput) {\n            Input.setPlaceholder(newProp.filterBarPlaceholder, this_1.filterInput);\n          }\n          break;\n        case 'readonly':\n          if (this_1.getModuleName() !== 'dropdownlist') {\n            Input.setReadonly(newProp.readonly, this_1.inputElement);\n          }\n          this_1.setReadOnly();\n          break;\n        case 'cssClass':\n          this_1.setCssClass(newProp.cssClass, oldProp.cssClass);\n          break;\n        case 'enableRtl':\n          this_1.setEnableRtl();\n          break;\n        case 'enabled':\n          this_1.setEnable();\n          break;\n        case 'text':\n          if (newProp.text === null) {\n            this_1.clearAll();\n            break;\n          }\n          if (!this_1.list) {\n            if (this_1.dataSource instanceof DataManager) {\n              this_1.initRemoteRender = true;\n            }\n            this_1.renderList();\n          }\n          if (!this_1.initRemoteRender) {\n            var li = this_1.getElementByText(newProp.text);\n            if (!this_1.checkValidLi(li)) {\n              if (this_1.liCollections && this_1.liCollections.length === 100 && this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                this_1.setSelectionData(newProp.text, oldProp.text, 'text');\n              } else if (newProp.text && this_1.dataSource instanceof DataManager) {\n                var listLength_1 = this_1.getItems().length;\n                var checkField = isNullOrUndefined(this_1.fields.text) ? this_1.fields.value : this_1.fields.text;\n                this_1.typedString = '';\n                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', newProp.text))).then(function (e) {\n                  if (e.result.length > 0) {\n                    _this.addItem(e.result, listLength_1);\n                    _this.updateValues();\n                  } else {\n                    _this.setOldText(oldProp.text);\n                  }\n                });\n              } else {\n                this_1.setOldText(oldProp.text);\n              }\n            }\n            this_1.updateInputFields();\n          }\n          break;\n        case 'value':\n          if (newProp.value === null) {\n            this_1.clearAll();\n            break;\n          }\n          this_1.notify('beforeValueChange', {\n            newProp: newProp\n          }); // gird component value type change\n          if (!this_1.list) {\n            if (this_1.dataSource instanceof DataManager) {\n              this_1.initRemoteRender = true;\n            }\n            this_1.renderList();\n          }\n          if (!this_1.initRemoteRender) {\n            var item = this_1.getElementByValue(newProp.value);\n            if (!this_1.checkValidLi(item)) {\n              if (this_1.liCollections && this_1.liCollections.length === 100 && this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                this_1.setSelectionData(newProp.value, oldProp.value, 'value');\n              } else if (newProp.value && this_1.dataSource instanceof DataManager) {\n                var listLength_2 = this_1.getItems().length;\n                var checkField = isNullOrUndefined(this_1.fields.value) ? this_1.fields.text : this_1.fields.value;\n                this_1.typedString = '';\n                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', newProp.value))).then(function (e) {\n                  if (e.result.length > 0) {\n                    _this.addItem(e.result, listLength_2);\n                    _this.updateValues();\n                  } else {\n                    _this.setOldValue(oldProp.value);\n                  }\n                });\n              } else {\n                this_1.setOldValue(oldProp.value);\n              }\n            }\n            this_1.updateInputFields();\n            this_1.preventChange = this_1.isAngular && this_1.preventChange ? !this_1.preventChange : this_1.preventChange;\n          }\n          break;\n        case 'index':\n          if (newProp.index === null) {\n            this_1.clearAll();\n            break;\n          }\n          if (!this_1.list) {\n            if (this_1.dataSource instanceof DataManager) {\n              this_1.initRemoteRender = true;\n            }\n            this_1.renderList();\n          }\n          if (!this_1.initRemoteRender && this_1.liCollections) {\n            var element = this_1.liCollections[newProp.index];\n            if (!this_1.checkValidLi(element)) {\n              if (this_1.liCollections && this_1.liCollections.length === 100 && this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                this_1.setSelectionData(newProp.index, oldProp.index, 'index');\n              } else {\n                this_1.index = oldProp.index;\n              }\n            }\n            this_1.updateInputFields();\n          }\n          break;\n        case 'footerTemplate':\n          if (this_1.popupObj) {\n            this_1.setFooterTemplate(this_1.popupObj.element);\n          }\n          break;\n        case 'headerTemplate':\n          if (this_1.popupObj) {\n            this_1.setHeaderTemplate(this_1.popupObj.element);\n          }\n          break;\n        case 'valueTemplate':\n          if (!isNullOrUndefined(this_1.itemData) && this_1.valueTemplate != null) {\n            this_1.setValueTemplate();\n          }\n          break;\n        case 'allowFiltering':\n          if (this_1.allowFiltering) {\n            this_1.actionCompleteData = {\n              ulElement: this_1.ulElement,\n              list: this_1.listData,\n              isUpdated: true\n            };\n            this_1.actionData = this_1.actionCompleteData;\n            this_1.updateSelectElementData(this_1.allowFiltering);\n          }\n          break;\n        case 'floatLabelType':\n          Input.removeFloating(this_1.inputWrapper);\n          Input.addFloating(this_1.inputElement, newProp.floatLabelType, this_1.placeholder, this_1.createElement);\n          break;\n        case 'showClearButton':\n          Input.setClearButton(newProp.showClearButton, this_1.inputElement, this_1.inputWrapper, null, this_1.createElement);\n          this_1.bindClearEvent();\n          break;\n        default:\n          {\n            // eslint-disable-next-line max-len\n            var ddlProps = this_1.getPropObject(prop, newProp, oldProp);\n            _super.prototype.onPropertyChanged.call(this_1, ddlProps.newProperty, ddlProps.oldProperty);\n          }\n          break;\n      }\n    };\n    var this_1 = this;\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      _loop_1(prop);\n    }\n  };\n  DropDownList.prototype.checkValidLi = function (element) {\n    if (this.isValidLI(element)) {\n      this.setSelection(element, null);\n      return true;\n    }\n    return false;\n  };\n  DropDownList.prototype.setSelectionData = function (newProp, oldProp, prop) {\n    var _this = this;\n    var li;\n    this.updateListValues = function () {\n      if (prop === 'text') {\n        li = _this.getElementByText(newProp);\n        if (!_this.checkValidLi(li)) {\n          _this.setOldText(oldProp);\n        }\n      } else if (prop === 'value') {\n        li = _this.getElementByValue(newProp);\n        if (!_this.checkValidLi(li)) {\n          _this.setOldValue(oldProp);\n        }\n      } else if (prop === 'index') {\n        li = _this.liCollections[newProp];\n        if (!_this.checkValidLi(li)) {\n          _this.index = oldProp;\n        }\n      }\n    };\n  };\n  DropDownList.prototype.setReadOnly = function () {\n    if (this.readonly) {\n      addClass([this.inputWrapper.container], ['e-readonly']);\n    } else {\n      removeClass([this.inputWrapper.container], ['e-readonly']);\n    }\n  };\n  DropDownList.prototype.setCssClass = function (newClass, oldClass) {\n    if (!isNullOrUndefined(oldClass)) {\n      oldClass = oldClass.replace(/\\s+/g, ' ').trim();\n    }\n    if (!isNullOrUndefined(newClass)) {\n      newClass = newClass.replace(/\\s+/g, ' ').trim();\n    }\n    Input.setCssClass(newClass, [this.inputWrapper.container], oldClass);\n    if (this.popupObj) {\n      Input.setCssClass(newClass, [this.popupObj.element], oldClass);\n    }\n  };\n  /**\n   * Return the module name of this component.\n   *\n   * @private\n   * @returns {string} Return the module name of this component.\n   */\n  DropDownList.prototype.getModuleName = function () {\n    return 'dropdownlist';\n  };\n  /**\n   * Opens the popup that displays the list of items.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.showPopup = function () {\n    if (!this.enabled) {\n      return;\n    }\n    if (this.isFiltering() && this.dataSource instanceof DataManager && this.actionData.list != this.actionCompleteData.list && this.actionData.list && this.actionData.ulElement) {\n      this.actionCompleteData = this.actionData;\n      this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n    }\n    if (this.beforePopupOpen) {\n      this.refreshPopup();\n      return;\n    }\n    this.beforePopupOpen = true;\n    if (this.isFiltering() && !this.isActive && this.actionCompleteData.list && this.actionCompleteData.list[0]) {\n      this.isActive = true;\n      this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n    } else if (isNullOrUndefined(this.list) || !isUndefined(this.list) && (this.list.classList.contains(dropDownBaseClasses.noData) || this.list.querySelectorAll('.' + dropDownBaseClasses.li).length <= 0)) {\n      this.renderList();\n    }\n    this.invokeRenderPopup();\n  };\n  DropDownList.prototype.invokeRenderPopup = function () {\n    if (Browser.isDevice && this.isFilterLayout()) {\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      var proxy_2 = this;\n      window.onpopstate = function () {\n        proxy_2.hidePopup();\n      };\n      history.pushState({}, '');\n    }\n    if (!isNullOrUndefined(this.list.children[0]) || this.list.classList.contains(dropDownBaseClasses.noData)) {\n      this.renderPopup();\n    }\n    attributes(this.targetElement(), {\n      'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null\n    });\n  };\n  DropDownList.prototype.renderHightSearch = function () {\n    // update high light search\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n  /**\n   * Hides the popup if it is in an open state.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.hidePopup = function (e) {\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    if (this.isEscapeKey && this.getModuleName() === 'dropdownlist') {\n      Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n      this.isEscapeKey = false;\n      if (!isNullOrUndefined(this.index)) {\n        var element = this.findListElement(this.ulElement, 'li', 'data-value', this.value);\n        this.selectedLI = this.liCollections[this.index] || element;\n        if (this.selectedLI) {\n          this.updateSelectedItem(this.selectedLI, null, true);\n          if (this.valueTemplate && this.itemData !== null) {\n            this.setValueTemplate();\n          }\n        }\n      } else {\n        this.resetSelection();\n      }\n    }\n    this.closePopup();\n    var dataItem = this.getItemData();\n    var isSelectVal = !isNullOrUndefined(this.selectedLI);\n    if (this.inputElement && this.inputElement.value.trim() === '' && !this.isInteracted && (this.isSelectCustom || isSelectVal && this.inputElement.value !== dataItem.text)) {\n      this.isSelectCustom = false;\n      this.clearAll(e);\n    }\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n  /**\n   * Sets the focus on the component for interaction.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.focusIn = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n    if (this.targetElement().classList.contains(dropDownListClasses.disable)) {\n      return;\n    }\n    var isFocused = false;\n    if (this.preventFocus && Browser.isDevice) {\n      this.inputWrapper.container.tabIndex = 1;\n      this.inputWrapper.container.focus();\n      this.preventFocus = false;\n      isFocused = true;\n    }\n    if (!isFocused) {\n      this.targetElement().focus();\n    }\n    addClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n    this.onFocus(e);\n  };\n  /**\n   * Moves the focus from the component if the component is already focused.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.focusOut = function (e) {\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    if (!this.enabled) {\n      return;\n    }\n    this.isTyped = true;\n    this.hidePopup(e);\n    if (this.targetElement()) {\n      this.targetElement().blur();\n    }\n    removeClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n  };\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n   *\n   * @method destroy\n   * @returns {void}\n   */\n  DropDownList.prototype.destroy = function () {\n    this.isActive = false;\n    resetIncrementalSearchValues(this.element.id);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.isReact) {\n      this.clearTemplate();\n    }\n    this.hidePopup();\n    this.unWireEvent();\n    if (this.list) {\n      this.unWireListEvents();\n    }\n    if (this.element && !this.element.classList.contains('e-' + this.getModuleName())) {\n      return;\n    }\n    if (this.inputElement) {\n      var attrArray = ['readonly', 'aria-disabled', 'aria-placeholder', 'placeholder', 'aria-owns', 'aria-labelledby', 'aria-haspopup', 'aria-expanded', 'aria-activedescendant', 'autocomplete', 'aria-readonly', 'autocorrect', 'autocapitalize', 'spellcheck', 'aria-autocomplete', 'aria-live', 'aria-describedby', 'aria-label'];\n      for (var i = 0; i < attrArray.length; i++) {\n        this.inputElement.removeAttribute(attrArray[i]);\n      }\n      this.inputElement.setAttribute('tabindex', this.tabIndex);\n      this.inputElement.classList.remove('e-input');\n      Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n    this.element.style.display = 'block';\n    if (this.inputWrapper.container.parentElement.tagName === this.getNgDirective()) {\n      detach(this.inputWrapper.container);\n    } else {\n      this.inputWrapper.container.parentElement.insertBefore(this.element, this.inputWrapper.container);\n      detach(this.inputWrapper.container);\n    }\n    _super.prototype.destroy.call(this);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets all the list items bound on this component.\n   *\n   * @returns {Element[]}\n   */\n  DropDownList.prototype.getItems = function () {\n    if (!this.list) {\n      if (this.dataSource instanceof DataManager) {\n        this.initRemoteRender = true;\n      }\n      this.renderList();\n    }\n    return this.ulElement ? _super.prototype.getItems.call(this) : [];\n  };\n  /**\n   * Gets the data Object that matches the given value.\n   *\n   * @param { string | number } value - Specifies the value of the list item.\n   * @returns {Object}\n   */\n  DropDownList.prototype.getDataByValue = function (value) {\n    return _super.prototype.getDataByValue.call(this, value);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Allows you to clear the selected values from the component.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.clear = function () {\n    this.value = null;\n  };\n  __decorate([Property(null)], DropDownList.prototype, \"cssClass\", void 0);\n  __decorate([Property('100%')], DropDownList.prototype, \"width\", void 0);\n  __decorate([Property('300px')], DropDownList.prototype, \"popupHeight\", void 0);\n  __decorate([Property('100%')], DropDownList.prototype, \"popupWidth\", void 0);\n  __decorate([Property(null)], DropDownList.prototype, \"placeholder\", void 0);\n  __decorate([Property(null)], DropDownList.prototype, \"filterBarPlaceholder\", void 0);\n  __decorate([Property({})], DropDownList.prototype, \"htmlAttributes\", void 0);\n  __decorate([Property(null)], DropDownList.prototype, \"query\", void 0);\n  __decorate([Property(null)], DropDownList.prototype, \"valueTemplate\", void 0);\n  __decorate([Property(null)], DropDownList.prototype, \"headerTemplate\", void 0);\n  __decorate([Property(null)], DropDownList.prototype, \"footerTemplate\", void 0);\n  __decorate([Property(false)], DropDownList.prototype, \"allowFiltering\", void 0);\n  __decorate([Property(false)], DropDownList.prototype, \"readonly\", void 0);\n  __decorate([Property(null)], DropDownList.prototype, \"text\", void 0);\n  __decorate([Property(null)], DropDownList.prototype, \"value\", void 0);\n  __decorate([Property(null)], DropDownList.prototype, \"index\", void 0);\n  __decorate([Property('Never')], DropDownList.prototype, \"floatLabelType\", void 0);\n  __decorate([Property(false)], DropDownList.prototype, \"showClearButton\", void 0);\n  __decorate([Event()], DropDownList.prototype, \"filtering\", void 0);\n  __decorate([Event()], DropDownList.prototype, \"change\", void 0);\n  __decorate([Event()], DropDownList.prototype, \"beforeOpen\", void 0);\n  __decorate([Event()], DropDownList.prototype, \"open\", void 0);\n  __decorate([Event()], DropDownList.prototype, \"close\", void 0);\n  __decorate([Event()], DropDownList.prototype, \"blur\", void 0);\n  __decorate([Event()], DropDownList.prototype, \"focus\", void 0);\n  DropDownList = __decorate([NotifyPropertyChanges], DropDownList);\n  return DropDownList;\n}(DropDownBase);\nexport { DropDownList };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","EventHandler","Property","Event","compile","KeyboardEvents","append","select","attributes","isNullOrUndefined","getUniqueID","formatUnit","isUndefined","getValue","Animation","Browser","NotifyPropertyChanges","addClass","removeClass","closest","prepend","detach","classList","Popup","isCollide","createSpinner","showSpinner","hideSpinner","Input","incrementalSearch","resetIncrementalSearchValues","DropDownBase","dropDownBaseClasses","DataManager","Query","Predicate","dropDownListClasses","root","hover","selected","rtl","li","disable","disabled","base","focus","input","inputFocus","icon","iconAnimation","value","device","backIcon","filterBarClearIcon","filterInput","filterParent","mobileFilter","footer","header","clearIcon","clearIconHide","popupFullScreen","disableIcon","hiddenElement","inputObject","container","buttons","DropDownList","_super","options","element","_this","call","isListSearched","preventChange","isAngular","preRender","valueTempElement","style","opacity","initializeData","activeIndex","index","queryString","isPopupOpen","isDocumentClick","isInteracted","isFilterFocus","beforePopupOpen","initial","initRemoteRender","isNotSearchList","isTyped","isSelected","preventFocus","preventAutoFill","isValidKey","typedString","isEscapeKey","isPreventBlur","isTabKey","actionCompleteData","isUpdated","actionData","prevSelectPoints","isSelectCustom","isDropDownClick","preventAltUp","isCustomFilter","isSecondClick","previousValue","keyConfigure","tab","enter","escape","end","home","down","up","pageUp","pageDown","open","close","hide","space","setZIndex","popupObj","setProperties","zIndex","renderList","isEmptyData","render","unWireListEvents","wireListEvents","floatLabelChange","getModuleName","floatLabelType","floatElement","inputWrapper","querySelector","inputElement","resetHandler","e","preventDefault","clearAll","resetFocusElement","removeHover","removeSelection","removeFocus","list","scrollTop","ulElement","add","properties","dataSource","isActive","resetSelection","dataItem","getItemData","onChangeEvent","selectedLI","resetList","allowFiltering","onActionComplete","cloneNode","innerHTML","itemData","text","item","display","setSelection","updateIconState","cloneElements","setHTMLAttributes","keys","htmlAttributes","_i","_a","htmlAttr","updatedClassValue","replace","trim","split","enabled","setEnable","readonly","dataBind","setAttribute","defaultAttr","validateAttr","push","indexOf","setPlaceholder","removeAttribute","getAriaAttributes","id","setEnableRtl","enableRtl","parentElement","setEnabled","targetElement","tabIndex","hidePopup","getPersistData","addOnPersist","getLocaleName","preventTabIndex","getNgDirective","getElementByText","getElementByValue","getValueByText","listItems","getItems","listItems_1","liItem","getFormattedValue","getAttribute","initValue","updateValues","liCollections","setHiddenValue","setValue","showClearButton","onBlurHandler","relatedTarget","currentTarget","isFilterLayout","document","body","contains","activeElement","focusOutAction","isRequested","focusOut","onFocusOut","dispatchEvent","tagName","clearButton","trigger","onFocus","args","event","resetValueHandler","formElement","val","wireEvent","dropDownClick","focusIn","onSearch","bindCommonEvent","isDevice","keyboardModule","keyAction","keyActionHandler","bind","keyConfigs","eventName","mobileKeyActionHandler","bindClearEvent","unBindCommonEvent","remove","destroy","onMouseClick","onMouseOver","onMouseLeave","charCode","undefined","searchKeyEvent","onServerIncrementalSearch","isValidLI","history","back","delay","closePopup","currentLi","setHover","hoveredItem","querySelectorAll","hasAttribute","setScrollPosition","spinnerElement","filterInputObj","width","createElement","preventAction","action","preventHomeEnd","isNavAction","isNavigation","isEditTextBox","isTabAction","updateUpDownAction","pageUpSelection","getPageCount","pageDownSelection","updateHomeEndAction","showPopup","focusDropDown","selectCurrentItem","selectCurrentValueOnTab","focusEle","isSelectFocusItem","startIndex","nextItem","findLi","liHeight","noData","getComputedStyle","getPropertyValue","Math","round","getBoundingClientRect","height","parseInt","steps","previousItem","unWireEvent","checkSelector","onDocumentClick","isIE","info","name","activeStateChange","which","button","proxy_1","duration","itemTemplate","setTimeout","updateSelectedItem","preventSelect","isSelection","selectedData","getDataByValue","items","detachChanges","eventArgs","cancel","selectEventCallback","setSelectOptions","previousItemData","focusedItem","getIndexByValue","activeItem","valueTemplate","setValueTemplate","previousSibling","isFilterElement","isFiltering","clearElement","removeProperty","previousSelectedLI","type","dropdownCompiler","dropdownTemplate","checkTemplate","exception","compiledString","isReact","clearTemplate","className","insertBefore","valuecheck","valueCompTemp","valueTemplateId","isStringTemplate","appendChild","renderReactTemplates","selectedItems","fields","dataValue","dataText","eve","detachChangeEvent","defineProperties","enumerable","preItems","selectedElement","textContent","toString","onFilterUp","ctrlKey","keyCode","searchLists","onFilterDown","getSelectionPoints","removeFillSelection","selection","setSelectionRange","getQuery","query","filterQuery","clone","filterType","dataType","typeOfData","typeof","where","ignoreCase","ignoreAccent","start","abs","selectionStart","selectionEnd","visibility","isDataFetched","eventArgs_1","preventDefaultAction","updateData","filteringAction","baseEventArgs","filter","focusIndexItem","setSearchBox","popupElement","attrs","parentNode","createInput","placeholder","filterBarPlaceholder","cssClass","clearIconElement","clearText","searchKeyModule","onInput","pasteHandler","onActionFailure","renderPopup","selectedItem","updateSelectElementData","checkField_1","checkVal","some","x","executeQuery","then","result","addItem","updateActionCompleteDataValues","addNewItem","listData","newElement","value_1","isExist","data","updateActionCompleteData","actionCompleteDataUpdate","childNodes","findListElement","updateSelection","highlightedItem","refreshPopup","popupEle","searchBox","listHeight","popupHeight","headerTemplate","setHeaderTemplate","footerTemplate","setFooterTemplate","searchBoxHeight","maxHeight","offsetValue","left","getOffsetValue","firstItem","isEmptyList","textIndent","paddingLeft","borderLeftWidth","getFocusElement","createPopup","checkCollision","collision","X","Y","position","setSearchBoxPosition","backIconElement","clickOnBackIcon","scrollParentElements","getScrollableParent","scrollParentElements_1","scrollHandler","listScroll","inputParent","animModel","popupInstance","popup","animation","show","destroyPopup","marginTop","resolveCollision","popupStyles","borderTop","borderTopWidth","borderBottom","borderBottomWidth","setPopupPosition","setWidth","targetType","relateTo","offsetY","offsetX","isResetItem","actionList","targetExitViewport","window","innerHeight","border","popupOffset","lastItem","offsetHeight","offsetTop","lastItemOffsetValue","count","paddingBottom","inputHeight","popupWidth","inputWidth","offsetWidth","parseFloat","scrollBottom","isInitial","currentOffset","nextBottom","nextOffset","paddingTop","boxRange","groupBy","fixedHeaderElement","isPopupButton","blur","setEleWidth","match","scrollableParentElements","scrollableParentElements_1","fixedHeader","removeChild","rippleFun","role","updatedCssClassValues","validationAttribute","setReadOnly","setFields","updateDataAttribute","selectElement","selectedIndex","onselect","stopImmediatePropagation","onchange","renderComplete","footercheck","footerCompTemp","footerTemplateId","headercheck","headerCompTemp","headerTemplateId","contentEle","setOldText","setOldValue","refreshPosition","checkData","newProp","isChangeValue","isChangeText","updateDataSource","props","isGroupChecking","setFloatingHeader","checkCustomValue","updateInputFields","onPropertyChanged","oldProp","setUpdateInitial","_loop_1","prop","this_1","setReadonly","setCssClass","checkValidLi","setSelectionData","listLength_1","checkField","notify","listLength_2","removeFloating","addFloating","setClearButton","ddlProps","getPropObject","newProperty","oldProperty","updateListValues","newClass","oldClass","invokeRenderPopup","proxy_2","onpopstate","pushState","children","renderHightSearch","isSelectVal","isFocused","attrArray","clear"],"sources":["C:/Users/Josh/Desktop/School-work/admin_dash/Admin_Dashboard/node_modules/@syncfusion/ej2-dropdowns/src/drop-down-list/drop-down-list.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { EventHandler, Property, Event, compile, KeyboardEvents, append, select } from '@syncfusion/ej2-base';\nimport { attributes, isNullOrUndefined, getUniqueID, formatUnit, isUndefined, getValue } from '@syncfusion/ej2-base';\nimport { Animation, Browser, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, closest, prepend, detach, classList } from '@syncfusion/ej2-base';\nimport { Popup, isCollide, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { incrementalSearch, resetIncrementalSearchValues } from '../common/incremental-search';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { DataManager, Query, Predicate } from '@syncfusion/ej2-data';\n// don't use space in classnames\nexport var dropDownListClasses = {\n    root: 'e-dropdownlist',\n    hover: dropDownBaseClasses.hover,\n    selected: dropDownBaseClasses.selected,\n    rtl: dropDownBaseClasses.rtl,\n    li: dropDownBaseClasses.li,\n    disable: dropDownBaseClasses.disabled,\n    base: dropDownBaseClasses.root,\n    focus: dropDownBaseClasses.focus,\n    input: 'e-input-group',\n    inputFocus: 'e-input-focus',\n    icon: 'e-input-group-icon e-ddl-icon',\n    iconAnimation: 'e-icon-anim',\n    value: 'e-input-value',\n    device: 'e-ddl-device',\n    backIcon: 'e-input-group-icon e-back-icon e-icons',\n    filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n    filterInput: 'e-input-filter',\n    filterParent: 'e-filter-parent',\n    mobileFilter: 'e-ddl-device-filter',\n    footer: 'e-ddl-footer',\n    header: 'e-ddl-header',\n    clearIcon: 'e-clear-icon',\n    clearIconHide: 'e-clear-icon-hide',\n    popupFullScreen: 'e-popup-full-page',\n    disableIcon: 'e-ddl-disable-icon',\n    hiddenElement: 'e-ddl-hidden'\n};\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The DropDownList component contains a list of predefined values from which you can\n * choose a single value.\n * ```html\n * <input type=\"text\" tabindex=\"1\" id=\"list\"> </input>\n * ```\n * ```typescript\n *   let dropDownListObj:DropDownList = new DropDownList();\n *   dropDownListObj.appendTo(\"#list\");\n * ```\n */\nvar DropDownList = /** @class */ (function (_super) {\n    __extends(DropDownList, _super);\n    /**\n     * * Constructor for creating the DropDownList component.\n     *\n     * @param {DropDownListModel} options - Specifies the DropDownList model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DropDownList(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isListSearched = false;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        return _this;\n    }\n    /**\n     * Initialize the event handler.\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownList.prototype.preRender = function () {\n        this.valueTempElement = null;\n        this.element.style.opacity = '0';\n        this.initializeData();\n        _super.prototype.preRender.call(this);\n        this.activeIndex = this.index;\n        this.queryString = '';\n    };\n    DropDownList.prototype.initializeData = function () {\n        this.isPopupOpen = false;\n        this.isDocumentClick = false;\n        this.isInteracted = false;\n        this.isFilterFocus = false;\n        this.beforePopupOpen = false;\n        this.initial = true;\n        this.initRemoteRender = false;\n        this.isNotSearchList = false;\n        this.isTyped = false;\n        this.isSelected = false;\n        this.preventFocus = false;\n        this.preventAutoFill = false;\n        this.isValidKey = false;\n        this.typedString = '';\n        this.isEscapeKey = false;\n        this.isPreventBlur = false;\n        this.isTabKey = false;\n        this.actionCompleteData = { isUpdated: false };\n        this.actionData = { isUpdated: false };\n        this.prevSelectPoints = {};\n        this.isSelectCustom = false;\n        this.isDropDownClick = false;\n        this.preventAltUp = false;\n        this.isCustomFilter = false;\n        this.isSecondClick = false;\n        this.previousValue = null;\n        this.keyConfigure = {\n            tab: 'tab',\n            enter: '13',\n            escape: '27',\n            end: '35',\n            home: '36',\n            down: '40',\n            up: '38',\n            pageUp: '33',\n            pageDown: '34',\n            open: 'alt+40',\n            close: 'shift+tab',\n            hide: 'alt+38',\n            space: '32'\n        };\n    };\n    DropDownList.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ 'zIndex': this.zIndex });\n        }\n    };\n    DropDownList.prototype.renderList = function (isEmptyData) {\n        _super.prototype.render.call(this, isEmptyData);\n        this.unWireListEvents();\n        this.wireListEvents();\n    };\n    DropDownList.prototype.floatLabelChange = function () {\n        if (this.getModuleName() === 'dropdownlist' && this.floatLabelType === 'Auto') {\n            var floatElement = this.inputWrapper.container.querySelector('.e-float-text');\n            if (this.inputElement.value !== '' || this.isInteracted) {\n                classList(floatElement, ['e-label-top'], ['e-label-bottom']);\n            }\n            else {\n                classList(floatElement, ['e-label-bottom'], ['e-label-top']);\n            }\n        }\n    };\n    DropDownList.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        this.clearAll(e);\n    };\n    DropDownList.prototype.resetFocusElement = function () {\n        this.removeHover();\n        this.removeSelection();\n        this.removeFocus();\n        this.list.scrollTop = 0;\n        if (this.getModuleName() !== 'autocomplete' && !isNullOrUndefined(this.ulElement)) {\n            var li = this.ulElement.querySelector('.' + dropDownListClasses.li);\n            if (li) {\n                li.classList.add(dropDownListClasses.focus);\n            }\n        }\n    };\n    DropDownList.prototype.clearAll = function (e, properties) {\n        if (isNullOrUndefined(properties) || (!isNullOrUndefined(properties) &&\n            (isNullOrUndefined(properties.dataSource) ||\n                (!(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)))) {\n            this.isActive = true;\n            this.resetSelection(properties);\n        }\n        var dataItem = this.getItemData();\n        if (this.previousValue === dataItem.value) {\n            return;\n        }\n        this.onChangeEvent(e);\n    };\n    DropDownList.prototype.resetSelection = function (properties) {\n        if (this.list) {\n            if ((!isNullOrUndefined(properties) &&\n                (isNullOrUndefined(properties.dataSource) ||\n                    (!(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)))) {\n                this.selectedLI = null;\n                this.actionCompleteData.isUpdated = false;\n                this.actionCompleteData.ulElement = null;\n                this.actionCompleteData.list = null;\n                this.resetList(properties.dataSource);\n            }\n            else {\n                if (this.allowFiltering && this.getModuleName() !== 'autocomplete'\n                    && !isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list)) {\n                    this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(true), this.actionCompleteData.list);\n                }\n                this.resetFocusElement();\n            }\n        }\n        this.hiddenElement.innerHTML = '';\n        this.inputElement.value = '';\n        this.value = null;\n        this.itemData = null;\n        this.text = null;\n        this.index = null;\n        this.activeIndex = null;\n        this.item = null;\n        this.queryString = '';\n        if (this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n            this.valueTempElement = null;\n        }\n        this.setSelection(null, null);\n        this.isSelectCustom = false;\n        this.updateIconState();\n        this.cloneElements();\n    };\n    DropDownList.prototype.setHTMLAttributes = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                if (htmlAttr === 'class') {\n                    var updatedClassValue = (this.htmlAttributes[htmlAttr].replace(/\\s+/g, ' ')).trim();\n                    if (updatedClassValue !== '') {\n                        addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n                    }\n                }\n                else if (htmlAttr === 'disabled' && this.htmlAttributes[htmlAttr] === 'disabled') {\n                    this.enabled = false;\n                    this.setEnable();\n                }\n                else if (htmlAttr === 'readonly' && !isNullOrUndefined(this.htmlAttributes[htmlAttr])) {\n                    this.readonly = true;\n                    this.dataBind();\n                }\n                else if (htmlAttr === 'style') {\n                    this.inputWrapper.container.setAttribute('style', this.htmlAttributes[htmlAttr]);\n                }\n                else {\n                    var defaultAttr = ['title', 'id', 'placeholder', 'aria-placeholder',\n                        'role', 'autocorrect', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n                    var validateAttr = ['name', 'required'];\n                    if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n                        defaultAttr.push('tabindex');\n                    }\n                    if (validateAttr.indexOf(htmlAttr) > -1 || htmlAttr.indexOf('data') === 0) {\n                        this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                    }\n                    else if (defaultAttr.indexOf(htmlAttr) > -1) {\n                        if (htmlAttr === 'placeholder') {\n                            Input.setPlaceholder(this.htmlAttributes[htmlAttr], this.inputElement);\n                        }\n                        else {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                        }\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                    }\n                }\n            }\n        }\n        if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n            this.inputWrapper.container.removeAttribute('tabindex');\n        }\n    };\n    DropDownList.prototype.getAriaAttributes = function () {\n        return {\n            'aria-disabled': 'false',\n            'aria-owns': this.element.id + '_options',\n            'role': 'listbox',\n            'aria-haspopup': 'true',\n            'aria-expanded': 'false',\n            'aria-activedescendant': 'null',\n            'aria-live': 'polite',\n            'aria-labelledby': this.hiddenElement.id\n        };\n    };\n    DropDownList.prototype.setEnableRtl = function () {\n        Input.setEnableRtl(this.enableRtl, [this.inputElement.parentElement]);\n        if (this.popupObj) {\n            this.popupObj.enableRtl = this.enableRtl;\n            this.popupObj.dataBind();\n        }\n    };\n    DropDownList.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputElement);\n        if (this.enabled) {\n            removeClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.targetElement().setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.hidePopup();\n            addClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.targetElement().tabIndex = -1;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    DropDownList.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    DropDownList.prototype.getLocaleName = function () {\n        return 'drop-down-list';\n    };\n    DropDownList.prototype.preventTabIndex = function (element) {\n        if (this.getModuleName() === 'dropdownlist') {\n            element.tabIndex = -1;\n        }\n    };\n    DropDownList.prototype.targetElement = function () {\n        return this.inputWrapper.container;\n    };\n    DropDownList.prototype.getNgDirective = function () {\n        return 'EJS-DROPDOWNLIST';\n    };\n    DropDownList.prototype.getElementByText = function (text) {\n        return this.getElementByValue(this.getValueByText(text));\n    };\n    DropDownList.prototype.getElementByValue = function (value) {\n        var item;\n        var listItems = this.getItems();\n        for (var _i = 0, listItems_1 = listItems; _i < listItems_1.length; _i++) {\n            var liItem = listItems_1[_i];\n            if (this.getFormattedValue(liItem.getAttribute('data-value')) === value) {\n                item = liItem;\n                break;\n            }\n        }\n        return item;\n    };\n    DropDownList.prototype.initValue = function () {\n        this.renderList();\n        if (this.dataSource instanceof DataManager) {\n            this.initRemoteRender = true;\n        }\n        else {\n            this.updateValues();\n        }\n    };\n    DropDownList.prototype.updateValues = function () {\n        if (!isNullOrUndefined(this.value)) {\n            this.setSelection(this.getElementByValue(this.value), null);\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var element = this.getElementByText(this.text);\n            if (isNullOrUndefined(element)) {\n                this.setProperties({ text: null });\n                return;\n            }\n            else {\n                this.setSelection(element, null);\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    DropDownList.prototype.onBlurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        var target = e.relatedTarget;\n        var currentTarget = e.target;\n        var isPreventBlur = this.isPreventBlur;\n        this.isPreventBlur = false;\n        //IE 11 - issue\n        if (isPreventBlur && !this.isDocumentClick && this.isPopupOpen && (!isNullOrUndefined(currentTarget) ||\n            !this.isFilterLayout() && isNullOrUndefined(target))) {\n            if (this.getModuleName() === 'dropdownlist' && this.allowFiltering && this.isPopupOpen) {\n                this.filterInput.focus();\n            }\n            else {\n                this.targetElement().focus();\n            }\n            return;\n        }\n        if (this.isDocumentClick || (!isNullOrUndefined(this.popupObj)\n            && document.body.contains(this.popupObj.element) &&\n            this.popupObj.element.classList.contains(dropDownListClasses.mobileFilter))) {\n            if (!this.beforePopupOpen) {\n                this.isDocumentClick = false;\n            }\n            return;\n        }\n        if (((this.getModuleName() === 'dropdownlist' && !this.isFilterFocus && target !== this.inputElement)\n            && (document.activeElement !== target || (document.activeElement === target &&\n                currentTarget.classList.contains(dropDownListClasses.inputFocus)))) ||\n            (isNullOrUndefined(target) && this.getModuleName() === 'dropdownlist' && this.allowFiltering &&\n                currentTarget !== this.inputWrapper.container) || this.getModuleName() !== 'dropdownlist' &&\n            !this.inputWrapper.container.contains(target) || this.isTabKey) {\n            this.isDocumentClick = this.isPopupOpen ? true : false;\n            this.focusOutAction(e);\n            this.isTabKey = false;\n        }\n        if (this.isRequested && !this.isPopupOpen && !this.isPreventBlur) {\n            this.isActive = false;\n            this.beforePopupOpen = false;\n        }\n    };\n    DropDownList.prototype.focusOutAction = function (e) {\n        this.isInteracted = false;\n        this.focusOut(e);\n        this.onFocusOut();\n    };\n    DropDownList.prototype.onFocusOut = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.isSelected) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(null);\n        }\n        this.floatLabelChange();\n        this.dispatchEvent(this.hiddenElement, 'change');\n        if (this.getModuleName() === 'dropdownlist' && this.element.tagName !== 'INPUT') {\n            this.dispatchEvent(this.inputElement, 'blur');\n        }\n        if (this.inputWrapper.clearButton) {\n            addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n        }\n        this.trigger('blur');\n    };\n    DropDownList.prototype.onFocus = function (e) {\n        if (!this.isInteracted) {\n            this.isInteracted = true;\n            var args = { isInteracted: e ? true : false, event: e };\n            this.trigger('focus', args);\n        }\n        this.updateIconState();\n    };\n    DropDownList.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement && e.target === formElement) {\n            var val = (this.element.tagName === this.getNgDirective()) ? null : this.inputElement.getAttribute('value');\n            this.text = val;\n        }\n    };\n    DropDownList.prototype.wireEvent = function () {\n        EventHandler.add(this.inputWrapper.container, 'mousedown', this.dropDownClick, this);\n        EventHandler.add(this.inputWrapper.container, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputWrapper.container, 'keypress', this.onSearch, this);\n        this.bindCommonEvent();\n    };\n    DropDownList.prototype.bindCommonEvent = function () {\n        EventHandler.add(this.targetElement(), 'blur', this.onBlurHandler, this);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        if (!Browser.isDevice) {\n            this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n                keyAction: this.keyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n        else {\n            this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n                keyAction: this.mobileKeyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n        this.bindClearEvent();\n    };\n    DropDownList.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n    };\n    DropDownList.prototype.unBindCommonEvent = function () {\n        if (this.targetElement()) {\n            EventHandler.remove(this.targetElement(), 'blur', this.onBlurHandler);\n        }\n        var formElement = this.inputElement && closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n        if (!Browser.isDevice) {\n            this.keyboardModule.destroy();\n        }\n        if (this.showClearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown', this.resetHandler);\n        }\n    };\n    DropDownList.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement.value !== '' && !this.readonly) {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    /**\n     * Event binding for list\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.wireListEvents = function () {\n        EventHandler.add(this.list, 'click', this.onMouseClick, this);\n        EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n    };\n    DropDownList.prototype.onSearch = function (e) {\n        if (e.charCode !== 32 && e.charCode !== 13) {\n            if (this.list === undefined) {\n                this.renderList();\n            }\n            this.searchKeyEvent = e;\n            this.onServerIncrementalSearch(e);\n        }\n    };\n    DropDownList.prototype.onServerIncrementalSearch = function (e) {\n        if (!this.isRequested && !isNullOrUndefined(this.list) &&\n            !isNullOrUndefined(this.list.querySelector('li')) && this.enabled && !this.readonly) {\n            this.incrementalSearch(e);\n        }\n    };\n    DropDownList.prototype.onMouseClick = function (e) {\n        var target = e.target;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (!this.isValidLI(li)) {\n            return;\n        }\n        this.setSelection(li, e);\n        if (Browser.isDevice && this.isFilterLayout()) {\n            history.back();\n        }\n        else {\n            var delay = 100;\n            this.closePopup(delay);\n        }\n    };\n    DropDownList.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        this.setHover(currentLi);\n    };\n    DropDownList.prototype.setHover = function (li) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n    };\n    DropDownList.prototype.onMouseLeave = function () {\n        this.removeHover();\n    };\n    DropDownList.prototype.removeHover = function () {\n        if (this.list) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.hover);\n            }\n        }\n    };\n    DropDownList.prototype.isValidLI = function (li) {\n        return (li && li.hasAttribute('role') && li.getAttribute('role') === 'option');\n    };\n    DropDownList.prototype.incrementalSearch = function (e) {\n        if (this.liCollections.length > 0) {\n            var li = incrementalSearch(e.charCode, this.liCollections, this.activeIndex, true, this.element.id);\n            if (!isNullOrUndefined(li)) {\n                this.setSelection(li, e);\n                this.setScrollPosition();\n            }\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            this.spinnerElement.innerHTML = '';\n            this.spinnerElement = null;\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = Browser.isDevice && !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[1] ||\n                !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[0] || this.inputWrapper.buttons[0];\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    DropDownList.prototype.keyActionHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        var preventAction = e.action === 'pageUp' || e.action === 'pageDown';\n        var preventHomeEnd = this.getModuleName() !== 'dropdownlist' && (e.action === 'home' || e.action === 'end');\n        this.isEscapeKey = e.action === 'escape';\n        this.isTabKey = !this.isPopupOpen && e.action === 'tab';\n        var isNavAction = e.action === 'down' || e.action === 'up' || e.action === 'home' || e.action === 'end';\n        var isNavigation = (e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown'\n            || e.action === 'home' || e.action === 'end');\n        if ((this.isEditTextBox() || preventAction || preventHomeEnd) && !this.isPopupOpen) {\n            return;\n        }\n        if (!this.readonly) {\n            var isTabAction = e.action === 'tab' || e.action === 'close';\n            if (this.list === undefined && !this.isRequested && !isTabAction && e.action !== 'escape') {\n                this.searchKeyEvent = e;\n                this.renderList();\n            }\n            if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n                isNavigation && this.liCollections.length === 0) || this.isRequested) {\n                return;\n            }\n            if ((isTabAction && this.getModuleName() !== 'autocomplete') && this.isPopupOpen\n                || e.action === 'escape') {\n                e.preventDefault();\n            }\n            this.isSelected = e.action === 'escape' ? false : this.isSelected;\n            this.isTyped = (isNavigation || e.action === 'escape') ? false : this.isTyped;\n            switch (e.action) {\n                case 'down':\n                case 'up':\n                    this.updateUpDownAction(e);\n                    break;\n                case 'pageUp':\n                    this.pageUpSelection(this.activeIndex - this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'pageDown':\n                    this.pageDownSelection(this.activeIndex + this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'home':\n                    this.updateHomeEndAction(e);\n                    break;\n                case 'end':\n                    this.updateHomeEndAction(e);\n                    break;\n                case 'space':\n                    if (this.getModuleName() === 'dropdownlist') {\n                        if (!this.beforePopupOpen) {\n                            this.showPopup();\n                        }\n                    }\n                    break;\n                case 'open':\n                    this.showPopup();\n                    break;\n                case 'hide':\n                    this.preventAltUp = this.isPopupOpen;\n                    this.hidePopup(e);\n                    this.focusDropDown(e);\n                    break;\n                case 'enter':\n                    this.selectCurrentItem(e);\n                    break;\n                case 'tab':\n                    this.selectCurrentValueOnTab(e);\n                    break;\n                case 'escape':\n                case 'close':\n                    if (this.isPopupOpen) {\n                        this.hidePopup(e);\n                        this.focusDropDown(e);\n                    }\n                    break;\n            }\n        }\n    };\n    DropDownList.prototype.updateUpDownAction = function (e) {\n        var focusEle = this.list.querySelector('.' + dropDownListClasses.focus);\n        if (this.isSelectFocusItem(focusEle)) {\n            this.setSelection(focusEle, e);\n        }\n        else if (!isNullOrUndefined(this.liCollections)) {\n            var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n            var startIndex = 0;\n            if (this.getModuleName() === 'autocomplete') {\n                startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n                index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n            }\n            var nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[startIndex] : this.liCollections[index];\n            if (!isNullOrUndefined(nextItem)) {\n                this.setSelection(nextItem, e);\n            }\n        }\n        e.preventDefault();\n    };\n    DropDownList.prototype.updateHomeEndAction = function (e) {\n        if (this.getModuleName() === 'dropdownlist') {\n            var findLi = 0;\n            if (e.action === 'home') {\n                findLi = 0;\n            }\n            else {\n                findLi = this.getItems().length - 1;\n            }\n            e.preventDefault();\n            if (this.activeIndex === findLi) {\n                return;\n            }\n            this.setSelection(this.liCollections[findLi], e);\n        }\n    };\n    DropDownList.prototype.selectCurrentValueOnTab = function (e) {\n        if (this.getModuleName() === 'autocomplete') {\n            this.selectCurrentItem(e);\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup(e);\n                this.focusDropDown(e);\n            }\n        }\n    };\n    DropDownList.prototype.mobileKeyActionHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if ((this.isEditTextBox()) && !this.isPopupOpen) {\n            return;\n        }\n        if (!this.readonly) {\n            if (this.list === undefined && !this.isRequested) {\n                this.searchKeyEvent = e;\n                this.renderList();\n            }\n            if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n                this.liCollections.length === 0) || this.isRequested) {\n                return;\n            }\n            if (e.action === 'enter') {\n                this.selectCurrentItem(e);\n            }\n        }\n    };\n    DropDownList.prototype.selectCurrentItem = function (e) {\n        if (this.isPopupOpen) {\n            var li = this.list.querySelector('.' + dropDownListClasses.focus);\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n            this.hidePopup();\n            this.focusDropDown(e);\n        }\n        else {\n            this.showPopup();\n        }\n    };\n    DropDownList.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    DropDownList.prototype.getPageCount = function () {\n        var liHeight = this.list.classList.contains(dropDownBaseClasses.noData) ? null :\n            getComputedStyle(this.getItems()[0], null).getPropertyValue('height');\n        return Math.round(this.list.getBoundingClientRect().height / parseInt(liHeight, 10));\n    };\n    DropDownList.prototype.pageUpSelection = function (steps, event) {\n        var previousItem = steps >= 0 ? this.liCollections[steps + 1] : this.liCollections[0];\n        this.setSelection(previousItem, event);\n    };\n    DropDownList.prototype.pageDownSelection = function (steps, event) {\n        var list = this.getItems();\n        var previousItem = steps <= list.length ? this.liCollections[steps - 1] : this.liCollections[list.length - 1];\n        this.setSelection(previousItem, event);\n    };\n    DropDownList.prototype.unWireEvent = function () {\n        EventHandler.remove(this.inputWrapper.container, 'mousedown', this.dropDownClick);\n        EventHandler.remove(this.inputWrapper.container, 'keypress', this.onSearch);\n        EventHandler.remove(this.inputWrapper.container, 'focus', this.focusIn);\n        this.unBindCommonEvent();\n    };\n    /**\n     * Event un binding for list items.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.unWireListEvents = function () {\n        EventHandler.remove(this.list, 'click', this.onMouseClick);\n        EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n    };\n    DropDownList.prototype.checkSelector = function (id) {\n        return '[id=\"' + id.replace(/(:|\\.|\\[|\\]|,|=|@|\\\\|\\/|#)/g, '\\\\$1') + '\"]';\n    };\n    DropDownList.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!(!isNullOrUndefined(this.popupObj) && closest(target, this.checkSelector(this.popupObj.element.id))) &&\n            !this.inputWrapper.container.contains(e.target)) {\n            if (this.inputWrapper.container.classList.contains(dropDownListClasses.inputFocus) || this.isPopupOpen) {\n                this.isDocumentClick = true;\n                var isActive = this.isRequested;\n                this.isInteracted = false;\n                this.hidePopup(e);\n                if (!isActive) {\n                    this.onFocusOut();\n                    this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n                }\n            }\n        }\n        else if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput)\n            && !(this.getModuleName() === 'combobox' &&\n                !this.allowFiltering && Browser.isDevice && target === this.inputWrapper.buttons[0])) {\n            this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.targetElement() ||\n                document.activeElement === this.filterInput);\n            e.preventDefault();\n        }\n    };\n    DropDownList.prototype.activeStateChange = function () {\n        if (this.isDocumentClick) {\n            this.hidePopup();\n            this.onFocusOut();\n            this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n        }\n    };\n    DropDownList.prototype.focusDropDown = function (e) {\n        if (!this.initial && this.isFilterLayout()) {\n            this.focusIn(e);\n        }\n    };\n    DropDownList.prototype.dropDownClick = function (e) {\n        if (e.which === 3 || e.button === 2) {\n            return;\n        }\n        if (this.targetElement().classList.contains(dropDownListClasses.disable) || this.inputWrapper.clearButton === e.target) {\n            return;\n        }\n        var target = e.target;\n        if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput) && this.getModuleName() !== 'combobox') {\n            e.preventDefault();\n        }\n        if (!this.readonly) {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n                if (this.isFilterLayout()) {\n                    this.focusDropDown(e);\n                }\n            }\n            else {\n                this.focusIn(e);\n                this.floatLabelChange();\n                this.queryString = this.inputElement.value.trim() === '' ? null : this.inputElement.value;\n                this.isDropDownClick = true;\n                this.showPopup();\n            }\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_1 = this;\n            // eslint-disable-next-line max-len\n            var duration = (this.element.tagName === this.getNgDirective() && this.itemTemplate) ? 500 : 100;\n            if (!this.isSecondClick) {\n                setTimeout(function () {\n                    proxy_1.cloneElements();\n                    proxy_1.isSecondClick = true;\n                }, duration);\n            }\n        }\n        else {\n            this.focusIn(e);\n        }\n    };\n    DropDownList.prototype.cloneElements = function () {\n        if (this.list) {\n            var ulElement = this.list.querySelector('ul');\n            if (ulElement) {\n                ulElement = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n                this.actionCompleteData.ulElement = ulElement;\n            }\n        }\n    };\n    DropDownList.prototype.updateSelectedItem = function (li, e, preventSelect, isSelection) {\n        var _this = this;\n        this.removeSelection();\n        li.classList.add(dropDownBaseClasses.selected);\n        this.removeHover();\n        var value = this.getFormattedValue(li.getAttribute('data-value'));\n        var selectedData = this.getDataByValue(value);\n        if (!this.initial && !preventSelect && !isNullOrUndefined(e)) {\n            var items = this.detachChanges(selectedData);\n            this.isSelected = true;\n            var eventArgs = {\n                e: e,\n                item: li,\n                itemData: items,\n                isInteracted: e ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    li.classList.remove(dropDownBaseClasses.selected);\n                }\n                else {\n                    _this.selectEventCallback(li, e, preventSelect, selectedData, value);\n                    if (isSelection) {\n                        _this.setSelectOptions(li, e);\n                    }\n                }\n            });\n        }\n        else {\n            this.selectEventCallback(li, e, preventSelect, selectedData, value);\n            if (isSelection) {\n                this.setSelectOptions(li, e);\n            }\n        }\n    };\n    DropDownList.prototype.selectEventCallback = function (li, e, preventSelect, selectedData, value) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        this.item = li;\n        this.itemData = selectedData;\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (focusedItem) {\n            removeClass([focusedItem], dropDownBaseClasses.focus);\n        }\n        li.setAttribute('aria-selected', 'true');\n        this.activeIndex = this.getIndexByValue(value);\n    };\n    DropDownList.prototype.activeItem = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.selected)) {\n            this.removeSelection();\n            li.classList.add(dropDownBaseClasses.selected);\n            this.removeHover();\n            li.setAttribute('aria-selected', 'true');\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownList.prototype.setValue = function (e) {\n        var dataItem = this.getItemData();\n        if (dataItem.value === null) {\n            Input.setValue(null, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        else {\n            Input.setValue(dataItem.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        if (this.valueTemplate && this.itemData !== null) {\n            this.setValueTemplate();\n        }\n        else if (!isNullOrUndefined(this.valueTempElement) && this.inputElement.previousSibling === this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n        }\n        var clearIcon = dropDownListClasses.clearIcon;\n        var isFilterElement = this.isFiltering() && this.filterInput && (this.getModuleName() === 'combobox');\n        var clearElement = isFilterElement && this.filterInput.parentElement.querySelector('.' + clearIcon);\n        if (this.isFiltering() && clearElement) {\n            clearElement.style.removeProperty('visibility');\n        }\n        if (this.previousValue === dataItem.value) {\n            this.isSelected = false;\n            return true;\n        }\n        else {\n            this.isSelected = !this.initial ? true : false;\n            this.isSelectCustom = false;\n            if (this.getModuleName() === 'dropdownlist') {\n                this.updateIconState();\n            }\n            return false;\n        }\n    };\n    DropDownList.prototype.setSelection = function (li, e) {\n        if (this.isValidLI(li) && (!li.classList.contains(dropDownBaseClasses.selected) || (this.isPopupOpen && this.isSelected\n            && li.classList.contains(dropDownBaseClasses.selected)))) {\n            this.updateSelectedItem(li, e, false, true);\n        }\n        else {\n            this.setSelectOptions(li, e);\n        }\n    };\n    DropDownList.prototype.setSelectOptions = function (li, e) {\n        if (this.list) {\n            this.removeHover();\n        }\n        this.previousSelectedLI = (!isNullOrUndefined(this.selectedLI)) ? this.selectedLI : null;\n        this.selectedLI = li;\n        if (this.setValue(e)) {\n            return;\n        }\n        if (this.isPopupOpen) {\n            attributes(this.targetElement(), { 'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null });\n            if (this.isFilterLayout() && this.filterInput) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null });\n            }\n        }\n        if ((!this.isPopupOpen && !isNullOrUndefined(li)) || (this.isPopupOpen && !isNullOrUndefined(e) &&\n            (e.type !== 'keydown' || e.type === 'keydown' && e.action === 'enter'))) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(e);\n        }\n        if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI) && this.itemData !== null && (!e || e.type !== 'click')) {\n            this.setScrollPosition(e);\n        }\n        if (Browser.info.name !== 'mozilla') {\n            attributes(this.inputElement, { 'aria-label': this.inputElement.value });\n            attributes(this.targetElement(), { 'aria-describedby': this.inputElement.id });\n            this.targetElement().removeAttribute('aria-live');\n        }\n    };\n    DropDownList.prototype.dropdownCompiler = function (dropdownTemplate) {\n        var checkTemplate = false;\n        if (dropdownTemplate) {\n            try {\n                checkTemplate = (document.querySelectorAll(dropdownTemplate).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    DropDownList.prototype.setValueTemplate = function () {\n        var compiledString;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['valueTemplate']);\n        }\n        if (!this.valueTempElement) {\n            this.valueTempElement = this.createElement('span', { className: dropDownListClasses.value });\n            this.inputElement.parentElement.insertBefore(this.valueTempElement, this.inputElement);\n            this.inputElement.style.display = 'none';\n        }\n        this.valueTempElement.innerHTML = '';\n        var valuecheck = this.dropdownCompiler(this.valueTemplate);\n        if (valuecheck) {\n            compiledString = compile(document.querySelector(this.valueTemplate).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.valueTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var valueCompTemp = compiledString(this.itemData, this, 'valueTemplate', this.valueTemplateId, this.isStringTemplate, null, this.valueTempElement);\n        if (valueCompTemp && valueCompTemp.length > 0) {\n            for (var i = 0; i < valueCompTemp.length; i++) {\n                this.valueTempElement.appendChild(valueCompTemp[i]);\n            }\n        }\n        this.renderReactTemplates();\n    };\n    DropDownList.prototype.removeSelection = function () {\n        if (this.list) {\n            var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n            if (selectedItems.length) {\n                removeClass(selectedItems, dropDownBaseClasses.selected);\n                selectedItems[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    DropDownList.prototype.getItemData = function () {\n        var fields = this.fields;\n        var dataItem = null;\n        dataItem = this.itemData;\n        var dataValue;\n        var dataText;\n        if (!isNullOrUndefined(dataItem)) {\n            dataValue = getValue(fields.value, dataItem);\n            dataText = getValue(fields.text, dataItem);\n        }\n        var value = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataValue : dataItem);\n        var text = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataText : dataItem);\n        return { value: value, text: text };\n    };\n    /**\n     * To trigger the change event for list.\n     *\n     * @param {MouseEvent | KeyboardEvent | TouchEvent} eve - Specifies the event arguments.\n     * @returns {void}\n     */\n    DropDownList.prototype.onChangeEvent = function (eve) {\n        var dataItem = this.getItemData();\n        var index = this.isSelectCustom ? null : this.activeIndex;\n        this.setProperties({ 'index': index, 'text': dataItem.text, 'value': dataItem.value }, true);\n        this.detachChangeEvent(eve);\n    };\n    DropDownList.prototype.detachChanges = function (value) {\n        var items;\n        if (typeof value === 'string' ||\n            typeof value === 'boolean' ||\n            typeof value === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: value,\n                    enumerable: true\n                },\n                text: {\n                    value: value,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = value;\n        }\n        return items;\n    };\n    DropDownList.prototype.detachChangeEvent = function (eve) {\n        this.isSelected = false;\n        this.previousValue = this.value;\n        this.activeIndex = this.index;\n        this.typedString = !isNullOrUndefined(this.text) ? this.text : '';\n        if (!this.initial) {\n            var items = this.detachChanges(this.itemData);\n            var preItems = void 0;\n            if (typeof this.previousItemData === 'string' ||\n                typeof this.previousItemData === 'boolean' ||\n                typeof this.previousItemData === 'number') {\n                preItems = Object.defineProperties({}, {\n                    value: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    },\n                    text: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    }\n                });\n            }\n            else {\n                preItems = this.previousItemData;\n            }\n            this.setHiddenValue();\n            var eventArgs = {\n                e: eve,\n                item: this.item,\n                itemData: items,\n                previousItem: this.previousSelectedLI,\n                previousItemData: preItems,\n                isInteracted: eve ? true : false,\n                value: this.value,\n                element: this.element,\n                event: eve\n            };\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', eventArgs);\n            }\n        }\n        if ((isNullOrUndefined(this.value) || this.value === '') && this.floatLabelType !== 'Always') {\n            removeClass([this.inputWrapper.container], 'e-valid-input');\n        }\n    };\n    DropDownList.prototype.setHiddenValue = function () {\n        if (!isNullOrUndefined(this.value)) {\n            if (this.hiddenElement.querySelector('option')) {\n                var selectedElement = this.hiddenElement.querySelector('option');\n                selectedElement.textContent = this.text;\n                selectedElement.setAttribute('value', this.value.toString());\n            }\n            else {\n                this.hiddenElement.innerHTML = '<option selected>' + this.text + '</option>';\n                var selectedElement = this.hiddenElement.querySelector('option');\n                selectedElement.setAttribute('value', this.value.toString());\n            }\n        }\n        else {\n            this.hiddenElement.innerHTML = '';\n        }\n    };\n    /**\n     * Filter bar implementation\n     *\n     * @param {KeyboardEventArgs} e - Specifies the event arguments.\n     * @returns {void}\n     */\n    DropDownList.prototype.onFilterUp = function (e) {\n        if (!(e.ctrlKey && e.keyCode === 86) && (this.isValidKey || e.keyCode === 40 || e.keyCode === 38)) {\n            this.isValidKey = false;\n            switch (e.keyCode) {\n                case 38: //up arrow\n                case 40: //down arrow\n                    if (this.getModuleName() === 'autocomplete' && !this.isPopupOpen && !this.preventAltUp && !this.isRequested) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else {\n                        this.preventAutoFill = false;\n                    }\n                    this.preventAltUp = false;\n                    e.preventDefault();\n                    break;\n                case 46: //delete\n                case 8: //backspace\n                    this.typedString = this.filterInput.value;\n                    if (!this.isPopupOpen && this.typedString !== '' || this.isPopupOpen && this.queryString.length > 0) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else if (this.typedString === '' && this.queryString === '' && this.getModuleName() !== 'autocomplete') {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else if (this.typedString === '') {\n                        if (this.list) {\n                            this.resetFocusElement();\n                        }\n                        this.activeIndex = null;\n                        if (this.getModuleName() !== 'dropdownlist') {\n                            this.preventAutoFill = true;\n                            this.searchLists(e);\n                            if (this.getModuleName() === 'autocomplete') {\n                                this.hidePopup();\n                            }\n                        }\n                    }\n                    e.preventDefault();\n                    break;\n                default:\n                    this.typedString = this.filterInput.value;\n                    this.preventAutoFill = false;\n                    this.searchLists(e);\n                    break;\n            }\n        }\n        else {\n            this.isValidKey = false;\n        }\n    };\n    DropDownList.prototype.onFilterDown = function (e) {\n        switch (e.keyCode) {\n            case 13: //enter\n                break;\n            case 40: //down arrow\n            case 38: //up arrow\n                this.queryString = this.filterInput.value;\n                e.preventDefault();\n                break;\n            case 9: //tab\n                if (this.isPopupOpen && this.getModuleName() !== 'autocomplete') {\n                    e.preventDefault();\n                }\n                break;\n            default:\n                this.prevSelectPoints = this.getSelectionPoints();\n                this.queryString = this.filterInput.value;\n                break;\n        }\n    };\n    DropDownList.prototype.removeFillSelection = function () {\n        if (this.isInteracted) {\n            var selection = this.getSelectionPoints();\n            this.inputElement.setSelectionRange(selection.end, selection.end);\n        }\n    };\n    DropDownList.prototype.getQuery = function (query) {\n        var filterQuery;\n        if (!this.isCustomFilter && this.allowFiltering && this.filterInput) {\n            filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n            var filterType = this.typedString === '' ? 'contains' : this.filterType;\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var fields = (this.fields.text) ? this.fields.text : '';\n                filterQuery.where(fields, filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        else {\n            filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        }\n        return filterQuery;\n    };\n    DropDownList.prototype.getSelectionPoints = function () {\n        var input = this.inputElement;\n        return { start: Math.abs(input.selectionStart), end: Math.abs(input.selectionEnd) };\n    };\n    DropDownList.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isTyped = true;\n        this.activeIndex = null;\n        this.isListSearched = true;\n        if (this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon)) {\n            var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n        }\n        this.isDataFetched = false;\n        if (this.isFiltering()) {\n            var eventArgs_1 = {\n                preventDefaultAction: false,\n                text: this.filterInput.value,\n                updateData: function (dataSource, query, fields) {\n                    if (eventArgs_1.cancel) {\n                        return;\n                    }\n                    _this.isCustomFilter = true;\n                    _this.filteringAction(dataSource, query, fields);\n                },\n                baseEventArgs: e,\n                cancel: false\n            };\n            this.trigger('filtering', eventArgs_1, function (eventArgs) {\n                if (!eventArgs.cancel && !_this.isCustomFilter && !eventArgs.preventDefaultAction) {\n                    _this.filteringAction(_this.dataSource, null, _this.fields);\n                }\n            });\n        }\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param  {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n\n     */\n    DropDownList.prototype.filter = function (dataSource, query, fields) {\n        this.isCustomFilter = true;\n        this.filteringAction(dataSource, query, fields);\n    };\n    DropDownList.prototype.filteringAction = function (dataSource, query, fields) {\n        if (!isNullOrUndefined(this.filterInput)) {\n            this.beforePopupOpen = (!this.isPopupOpen && this.getModuleName() === 'combobox' && this.filterInput.value === '') ?\n                false : true;\n            if (this.filterInput.value.trim() === '' && !this.itemTemplate) {\n                this.actionCompleteData.isUpdated = false;\n                this.isTyped = false;\n                if (!isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list)) {\n                    this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list);\n                }\n                this.isTyped = true;\n                if (!isNullOrUndefined(this.itemData) && this.getModuleName() === 'dropdownlist') {\n                    this.focusIndexItem();\n                    this.setScrollPosition();\n                }\n                this.isNotSearchList = true;\n            }\n            else {\n                this.isNotSearchList = false;\n                query = (this.filterInput.value.trim() === '') ? null : query;\n                this.resetList(dataSource, fields, query);\n            }\n            this.renderReactTemplates();\n        }\n    };\n    DropDownList.prototype.setSearchBox = function (popupElement) {\n        if (this.isFiltering()) {\n            var parentElement = popupElement.querySelector('.' + dropDownListClasses.filterParent) ?\n                popupElement.querySelector('.' + dropDownListClasses.filterParent) : this.createElement('span', {\n                className: dropDownListClasses.filterParent\n            });\n            this.filterInput = this.createElement('input', {\n                attrs: { type: 'text' },\n                className: dropDownListClasses.filterInput\n            });\n            this.element.parentNode.insertBefore(this.filterInput, this.element);\n            var backIcon = false;\n            if (Browser.isDevice) {\n                backIcon = true;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ?\n                    [dropDownListClasses.backIcon, dropDownListClasses.filterBarClearIcon] : [dropDownListClasses.filterBarClearIcon],\n                properties: { placeholder: this.filterBarPlaceholder }\n            }, this.createElement);\n            if (!isNullOrUndefined(this.cssClass)) {\n                if (this.cssClass.split(' ').indexOf('e-outline') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-outline');\n                }\n                else if (this.cssClass.split(' ').indexOf('e-filled') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-filled');\n                }\n            }\n            append([this.filterInputObj.container], parentElement);\n            prepend([parentElement], popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'aria-owns': this.element.id + '_options',\n                'role': 'listbox',\n                'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null,\n                'autocomplete': 'off',\n                'autocorrect': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false'\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            if (!Browser.isDevice) {\n                this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n                    keyAction: this.keyActionHandler.bind(this),\n                    keyConfigs: this.keyConfigure,\n                    eventName: 'keydown'\n                });\n            }\n            else {\n                this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n                    keyAction: this.mobileKeyActionHandler.bind(this),\n                    keyConfigs: this.keyConfigure,\n                    eventName: 'keydown'\n                });\n            }\n            EventHandler.add(this.filterInput, 'input', this.onInput, this);\n            EventHandler.add(this.filterInput, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.filterInput, 'keydown', this.onFilterDown, this);\n            EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n            EventHandler.add(this.filterInput, 'paste', this.pasteHandler, this);\n            return this.filterInputObj;\n        }\n        else {\n            return inputObject;\n        }\n    };\n    DropDownList.prototype.onInput = function (e) {\n        this.isValidKey = true;\n        // For filtering works in mobile firefox.\n        if (Browser.isDevice && Browser.info.name === 'mozilla') {\n            this.typedString = this.filterInput.value;\n            this.preventAutoFill = true;\n            this.searchLists(e);\n        }\n    };\n    DropDownList.prototype.pasteHandler = function (e) {\n        var _this = this;\n        setTimeout(function () {\n            _this.typedString = _this.filterInput.value;\n            _this.searchLists(e);\n        });\n    };\n    DropDownList.prototype.onActionFailure = function (e) {\n        _super.prototype.onActionFailure.call(this, e);\n        if (this.beforePopupOpen) {\n            this.renderPopup();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownList.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        var _this = this;\n        if (this.isNotSearchList) {\n            this.isNotSearchList = false;\n            return;\n        }\n        if (this.isActive) {\n            var selectedItem = this.selectedLI ? this.selectedLI.cloneNode(true) : null;\n            _super.prototype.onActionComplete.call(this, ulElement, list, e);\n            this.updateSelectElementData(this.allowFiltering);\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent) && this.searchKeyEvent.type === 'keydown') {\n                this.isRequested = false;\n                this.keyActionHandler(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent)) {\n                this.incrementalSearch(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            this.list.scrollTop = 0;\n            if (!isNullOrUndefined(ulElement)) {\n                attributes(ulElement, { 'id': this.element.id + '_options', 'role': 'listbox', 'aria-hidden': 'false' });\n            }\n            if (this.initRemoteRender) {\n                this.initial = true;\n                this.activeIndex = this.index;\n                this.updateValues();\n                this.initRemoteRender = false;\n                this.initial = false;\n                if (this.value && this.dataSource instanceof DataManager) {\n                    var checkField_1 = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n                    var checkVal = list.some(function (x) { return x[checkField_1] === _this.value; });\n                    if (!checkVal) {\n                        this.dataSource.executeQuery(this.getQuery(this.query).where(new Predicate(checkField_1, 'equal', this.value)))\n                            .then(function (e) {\n                            if (e.result.length > 0) {\n                                _this.addItem(e.result, list.length);\n                                _this.updateValues();\n                            }\n                        });\n                    }\n                }\n            }\n            if (this.getModuleName() !== 'autocomplete' && this.isFiltering() && !this.isTyped) {\n                if (!this.actionCompleteData.isUpdated || ((!this.isCustomFilter\n                    && !this.isFilterFocus) || (isNullOrUndefined(this.itemData) && this.allowFiltering)\n                    && ((this.dataSource instanceof DataManager)\n                        || (!isNullOrUndefined(this.dataSource) && !isNullOrUndefined(this.dataSource.length) &&\n                            this.dataSource.length !== 0)))) {\n                    if (this.itemTemplate && this.element.tagName === 'EJS-COMBOBOX' && this.allowFiltering) {\n                        setTimeout(function () {\n                            _this.updateActionCompleteDataValues(ulElement, list);\n                        }, 0);\n                    }\n                    else {\n                        this.updateActionCompleteDataValues(ulElement, list);\n                    }\n                }\n                this.addNewItem(list, selectedItem);\n                if (!isNullOrUndefined(this.itemData)) {\n                    this.focusIndexItem();\n                }\n            }\n            if (this.beforePopupOpen) {\n                this.renderPopup();\n            }\n        }\n    };\n    DropDownList.prototype.updateActionCompleteDataValues = function (ulElement, list) {\n        this.actionCompleteData = { ulElement: ulElement.cloneNode(true), list: list, isUpdated: true };\n        if (isNullOrUndefined(this.actionData.ulElement) && isNullOrUndefined(this.actionData.list)) {\n            this.actionData = this.actionCompleteData;\n        }\n    };\n    DropDownList.prototype.addNewItem = function (listData, newElement) {\n        var _this = this;\n        if (!isNullOrUndefined(this.itemData) && !isNullOrUndefined(newElement)) {\n            var value_1 = this.getItemData().value;\n            var isExist = listData.some(function (data) {\n                return (((typeof data === 'string' || typeof data === 'number') && data === value_1) ||\n                    (getValue(_this.fields.value, data) === value_1));\n            });\n            if (!isExist) {\n                this.addItem(this.itemData);\n            }\n        }\n    };\n    DropDownList.prototype.updateActionCompleteData = function (li, item, index) {\n        var _this = this;\n        if (this.getModuleName() !== 'autocomplete' && this.actionCompleteData.ulElement) {\n            if (this.itemTemplate && this.element.tagName === 'EJS-COMBOBOX' && this.allowFiltering) {\n                setTimeout(function () {\n                    _this.actionCompleteDataUpdate(li, item, index);\n                }, 0);\n            }\n            else {\n                this.actionCompleteDataUpdate(li, item, index);\n            }\n        }\n    };\n    DropDownList.prototype.actionCompleteDataUpdate = function (li, item, index) {\n        if (index != null) {\n            this.actionCompleteData.ulElement.insertBefore(li.cloneNode(true), this.actionCompleteData.ulElement.childNodes[index]);\n        }\n        else {\n            this.actionCompleteData.ulElement.appendChild(li.cloneNode(true));\n        }\n        if (this.isFiltering() && this.actionCompleteData.list.indexOf(item) < 0) {\n            this.actionCompleteData.list.push(item);\n        }\n    };\n    DropDownList.prototype.focusIndexItem = function () {\n        var value = this.getItemData().value;\n        this.activeIndex = this.getIndexByValue(value);\n        var element = this.findListElement(this.list, 'li', 'data-value', value);\n        this.selectedLI = element;\n        this.activeItem(element);\n        this.removeFocus();\n    };\n    DropDownList.prototype.updateSelection = function () {\n        var selectedItem = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        if (selectedItem) {\n            this.setProperties({ 'index': this.getIndexByValue(selectedItem.getAttribute('data-value')) });\n            this.activeIndex = this.index;\n        }\n        else {\n            this.removeFocus();\n            this.list.querySelector('.' + dropDownBaseClasses.li).classList.add(dropDownListClasses.focus);\n        }\n    };\n    DropDownList.prototype.removeFocus = function () {\n        var highlightedItem = this.list.querySelectorAll('.' + dropDownListClasses.focus);\n        if (highlightedItem && highlightedItem.length) {\n            removeClass(highlightedItem, dropDownListClasses.focus);\n        }\n    };\n    DropDownList.prototype.renderPopup = function () {\n        var _this = this;\n        if (this.popupObj && document.body.contains(this.popupObj.element)) {\n            this.refreshPopup();\n            return;\n        }\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                var popupEle = _this.createElement('div', {\n                    id: _this.element.id + '_popup', className: 'e-ddl e-popup ' + (_this.cssClass != null ? _this.cssClass : '')\n                });\n                var searchBox = _this.setSearchBox(popupEle);\n                _this.listHeight = formatUnit(_this.popupHeight);\n                if (_this.headerTemplate) {\n                    _this.setHeaderTemplate(popupEle);\n                }\n                append([_this.list], popupEle);\n                if (_this.footerTemplate) {\n                    _this.setFooterTemplate(popupEle);\n                }\n                document.body.appendChild(popupEle);\n                popupEle.style.visibility = 'hidden';\n                if (_this.popupHeight !== 'auto') {\n                    _this.searchBoxHeight = 0;\n                    if (!isNullOrUndefined(searchBox.container)) {\n                        _this.searchBoxHeight = (searchBox.container.parentElement).getBoundingClientRect().height;\n                        _this.listHeight = (parseInt(_this.listHeight, 10) - (_this.searchBoxHeight)).toString() + 'px';\n                    }\n                    if (_this.headerTemplate) {\n                        _this.header = _this.header ? _this.header : popupEle.querySelector('.e-ddl-header');\n                        var height = Math.round(_this.header.getBoundingClientRect().height);\n                        _this.listHeight = (parseInt(_this.listHeight, 10) - (height + _this.searchBoxHeight)).toString() + 'px';\n                    }\n                    if (_this.footerTemplate) {\n                        _this.footer = _this.footer ? _this.footer : popupEle.querySelector('.e-ddl-footer');\n                        var height = Math.round(_this.footer.getBoundingClientRect().height);\n                        _this.listHeight = (parseInt(_this.listHeight, 10) - (height + _this.searchBoxHeight)).toString() + 'px';\n                    }\n                    _this.list.style.maxHeight = (parseInt(_this.listHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n                    popupEle.style.maxHeight = formatUnit(_this.popupHeight);\n                }\n                else {\n                    popupEle.style.height = 'auto';\n                }\n                var offsetValue = 0;\n                var left = void 0;\n                if (!isNullOrUndefined(_this.selectedLI) && (!isNullOrUndefined(_this.activeIndex) && _this.activeIndex >= 0)) {\n                    _this.setScrollPosition();\n                }\n                else {\n                    _this.list.scrollTop = 0;\n                }\n                if (Browser.isDevice && (!_this.allowFiltering && (_this.getModuleName() === 'dropdownlist' ||\n                    (_this.isDropDownClick && _this.getModuleName() === 'combobox')))) {\n                    offsetValue = _this.getOffsetValue(popupEle);\n                    var firstItem = _this.isEmptyList() ? _this.list : _this.liCollections[0];\n                    left = -(parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                        parseInt(getComputedStyle(_this.inputElement).paddingLeft, 10) +\n                        parseInt(getComputedStyle(_this.inputElement.parentElement).borderLeftWidth, 10));\n                }\n                _this.getFocusElement();\n                _this.createPopup(popupEle, offsetValue, left);\n                _this.checkCollision(popupEle);\n                if (Browser.isDevice) {\n                    _this.popupObj.element.classList.add(dropDownListClasses.device);\n                    if (_this.getModuleName() === 'dropdownlist' || (_this.getModuleName() === 'combobox'\n                        && !_this.allowFiltering && _this.isDropDownClick)) {\n                        _this.popupObj.collision = { X: 'fit', Y: 'fit' };\n                    }\n                    if (_this.isFilterLayout()) {\n                        _this.popupObj.element.classList.add(dropDownListClasses.mobileFilter);\n                        _this.popupObj.position = { X: 0, Y: 0 };\n                        _this.popupObj.dataBind();\n                        attributes(_this.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n                        addClass([document.body, _this.popupObj.element], dropDownListClasses.popupFullScreen);\n                        _this.setSearchBoxPosition();\n                        _this.backIconElement = searchBox.container.querySelector('.e-back-icon');\n                        _this.clearIconElement = searchBox.container.querySelector('.' + dropDownListClasses.clearIcon);\n                        EventHandler.add(_this.backIconElement, 'click', _this.clickOnBackIcon, _this);\n                        EventHandler.add(_this.clearIconElement, 'click', _this.clearText, _this);\n                    }\n                }\n                popupEle.style.visibility = 'visible';\n                addClass([popupEle], 'e-popup-close');\n                var scrollParentElements = _this.popupObj.getScrollableParent(_this.inputWrapper.container);\n                for (var _i = 0, scrollParentElements_1 = scrollParentElements; _i < scrollParentElements_1.length; _i++) {\n                    var element = scrollParentElements_1[_i];\n                    EventHandler.add(element, 'scroll', _this.scrollHandler, _this);\n                }\n                if (Browser.isDevice && _this.isFilterLayout()) {\n                    EventHandler.add(_this.list, 'scroll', _this.listScroll, _this);\n                }\n                if (!isNullOrUndefined(_this.list)) {\n                    _this.unWireListEvents();\n                    _this.wireListEvents();\n                }\n                attributes(_this.targetElement(), { 'aria-expanded': 'true' });\n                var inputParent = _this.isFiltering() ? _this.filterInput.parentElement : _this.inputWrapper.container;\n                addClass([inputParent], [dropDownListClasses.inputFocus]);\n                var animModel = { name: 'FadeIn', duration: 100 };\n                _this.beforePopupOpen = true;\n                var popupInstance = _this.popupObj;\n                var eventArgs = { popup: popupInstance, cancel: false, animation: animModel };\n                _this.trigger('open', eventArgs, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        addClass([_this.inputWrapper.container], [dropDownListClasses.iconAnimation]);\n                        _this.renderReactTemplates();\n                        _this.popupObj.show(new Animation(eventArgs.animation), (_this.zIndex === 1000) ? _this.element : null);\n                    }\n                    else {\n                        _this.beforePopupOpen = false;\n                        _this.destroyPopup();\n                    }\n                });\n            }\n            else {\n                _this.beforePopupOpen = false;\n            }\n        });\n    };\n    DropDownList.prototype.checkCollision = function (popupEle) {\n        if (!Browser.isDevice || (Browser.isDevice && !(this.getModuleName() === 'dropdownlist' || this.isDropDownClick))) {\n            var collision = isCollide(popupEle);\n            if (collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n            }\n            this.popupObj.resolveCollision();\n        }\n    };\n    DropDownList.prototype.getOffsetValue = function (popupEle) {\n        var popupStyles = getComputedStyle(popupEle);\n        var borderTop = parseInt(popupStyles.borderTopWidth, 10);\n        var borderBottom = parseInt(popupStyles.borderBottomWidth, 10);\n        return this.setPopupPosition(borderTop + borderBottom);\n    };\n    DropDownList.prototype.createPopup = function (element, offsetValue, left) {\n        var _this = this;\n        this.popupObj = new Popup(element, {\n            width: this.setWidth(), targetType: 'relative',\n            relateTo: this.inputWrapper.container, collision: { X: 'flip', Y: 'flip' }, offsetY: offsetValue,\n            enableRtl: this.enableRtl, offsetX: left, position: { X: 'left', Y: 'bottom' },\n            zIndex: this.zIndex,\n            close: function () {\n                if (!_this.isDocumentClick) {\n                    _this.focusDropDown();\n                }\n                // eslint-disable-next-line\n                if (_this.isReact) {\n                    _this.clearTemplate(['headerTemplate', 'footerTemplate']);\n                }\n                var isResetItem = (_this.getModuleName() === 'autocomplete') ? true : false;\n                _this.isNotSearchList = false;\n                _this.isDocumentClick = false;\n                _this.destroyPopup();\n                if (_this.isFiltering() && _this.actionCompleteData.list && _this.actionCompleteData.list[0]) {\n                    _this.isActive = true;\n                    _this.onActionComplete(_this.actionCompleteData.ulElement, _this.actionCompleteData.list, null, true);\n                }\n            },\n            open: function () {\n                EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                _this.isPopupOpen = true;\n                var actionList = _this.actionCompleteData && _this.actionCompleteData.ulElement &&\n                    _this.actionCompleteData.ulElement.querySelector('li');\n                var ulElement = _this.list.querySelector('ul li');\n                if (_this.isFiltering() && _this.itemTemplate && (_this.element.tagName === _this.getNgDirective()) &&\n                    (actionList && ulElement && actionList.textContent !== ulElement.textContent) &&\n                    _this.element.tagName !== 'EJS-COMBOBOX') {\n                    _this.cloneElements();\n                }\n                if (_this.isFilterLayout()) {\n                    removeClass([_this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n                    _this.isFilterFocus = true;\n                    _this.filterInput.focus();\n                    if (_this.inputWrapper.clearButton) {\n                        addClass([_this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n                    }\n                }\n                _this.activeStateChange();\n            },\n            targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hidePopup();\n                }\n            }\n        });\n    };\n    DropDownList.prototype.isEmptyList = function () {\n        return !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0;\n    };\n    DropDownList.prototype.getFocusElement = function () {\n        // combo-box used this method\n    };\n    DropDownList.prototype.isFilterLayout = function () {\n        return this.getModuleName() === 'dropdownlist' && this.allowFiltering;\n    };\n    DropDownList.prototype.scrollHandler = function () {\n        if (Browser.isDevice && ((this.getModuleName() === 'dropdownlist' &&\n            !this.isFilterLayout()) || (this.getModuleName() === 'combobox' && !this.allowFiltering && this.isDropDownClick))) {\n            this.hidePopup();\n        }\n    };\n    DropDownList.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        this.popupObj.element.style.maxHeight = '100%';\n        this.popupObj.element.style.width = '100%';\n        this.list.style.maxHeight = (window.innerHeight - searchBoxHeight) + 'px';\n        this.list.style.height = (window.innerHeight - searchBoxHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    DropDownList.prototype.setPopupPosition = function (border) {\n        var offsetValue;\n        var popupOffset = border;\n        var selectedLI = this.list.querySelector('.' + dropDownListClasses.focus) || this.selectedLI;\n        var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n        var lastItem = this.isEmptyList() ? this.list : this.liCollections[this.getItems().length - 1];\n        var liHeight = firstItem.getBoundingClientRect().height;\n        var listHeight = this.list.offsetHeight / 2;\n        var height = isNullOrUndefined(selectedLI) ? firstItem.offsetTop : selectedLI.offsetTop;\n        var lastItemOffsetValue = lastItem.offsetTop;\n        if (lastItemOffsetValue - listHeight < height && !isNullOrUndefined(this.liCollections) &&\n            this.liCollections.length > 0 && !isNullOrUndefined(selectedLI)) {\n            var count = this.list.offsetHeight / liHeight;\n            var paddingBottom = parseInt(getComputedStyle(this.list).paddingBottom, 10);\n            offsetValue = (count - (this.liCollections.length - this.activeIndex)) * liHeight - popupOffset + paddingBottom;\n            this.list.scrollTop = selectedLI.offsetTop;\n        }\n        else if (height > listHeight) {\n            offsetValue = listHeight - liHeight / 2;\n            this.list.scrollTop = height - listHeight + liHeight / 2;\n        }\n        else {\n            offsetValue = height;\n        }\n        var inputHeight = this.inputWrapper.container.offsetHeight;\n        offsetValue = offsetValue + liHeight + popupOffset - ((liHeight - inputHeight) / 2);\n        return -offsetValue;\n    };\n    DropDownList.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.inputWrapper.container.offsetWidth * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        if (Browser.isDevice && (!this.allowFiltering && (this.getModuleName() === 'dropdownlist' ||\n            (this.isDropDownClick && this.getModuleName() === 'combobox')))) {\n            var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n            width = (parseInt(width, 10) + (parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) +\n                parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10)) * 2) + 'px';\n        }\n        return width;\n    };\n    DropDownList.prototype.scrollBottom = function (isInitial) {\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var currentOffset = this.list.offsetHeight;\n            var nextBottom = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n            var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n            nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 : nextOffset;\n            var boxRange = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n            boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n            if (this.activeIndex === 0) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = nextOffset;\n            }\n        }\n    };\n    DropDownList.prototype.scrollTop = function () {\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var nextOffset = this.selectedLI.offsetTop - this.list.scrollTop;\n            nextOffset = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n            var boxRange = (this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop);\n            if (this.activeIndex === 0) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextOffset < 0) {\n                this.list.scrollTop = this.list.scrollTop + nextOffset;\n            }\n            else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = this.selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                    this.fixedHeaderElement.offsetHeight : 0);\n            }\n        }\n    };\n    DropDownList.prototype.isEditTextBox = function () {\n        return false;\n    };\n    DropDownList.prototype.isFiltering = function () {\n        return this.allowFiltering;\n    };\n    DropDownList.prototype.isPopupButton = function () {\n        return true;\n    };\n    DropDownList.prototype.setScrollPosition = function (e) {\n        if (!isNullOrUndefined(e)) {\n            switch (e.action) {\n                case 'pageDown':\n                case 'down':\n                case 'end':\n                    this.scrollBottom();\n                    break;\n                default:\n                    this.scrollTop();\n                    break;\n            }\n        }\n        else {\n            this.scrollBottom(true);\n        }\n    };\n    DropDownList.prototype.clearText = function () {\n        this.filterInput.value = this.typedString = '';\n        this.searchLists(null);\n    };\n    DropDownList.prototype.listScroll = function () {\n        this.filterInput.blur();\n    };\n    DropDownList.prototype.setEleWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.inputWrapper.container.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.inputWrapper.container.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    DropDownList.prototype.closePopup = function (delay) {\n        var _this = this;\n        this.isTyped = false;\n        if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n            return;\n        }\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.isActive = false;\n        this.filterInputObj = null;\n        this.isDropDownClick = false;\n        this.preventAutoFill = false;\n        var scrollableParentElements = this.popupObj.getScrollableParent(this.inputWrapper.container);\n        for (var _i = 0, scrollableParentElements_1 = scrollableParentElements; _i < scrollableParentElements_1.length; _i++) {\n            var element = scrollableParentElements_1[_i];\n            EventHandler.remove(element, 'scroll', this.scrollHandler);\n        }\n        if (Browser.isDevice && this.isFilterLayout()) {\n            removeClass([document.body, this.popupObj.element], dropDownListClasses.popupFullScreen);\n            EventHandler.remove(this.list, 'scroll', this.listScroll);\n        }\n        if (this.isFilterLayout()) {\n            if (!Browser.isDevice) {\n                this.searchKeyModule.destroy();\n                if (this.clearIconElement) {\n                    EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n                }\n            }\n            if (this.backIconElement) {\n                EventHandler.remove(this.backIconElement, 'click', this.clickOnBackIcon);\n                EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n            }\n            EventHandler.remove(this.filterInput, 'input', this.onInput);\n            EventHandler.remove(this.filterInput, 'keyup', this.onFilterUp);\n            EventHandler.remove(this.filterInput, 'keydown', this.onFilterDown);\n            EventHandler.remove(this.filterInput, 'blur', this.onBlurHandler);\n            EventHandler.remove(this.filterInput, 'paste', this.pasteHandler);\n            this.filterInput = null;\n        }\n        attributes(this.targetElement(), { 'aria-expanded': 'false', 'aria-activedescendant': null });\n        this.inputWrapper.container.classList.remove(dropDownListClasses.iconAnimation);\n        if (this.isFiltering()) {\n            this.actionCompleteData.isUpdated = false;\n        }\n        this.beforePopupOpen = false;\n        var animModel = {\n            name: 'FadeOut',\n            duration: 100,\n            delay: delay ? delay : 0\n        };\n        var popupInstance = this.popupObj;\n        var eventArgs = { popup: popupInstance, cancel: false, animation: animModel };\n        this.trigger('close', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.popupObj) &&\n                !isNullOrUndefined(_this.popupObj.element.querySelector('.e-fixed-head'))) {\n                var fixedHeader = _this.popupObj.element.querySelector('.e-fixed-head');\n                fixedHeader.parentNode.removeChild(fixedHeader);\n                _this.fixedHeaderElement = null;\n            }\n            if (!eventArgs.cancel) {\n                if (_this.getModuleName() === 'autocomplete') {\n                    _this.rippleFun();\n                }\n                if (_this.isPopupOpen) {\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                }\n                else {\n                    _this.destroyPopup();\n                }\n            }\n        });\n    };\n    DropDownList.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        this.isFilterFocus = false;\n        this.popupObj.destroy();\n        detach(this.popupObj.element);\n    };\n    DropDownList.prototype.clickOnBackIcon = function () {\n        this.hidePopup();\n        this.focusIn();\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownList.prototype.render = function () {\n        if (this.element.tagName === 'INPUT') {\n            this.inputElement = this.element;\n            if (isNullOrUndefined(this.inputElement.getAttribute('role'))) {\n                this.inputElement.setAttribute('role', 'textbox');\n            }\n            if (isNullOrUndefined(this.inputElement.getAttribute('type'))) {\n                this.inputElement.setAttribute('type', 'text');\n            }\n        }\n        else {\n            this.inputElement = this.createElement('input', { attrs: { role: 'textbox', type: 'text' } });\n            if (this.element.tagName !== this.getNgDirective()) {\n                this.element.style.display = 'none';\n            }\n            this.element.parentElement.insertBefore(this.inputElement, this.element);\n            this.preventTabIndex(this.inputElement);\n        }\n        var updatedCssClassValues = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValues = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            buttons: this.isPopupButton() ? [dropDownListClasses.icon] : null,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.getModuleName() === 'dropdownlist' ? true : this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValues,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            }\n        }, this.createElement);\n        if (this.element.tagName === this.getNgDirective()) {\n            this.element.appendChild(this.inputWrapper.container);\n        }\n        else {\n            this.inputElement.parentElement.insertBefore(this.element, this.inputElement);\n        }\n        this.hiddenElement = this.createElement('select', {\n            attrs: { 'aria-hidden': 'true', 'tabindex': '-1', 'class': dropDownListClasses.hiddenElement }\n        });\n        prepend([this.hiddenElement], this.inputWrapper.container);\n        this.validationAttribute(this.element, this.hiddenElement);\n        this.setReadOnly();\n        this.setFields();\n        this.inputWrapper.container.style.width = formatUnit(this.width);\n        this.inputWrapper.container.classList.add('e-ddl');\n        this.wireEvent();\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n        this.element.id = id;\n        this.hiddenElement.id = id + '_hidden';\n        this.targetElement().setAttribute('tabindex', this.tabIndex);\n        attributes(this.targetElement(), this.getAriaAttributes());\n        this.updateDataAttribute(this.htmlAttributes);\n        this.setHTMLAttributes();\n        if (this.value !== null || this.activeIndex !== null || this.text !== null) {\n            this.initValue();\n        }\n        else if (this.element.tagName === 'SELECT' && this.element.options[0]) {\n            var selectElement = this.element;\n            this.value = selectElement.options[selectElement.selectedIndex].value;\n            this.text = isNullOrUndefined(this.value) ? null : selectElement.options[selectElement.selectedIndex].textContent;\n            this.initValue();\n        }\n        this.preventTabIndex(this.element);\n        if (!this.enabled) {\n            this.targetElement().tabIndex = -1;\n        }\n        this.initial = false;\n        this.element.style.opacity = '';\n        this.inputElement.onselect = function (e) {\n            e.stopImmediatePropagation();\n        };\n        this.inputElement.onchange = function (e) {\n            e.stopImmediatePropagation();\n        };\n        if (this.element.hasAttribute('autofocus')) {\n            this.focusIn();\n        }\n        if (!isNullOrUndefined(this.text)) {\n            this.inputElement.setAttribute('value', this.text);\n        }\n        if (this.element.hasAttribute('data-val')) {\n            this.element.setAttribute('data-val', 'false');\n        }\n        this.renderComplete();\n    };\n    DropDownList.prototype.setFooterTemplate = function (popupEle) {\n        var compiledString;\n        if (this.footer) {\n            this.footer.innerHTML = '';\n        }\n        else {\n            this.footer = this.createElement('div');\n            addClass([this.footer], dropDownListClasses.footer);\n        }\n        var footercheck = this.dropdownCompiler(this.footerTemplate);\n        if (footercheck) {\n            compiledString = compile(select(this.footerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.footerTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var footerCompTemp = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, null, this.footer);\n        if (footerCompTemp && footerCompTemp.length > 0) {\n            for (var i = 0; i < footerCompTemp.length; i++) {\n                this.footer.appendChild(footerCompTemp[i]);\n            }\n        }\n        append([this.footer], popupEle);\n    };\n    DropDownList.prototype.setHeaderTemplate = function (popupEle) {\n        var compiledString;\n        if (this.header) {\n            this.header.innerHTML = '';\n        }\n        else {\n            this.header = this.createElement('div');\n            addClass([this.header], dropDownListClasses.header);\n        }\n        var headercheck = this.dropdownCompiler(this.headerTemplate);\n        if (headercheck) {\n            compiledString = compile(select(this.headerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.headerTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var headerCompTemp = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, null, this.header);\n        if (headerCompTemp && headerCompTemp.length) {\n            for (var i = 0; i < headerCompTemp.length; i++) {\n                this.header.appendChild(headerCompTemp[i]);\n            }\n        }\n        var contentEle = popupEle.querySelector('div.e-content');\n        popupEle.insertBefore(this.header, contentEle);\n    };\n    DropDownList.prototype.setOldText = function (text) {\n        this.text = text;\n    };\n    DropDownList.prototype.setOldValue = function (value) {\n        this.value = value;\n    };\n    DropDownList.prototype.refreshPopup = function () {\n        if (!isNullOrUndefined(this.popupObj) && document.body.contains(this.popupObj.element) &&\n            ((this.allowFiltering && !(Browser.isDevice && this.isFilterLayout())) || this.getModuleName() === 'autocomplete')) {\n            removeClass([this.popupObj.element], 'e-popup-close');\n            this.popupObj.refreshPosition(this.inputWrapper.container);\n            this.popupObj.resolveCollision();\n        }\n    };\n    DropDownList.prototype.checkData = function (newProp) {\n        if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource)) && this.itemTemplate && this.allowFiltering &&\n            !(this.isListSearched && (newProp.dataSource instanceof DataManager))) {\n            this.list = null;\n            this.actionCompleteData = { ulElement: null, list: null, isUpdated: false };\n        }\n        this.isListSearched = false;\n        var isChangeValue = Object.keys(newProp).indexOf('value') !== -1 && isNullOrUndefined(newProp.value);\n        var isChangeText = Object.keys(newProp).indexOf('text') !== -1 && isNullOrUndefined(newProp.text);\n        if (this.getModuleName() !== 'autocomplete' && this.allowFiltering && (isChangeValue || isChangeText)) {\n            this.itemData = null;\n        }\n        if (this.allowFiltering && newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource))) {\n            this.actionCompleteData = { ulElement: null, list: null, isUpdated: false };\n            this.actionData = this.actionCompleteData;\n        }\n        else if (this.allowFiltering && newProp.query && !isNullOrUndefined(Object.keys(newProp.query))) {\n            this.actionCompleteData = this.getModuleName() === 'combobox' ?\n                { ulElement: null, list: null, isUpdated: false } : this.actionCompleteData;\n            this.actionData = this.actionCompleteData;\n        }\n    };\n    DropDownList.prototype.updateDataSource = function (props) {\n        if (this.inputElement.value !== '' || (!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource)\n            || (!(props.dataSource instanceof DataManager) && props.dataSource.length === 0)))) {\n            this.clearAll(null, props);\n        }\n        if ((this.fields.groupBy && props.fields) && !this.isGroupChecking) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n            EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n        }\n        if (!(!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource)\n            || (!(props.dataSource instanceof DataManager) && props.dataSource.length === 0))) || !(props.dataSource === [])) {\n            this.typedString = '';\n            this.resetList(this.dataSource);\n        }\n        if (!this.isCustomFilter && !this.isFilterFocus && document.activeElement !== this.filterInput) {\n            this.checkCustomValue();\n        }\n    };\n    DropDownList.prototype.checkCustomValue = function () {\n        this.itemData = this.getDataByValue(this.value);\n        var dataItem = this.getItemData();\n        this.setProperties({ 'text': dataItem.text, 'value': dataItem.value });\n    };\n    DropDownList.prototype.updateInputFields = function () {\n        if (this.getModuleName() === 'dropdownlist') {\n            Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @private\n     * @param {DropDownListModel} newProp - Returns the dynamic property value of the component.\n     * @param {DropDownListModel} oldProp - Returns the previous previous value of the component.\n     * @returns {void}\n     */\n    DropDownList.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        if (this.getModuleName() === 'dropdownlist') {\n            this.checkData(newProp);\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        var _loop_1 = function (prop) {\n            switch (prop) {\n                case 'query':\n                case 'dataSource': break;\n                case 'htmlAttributes':\n                    this_1.setHTMLAttributes();\n                    break;\n                case 'width':\n                    this_1.setEleWidth(newProp.width);\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this_1.inputElement);\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this_1.filterInput) {\n                        Input.setPlaceholder(newProp.filterBarPlaceholder, this_1.filterInput);\n                    }\n                    break;\n                case 'readonly':\n                    if (this_1.getModuleName() !== 'dropdownlist') {\n                        Input.setReadonly(newProp.readonly, this_1.inputElement);\n                    }\n                    this_1.setReadOnly();\n                    break;\n                case 'cssClass':\n                    this_1.setCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this_1.setEnableRtl();\n                    break;\n                case 'enabled':\n                    this_1.setEnable();\n                    break;\n                case 'text':\n                    if (newProp.text === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initRemoteRender) {\n                        var li = this_1.getElementByText(newProp.text);\n                        if (!this_1.checkValidLi(li)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.text, oldProp.text, 'text');\n                            }\n                            else if (newProp.text && this_1.dataSource instanceof DataManager) {\n                                var listLength_1 = this_1.getItems().length;\n                                var checkField = isNullOrUndefined(this_1.fields.text) ? this_1.fields.value : this_1.fields.text;\n                                this_1.typedString = '';\n                                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', newProp.text)))\n                                    .then(function (e) {\n                                    if (e.result.length > 0) {\n                                        _this.addItem(e.result, listLength_1);\n                                        _this.updateValues();\n                                    }\n                                    else {\n                                        _this.setOldText(oldProp.text);\n                                    }\n                                });\n                            }\n                            else {\n                                this_1.setOldText(oldProp.text);\n                            }\n                        }\n                        this_1.updateInputFields();\n                    }\n                    break;\n                case 'value':\n                    if (newProp.value === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    this_1.notify('beforeValueChange', { newProp: newProp }); // gird component value type change\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initRemoteRender) {\n                        var item = this_1.getElementByValue(newProp.value);\n                        if (!this_1.checkValidLi(item)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.value, oldProp.value, 'value');\n                            }\n                            else if (newProp.value && this_1.dataSource instanceof DataManager) {\n                                var listLength_2 = this_1.getItems().length;\n                                var checkField = isNullOrUndefined(this_1.fields.value) ? this_1.fields.text : this_1.fields.value;\n                                this_1.typedString = '';\n                                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', newProp.value)))\n                                    .then(function (e) {\n                                    if (e.result.length > 0) {\n                                        _this.addItem(e.result, listLength_2);\n                                        _this.updateValues();\n                                    }\n                                    else {\n                                        _this.setOldValue(oldProp.value);\n                                    }\n                                });\n                            }\n                            else {\n                                this_1.setOldValue(oldProp.value);\n                            }\n                        }\n                        this_1.updateInputFields();\n                        this_1.preventChange = this_1.isAngular && this_1.preventChange ? !this_1.preventChange : this_1.preventChange;\n                    }\n                    break;\n                case 'index':\n                    if (newProp.index === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initRemoteRender && this_1.liCollections) {\n                        var element = this_1.liCollections[newProp.index];\n                        if (!this_1.checkValidLi(element)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.index, oldProp.index, 'index');\n                            }\n                            else {\n                                this_1.index = oldProp.index;\n                            }\n                        }\n                        this_1.updateInputFields();\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this_1.popupObj) {\n                        this_1.setFooterTemplate(this_1.popupObj.element);\n                    }\n                    break;\n                case 'headerTemplate':\n                    if (this_1.popupObj) {\n                        this_1.setHeaderTemplate(this_1.popupObj.element);\n                    }\n                    break;\n                case 'valueTemplate':\n                    if (!isNullOrUndefined(this_1.itemData) && this_1.valueTemplate != null) {\n                        this_1.setValueTemplate();\n                    }\n                    break;\n                case 'allowFiltering':\n                    if (this_1.allowFiltering) {\n                        this_1.actionCompleteData = { ulElement: this_1.ulElement,\n                            list: this_1.listData, isUpdated: true };\n                        this_1.actionData = this_1.actionCompleteData;\n                        this_1.updateSelectElementData(this_1.allowFiltering);\n                    }\n                    break;\n                case 'floatLabelType':\n                    Input.removeFloating(this_1.inputWrapper);\n                    Input.addFloating(this_1.inputElement, newProp.floatLabelType, this_1.placeholder, this_1.createElement);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(newProp.showClearButton, this_1.inputElement, this_1.inputWrapper, null, this_1.createElement);\n                    this_1.bindClearEvent();\n                    break;\n                default:\n                    {\n                        // eslint-disable-next-line max-len\n                        var ddlProps = this_1.getPropObject(prop, newProp, oldProp);\n                        _super.prototype.onPropertyChanged.call(this_1, ddlProps.newProperty, ddlProps.oldProperty);\n                    }\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_1(prop);\n        }\n    };\n    DropDownList.prototype.checkValidLi = function (element) {\n        if (this.isValidLI(element)) {\n            this.setSelection(element, null);\n            return true;\n        }\n        return false;\n    };\n    DropDownList.prototype.setSelectionData = function (newProp, oldProp, prop) {\n        var _this = this;\n        var li;\n        this.updateListValues = function () {\n            if (prop === 'text') {\n                li = _this.getElementByText(newProp);\n                if (!_this.checkValidLi(li)) {\n                    _this.setOldText(oldProp);\n                }\n            }\n            else if (prop === 'value') {\n                li = _this.getElementByValue(newProp);\n                if (!_this.checkValidLi(li)) {\n                    _this.setOldValue(oldProp);\n                }\n            }\n            else if (prop === 'index') {\n                li = _this.liCollections[newProp];\n                if (!_this.checkValidLi(li)) {\n                    _this.index = oldProp;\n                }\n            }\n        };\n    };\n    DropDownList.prototype.setReadOnly = function () {\n        if (this.readonly) {\n            addClass([this.inputWrapper.container], ['e-readonly']);\n        }\n        else {\n            removeClass([this.inputWrapper.container], ['e-readonly']);\n        }\n    };\n    DropDownList.prototype.setCssClass = function (newClass, oldClass) {\n        if (!isNullOrUndefined(oldClass)) {\n            oldClass = (oldClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newClass)) {\n            newClass = (newClass.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(newClass, [this.inputWrapper.container], oldClass);\n        if (this.popupObj) {\n            Input.setCssClass(newClass, [this.popupObj.element], oldClass);\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    DropDownList.prototype.getModuleName = function () {\n        return 'dropdownlist';\n    };\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.showPopup = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.isFiltering() && this.dataSource instanceof DataManager && (this.actionData.list != this.actionCompleteData.list) &&\n            this.actionData.list && this.actionData.ulElement) {\n            this.actionCompleteData = this.actionData;\n            this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        if (this.isFiltering() && !this.isActive && this.actionCompleteData.list && this.actionCompleteData.list[0]) {\n            this.isActive = true;\n            this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n        }\n        else if (isNullOrUndefined(this.list) || !isUndefined(this.list) && (this.list.classList.contains(dropDownBaseClasses.noData) ||\n            this.list.querySelectorAll('.' + dropDownBaseClasses.li).length <= 0)) {\n            this.renderList();\n        }\n        this.invokeRenderPopup();\n    };\n    DropDownList.prototype.invokeRenderPopup = function () {\n        if (Browser.isDevice && this.isFilterLayout()) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_2 = this;\n            window.onpopstate = function () {\n                proxy_2.hidePopup();\n            };\n            history.pushState({}, '');\n        }\n        if (!isNullOrUndefined(this.list.children[0]) || this.list.classList.contains(dropDownBaseClasses.noData)) {\n            this.renderPopup();\n        }\n        attributes(this.targetElement(), { 'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null });\n    };\n    DropDownList.prototype.renderHightSearch = function () {\n        // update high light search\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in an open state.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.hidePopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (this.isEscapeKey && this.getModuleName() === 'dropdownlist') {\n            Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.isEscapeKey = false;\n            if (!isNullOrUndefined(this.index)) {\n                var element = this.findListElement(this.ulElement, 'li', 'data-value', this.value);\n                this.selectedLI = this.liCollections[this.index] || element;\n                if (this.selectedLI) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                    if (this.valueTemplate && this.itemData !== null) {\n                        this.setValueTemplate();\n                    }\n                }\n            }\n            else {\n                this.resetSelection();\n            }\n        }\n        this.closePopup();\n        var dataItem = this.getItemData();\n        var isSelectVal = !isNullOrUndefined(this.selectedLI);\n        if (this.inputElement && this.inputElement.value.trim() === '' && !this.isInteracted && (this.isSelectCustom ||\n            isSelectVal && this.inputElement.value !== dataItem.text)) {\n            this.isSelectCustom = false;\n            this.clearAll(e);\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Sets the focus on the component for interaction.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.focusIn = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.targetElement().classList.contains(dropDownListClasses.disable)) {\n            return;\n        }\n        var isFocused = false;\n        if (this.preventFocus && Browser.isDevice) {\n            this.inputWrapper.container.tabIndex = 1;\n            this.inputWrapper.container.focus();\n            this.preventFocus = false;\n            isFocused = true;\n        }\n        if (!isFocused) {\n            this.targetElement().focus();\n        }\n        addClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n        this.onFocus(e);\n    };\n    /**\n     * Moves the focus from the component if the component is already focused.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.focusOut = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (!this.enabled) {\n            return;\n        }\n        this.isTyped = true;\n        this.hidePopup(e);\n        if (this.targetElement()) {\n            this.targetElement().blur();\n        }\n        removeClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownList.prototype.destroy = function () {\n        this.isActive = false;\n        resetIncrementalSearchValues(this.element.id);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        this.hidePopup();\n        this.unWireEvent();\n        if (this.list) {\n            this.unWireListEvents();\n        }\n        if (this.element && !this.element.classList.contains('e-' + this.getModuleName())) {\n            return;\n        }\n        if (this.inputElement) {\n            var attrArray = ['readonly', 'aria-disabled', 'aria-placeholder',\n                'placeholder', 'aria-owns', 'aria-labelledby', 'aria-haspopup', 'aria-expanded',\n                'aria-activedescendant', 'autocomplete', 'aria-readonly', 'autocorrect',\n                'autocapitalize', 'spellcheck', 'aria-autocomplete', 'aria-live', 'aria-describedby', 'aria-label'];\n            for (var i = 0; i < attrArray.length; i++) {\n                this.inputElement.removeAttribute(attrArray[i]);\n            }\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n            this.inputElement.classList.remove('e-input');\n            Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        this.element.style.display = 'block';\n        if (this.inputWrapper.container.parentElement.tagName === this.getNgDirective()) {\n            detach(this.inputWrapper.container);\n        }\n        else {\n            this.inputWrapper.container.parentElement.insertBefore(this.element, this.inputWrapper.container);\n            detach(this.inputWrapper.container);\n        }\n        _super.prototype.destroy.call(this);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     */\n    DropDownList.prototype.getItems = function () {\n        if (!this.list) {\n            if (this.dataSource instanceof DataManager) {\n                this.initRemoteRender = true;\n            }\n            this.renderList();\n        }\n        return this.ulElement ? _super.prototype.getItems.call(this) : [];\n    };\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     */\n    DropDownList.prototype.getDataByValue = function (value) {\n        return _super.prototype.getDataByValue.call(this, value);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Allows you to clear the selected values from the component.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.clear = function () {\n        this.value = null;\n    };\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownList.prototype, \"width\", void 0);\n    __decorate([\n        Property('300px')\n    ], DropDownList.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownList.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property({})\n    ], DropDownList.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"index\", void 0);\n    __decorate([\n        Property('Never')\n    ], DropDownList.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"focus\", void 0);\n    DropDownList = __decorate([\n        NotifyPropertyChanges\n    ], DropDownList);\n    return DropDownList;\n}(DropDownBase));\nexport { DropDownList };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}