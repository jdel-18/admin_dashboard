{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { setStyleAttribute, addClass, removeClass, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit } from '@syncfusion/ej2-base';\nimport { Browser } from '@syncfusion/ej2-base';\nimport { calculatePosition, calculateRelativeBasedPosition } from '../common/position';\nimport { Animation, Property, Event, Component } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { flip, fit, isCollide } from '../common/collision';\n/**\n * Specifies the offset position values.\n */\nvar PositionData = /** @class */function (_super) {\n  __extends(PositionData, _super);\n  function PositionData() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property('left')], PositionData.prototype, \"X\", void 0);\n  __decorate([Property('top')], PositionData.prototype, \"Y\", void 0);\n  return PositionData;\n}(ChildProperty);\nexport { PositionData };\n// don't use space in classNames\nvar CLASSNAMES = {\n  ROOT: 'e-popup',\n  RTL: 'e-rtl',\n  OPEN: 'e-popup-open',\n  CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\nvar Popup = /** @class */function (_super) {\n  __extends(Popup, _super);\n  function Popup(element, options) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {PopupModel} newProp - specifies the new property\n   * @param {PopupModel} oldProp - specifies the old property\n   * @private\n   * @returns {void}\n   */\n  Popup.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': formatUnit(newProp.width)\n          });\n          break;\n        case 'height':\n          setStyleAttribute(this.element, {\n            'height': formatUnit(newProp.height)\n          });\n          break;\n        case 'zIndex':\n          setStyleAttribute(this.element, {\n            'zIndex': newProp.zIndex\n          });\n          break;\n        case 'enableRtl':\n          this.setEnableRtl();\n          break;\n        case 'position':\n        case 'relateTo':\n          this.refreshPosition();\n          break;\n        case 'offsetX':\n          // eslint-disable-next-line\n          var x = newProp.offsetX - oldProp.offsetX;\n          this.element.style.left = (parseInt(this.element.style.left, 10) + x).toString() + 'px';\n          break;\n        case 'offsetY':\n          // eslint-disable-next-line\n          var y = newProp.offsetY - oldProp.offsetY;\n          this.element.style.top = (parseInt(this.element.style.top, 10) + y).toString() + 'px';\n          break;\n        case 'content':\n          this.setContent();\n          break;\n        case 'actionOnScroll':\n          if (newProp.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n          } else {\n            this.unwireScrollEvents();\n          }\n          break;\n      }\n    }\n  };\n  /**\n   * gets the Component module name.\n   *\n   * @returns {void}\n   * @private\n   */\n  Popup.prototype.getModuleName = function () {\n    return 'popup';\n  };\n  /**\n   * To resolve if any collision occurs.\n   *\n   * @returns {void}\n   */\n  Popup.prototype.resolveCollision = function () {\n    this.checkCollision();\n  };\n  /**\n   * gets the persisted state properties of the Component.\n   *\n   * @returns {void}\n   */\n  Popup.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n  /**\n   * To destroy the control.\n   *\n   * @returns {void}\n   */\n  Popup.prototype.destroy = function () {\n    this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL, CLASSNAMES.OPEN, CLASSNAMES.CLOSE);\n    this.unwireEvents();\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * To Initialize the control rendering\n   *\n   * @returns {void}\n   * @private\n   */\n  Popup.prototype.render = function () {\n    this.element.classList.add(CLASSNAMES.ROOT);\n    var styles = {};\n    if (this.zIndex !== 1000) {\n      styles.zIndex = this.zIndex;\n    }\n    if (this.width !== 'auto') {\n      styles.width = formatUnit(this.width);\n    }\n    if (this.height !== 'auto') {\n      styles.height = formatUnit(this.height);\n    }\n    setStyleAttribute(this.element, styles);\n    this.fixedParent = false;\n    this.setEnableRtl();\n    this.setContent();\n  };\n  Popup.prototype.wireEvents = function () {\n    if (Browser.isDevice) {\n      EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n    }\n    if (this.actionOnScroll !== 'none') {\n      this.wireScrollEvents();\n    }\n  };\n  Popup.prototype.wireScrollEvents = function () {\n    if (this.getRelateToElement()) {\n      for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n        var parent_1 = _a[_i];\n        EventHandler.add(parent_1, 'scroll', this.scrollRefresh, this);\n      }\n    }\n  };\n  Popup.prototype.unwireEvents = function () {\n    if (Browser.isDevice) {\n      EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n    }\n    if (this.actionOnScroll !== 'none') {\n      this.unwireScrollEvents();\n    }\n  };\n  Popup.prototype.unwireScrollEvents = function () {\n    if (this.getRelateToElement()) {\n      for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n        var parent_2 = _a[_i];\n        EventHandler.remove(parent_2, 'scroll', this.scrollRefresh);\n      }\n    }\n  };\n  Popup.prototype.getRelateToElement = function () {\n    var relateToElement = this.relateTo === '' || isNullOrUndefined(this.relateTo) ? document.body : this.relateTo;\n    this.setProperties({\n      relateTo: relateToElement\n    }, true);\n    return typeof this.relateTo === 'string' ? document.querySelector(this.relateTo) : this.relateTo;\n  };\n  Popup.prototype.scrollRefresh = function (e) {\n    if (this.actionOnScroll === 'reposition') {\n      if (!isNullOrUndefined(this.element) && !(this.element.offsetParent === e.target || this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' && e.target.parentElement == null)) {\n        this.refreshPosition();\n      }\n    } else if (this.actionOnScroll === 'hide') {\n      this.hide();\n    }\n    if (this.actionOnScroll !== 'none') {\n      if (this.getRelateToElement()) {\n        var targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n        if (!targetVisible && !this.targetInvisibleStatus) {\n          this.trigger('targetExitViewport');\n          this.targetInvisibleStatus = true;\n        } else if (targetVisible) {\n          this.targetInvisibleStatus = false;\n        }\n      }\n    }\n  };\n  /**\n   * This method is to get the element visibility on viewport when scroll\n   * the page. This method will returns true even though 1 px of element\n   * part is in visible.\n   *\n   * @param {HTMLElement} relateToElement - specifies the element\n   * @param {HTMLElement} scrollElement - specifies the scroll element\n   * @returns {boolean} - retruns the boolean\n   */\n  // eslint-disable-next-line\n  Popup.prototype.isElementOnViewport = function (relateToElement, scrollElement) {\n    var scrollParents = this.getScrollableParent(relateToElement);\n    for (var parent_3 = 0; parent_3 < scrollParents.length; parent_3++) {\n      if (this.isElementVisible(relateToElement, scrollParents[parent_3])) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n    return true;\n  };\n  Popup.prototype.isElementVisible = function (relateToElement, scrollElement) {\n    var rect = this.checkGetBoundingClientRect(relateToElement);\n    if (!rect.height || !rect.width) {\n      return false;\n    }\n    if (!isNullOrUndefined(this.checkGetBoundingClientRect(scrollElement))) {\n      var parent_4 = scrollElement.getBoundingClientRect();\n      return !(rect.bottom < parent_4.top) && !(rect.bottom > parent_4.bottom) && !(rect.right > parent_4.right) && !(rect.left < parent_4.left);\n    } else {\n      var win = window;\n      var windowView = {\n        top: win.scrollY,\n        left: win.scrollX,\n        right: win.scrollX + win.outerWidth,\n        bottom: win.scrollY + win.outerHeight\n      };\n      var off = calculatePosition(relateToElement);\n      var ele = {\n        top: off.top,\n        left: off.left,\n        right: off.left + rect.width,\n        bottom: off.top + rect.height\n      };\n      var elementView = {\n        top: windowView.bottom - ele.top,\n        left: windowView.right - ele.left,\n        bottom: ele.bottom - windowView.top,\n        right: ele.right - windowView.left\n      };\n      return elementView.top > 0 && elementView.left > 0 && elementView.right > 0 && elementView.bottom > 0;\n    }\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n  Popup.prototype.preRender = function () {\n    //There is no event handler\n  };\n  Popup.prototype.setEnableRtl = function () {\n    this.reposition();\n    // eslint-disable-next-line\n    this.enableRtl ? this.element.classList.add(CLASSNAMES.RTL) : this.element.classList.remove(CLASSNAMES.RTL);\n  };\n  Popup.prototype.setContent = function () {\n    if (!isNullOrUndefined(this.content)) {\n      this.element.innerHTML = '';\n      if (typeof this.content === 'string') {\n        this.element.textContent = this.content;\n      } else {\n        var relateToElem = this.getRelateToElement();\n        // eslint-disable-next-line\n        var props = this.content.props;\n        if (!relateToElem.classList.contains('e-dropdown-btn') || isNullOrUndefined(props)) {\n          this.element.appendChild(this.content);\n        }\n      }\n    }\n  };\n  Popup.prototype.orientationOnChange = function () {\n    var _this = this;\n    setTimeout(function () {\n      _this.refreshPosition();\n    }, 200);\n  };\n  // eslint-disable-next-line\n  /**\n   * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n   *\n   * @returns {void}\n   */\n  Popup.prototype.refreshPosition = function (target, collision) {\n    if (!isNullOrUndefined(target)) {\n      this.checkFixedParent(target);\n    }\n    this.reposition();\n    if (!collision) {\n      this.checkCollision();\n    }\n  };\n  Popup.prototype.reposition = function () {\n    var pos;\n    var position;\n    var relateToElement = this.getRelateToElement();\n    if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n      pos = {\n        left: this.position.X,\n        top: this.position.Y\n      };\n    } else if (typeof this.position.X === 'string' && typeof this.position.Y === 'number' || typeof this.position.X === 'number' && typeof this.position.Y === 'string') {\n      var parentDisplay = void 0;\n      var display = this.element.style.display;\n      this.element.style.display = 'block';\n      if (this.element.classList.contains('e-dlg-modal')) {\n        parentDisplay = this.element.parentElement.style.display;\n        this.element.parentElement.style.display = 'block';\n      }\n      position = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n      if (typeof this.position.X === 'string') {\n        pos = {\n          left: position.left,\n          top: this.position.Y\n        };\n      } else {\n        pos = {\n          left: this.position.X,\n          top: position.top\n        };\n      }\n      this.element.style.display = display;\n      if (this.element.classList.contains('e-dlg-modal')) {\n        this.element.parentElement.style.display = parentDisplay;\n      }\n    } else if (relateToElement) {\n      var display = this.element.style.display;\n      this.element.style.display = 'block';\n      pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n      this.element.style.display = display;\n    } else {\n      pos = {\n        left: 0,\n        top: 0\n      };\n    }\n    if (!isNullOrUndefined(pos)) {\n      this.element.style.left = pos.left + 'px';\n      this.element.style.top = pos.top + 'px';\n    }\n  };\n  Popup.prototype.checkGetBoundingClientRect = function (ele) {\n    var eleRect;\n    try {\n      eleRect = ele.getBoundingClientRect();\n      return eleRect;\n    } catch (error) {\n      return null;\n    }\n  };\n  Popup.prototype.getAnchorPosition = function (anchorEle, ele, position, offsetX, offsetY) {\n    var eleRect = this.checkGetBoundingClientRect(ele);\n    var anchorRect = this.checkGetBoundingClientRect(anchorEle);\n    if (isNullOrUndefined(eleRect) || isNullOrUndefined(anchorRect)) {\n      return null;\n    }\n    var anchor = anchorEle;\n    var anchorPos = {\n      left: 0,\n      top: 0\n    };\n    if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n      anchorPos = calculatePosition(anchorEle);\n    } else {\n      if (ele.classList.contains('e-dlg-modal') && anchor.tagName !== 'BODY') {\n        ele = ele.parentElement;\n      }\n      anchorPos = calculateRelativeBasedPosition(anchor, ele);\n    }\n    switch (position.X) {\n      default:\n      case 'left':\n        break;\n      case 'center':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.left += window.innerWidth / 2 - eleRect.width / 2;\n        } else if (this.targetType === 'container') {\n          anchorPos.left += anchorRect.width / 2 - eleRect.width / 2;\n        } else {\n          anchorPos.left += anchorRect.width / 2;\n        }\n        break;\n      case 'right':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.left += window.innerWidth - eleRect.width;\n        } else if (this.targetType === 'container') {\n          anchorPos.left += anchorRect.width - eleRect.width;\n        } else {\n          anchorPos.left += anchorRect.width;\n        }\n        break;\n    }\n    switch (position.Y) {\n      default:\n      case 'top':\n        break;\n      case 'center':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.top += window.innerHeight / 2 - eleRect.height / 2;\n        } else if (this.targetType === 'container') {\n          anchorPos.top += anchorRect.height / 2 - eleRect.height / 2;\n        } else {\n          anchorPos.top += anchorRect.height / 2;\n        }\n        break;\n      case 'bottom':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.top += window.innerHeight - eleRect.height;\n        } else if (this.targetType === 'container') {\n          anchorPos.top += anchorRect.height - eleRect.height;\n        } else {\n          anchorPos.top += anchorRect.height;\n        }\n        break;\n    }\n    anchorPos.left += offsetX;\n    anchorPos.top += offsetY;\n    return anchorPos;\n  };\n  Popup.prototype.callFlip = function (param) {\n    var relateToElement = this.getRelateToElement();\n    flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n  };\n  Popup.prototype.callFit = function (param) {\n    if (isCollide(this.element, this.viewPortElement).length !== 0) {\n      if (isNullOrUndefined(this.viewPortElement)) {\n        var data = fit(this.element, this.viewPortElement, param);\n        if (param.X) {\n          this.element.style.left = data.left + 'px';\n        }\n        if (param.Y) {\n          this.element.style.top = data.top + 'px';\n        }\n      } else {\n        var elementRect = this.checkGetBoundingClientRect(this.element);\n        var viewPortRect = this.checkGetBoundingClientRect(this.viewPortElement);\n        if (isNullOrUndefined(elementRect) || isNullOrUndefined(viewPortRect)) {\n          return null;\n        }\n        if (param && param.Y === true) {\n          if (viewPortRect.top > elementRect.top) {\n            this.element.style.top = '0px';\n          } else if (viewPortRect.bottom < elementRect.bottom) {\n            this.element.style.top = parseInt(this.element.style.top, 10) - (elementRect.bottom - viewPortRect.bottom) + 'px';\n          }\n        }\n        if (param && param.X === true) {\n          if (viewPortRect.right < elementRect.right) {\n            this.element.style.left = parseInt(this.element.style.left, 10) - (elementRect.right - viewPortRect.right) + 'px';\n          } else if (viewPortRect.left > elementRect.left) {\n            this.element.style.left = parseInt(this.element.style.left, 10) + (viewPortRect.left - elementRect.left) + 'px';\n          }\n        }\n      }\n    }\n  };\n  Popup.prototype.checkCollision = function () {\n    var horz = this.collision.X;\n    var vert = this.collision.Y;\n    if (horz === 'none' && vert === 'none') {\n      return;\n    }\n    if (horz === 'flip' && vert === 'flip') {\n      this.callFlip({\n        X: true,\n        Y: true\n      });\n    } else if (horz === 'fit' && vert === 'fit') {\n      this.callFit({\n        X: true,\n        Y: true\n      });\n    } else {\n      if (horz === 'flip') {\n        this.callFlip({\n          X: true,\n          Y: false\n        });\n      } else if (vert === 'flip') {\n        this.callFlip({\n          Y: true,\n          X: false\n        });\n      }\n      if (horz === 'fit') {\n        this.callFit({\n          X: true,\n          Y: false\n        });\n      } else if (vert === 'fit') {\n        this.callFit({\n          X: false,\n          Y: true\n        });\n      }\n    }\n  };\n  /**\n   * Shows the popup element from screen.\n   *\n   * @returns {void}\n   * @param {AnimationModel} animationOptions - specifies the model\n   * @param { HTMLElement } relativeElement - To calculate the zIndex value dynamically.\n   */\n  Popup.prototype.show = function (animationOptions, relativeElement) {\n    var _this = this;\n    this.wireEvents();\n    if (this.zIndex === 1000 || !isNullOrUndefined(relativeElement)) {\n      var zIndexElement = isNullOrUndefined(relativeElement) ? this.element : relativeElement;\n      this.zIndex = getZindexPartial(zIndexElement);\n      setStyleAttribute(this.element, {\n        'zIndex': this.zIndex\n      });\n    }\n    animationOptions = !isNullOrUndefined(animationOptions) && typeof animationOptions === 'object' ? animationOptions : this.showAnimation;\n    if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n      removeClass([this.element], CLASSNAMES.CLOSE);\n      addClass([this.element], CLASSNAMES.OPEN);\n      this.checkCollision();\n      removeClass([this.element], CLASSNAMES.OPEN);\n      addClass([this.element], CLASSNAMES.CLOSE);\n    }\n    if (!isNullOrUndefined(animationOptions)) {\n      animationOptions.begin = function () {\n        if (!_this.isDestroyed) {\n          removeClass([_this.element], CLASSNAMES.CLOSE);\n          addClass([_this.element], CLASSNAMES.OPEN);\n        }\n      };\n      animationOptions.end = function () {\n        if (!_this.isDestroyed) {\n          _this.trigger('open');\n        }\n      };\n      new Animation(animationOptions).animate(this.element);\n    } else {\n      removeClass([this.element], CLASSNAMES.CLOSE);\n      addClass([this.element], CLASSNAMES.OPEN);\n      this.trigger('open');\n    }\n  };\n  /**\n   * Hides the popup element from screen.\n   *\n   * @param {AnimationModel} animationOptions - To give the animation options.\n   * @returns {void}\n   */\n  Popup.prototype.hide = function (animationOptions) {\n    var _this = this;\n    animationOptions = !isNullOrUndefined(animationOptions) && typeof animationOptions === 'object' ? animationOptions : this.hideAnimation;\n    if (!isNullOrUndefined(animationOptions)) {\n      animationOptions.end = function () {\n        if (!_this.isDestroyed) {\n          removeClass([_this.element], CLASSNAMES.OPEN);\n          addClass([_this.element], CLASSNAMES.CLOSE);\n          _this.trigger('close');\n        }\n      };\n      new Animation(animationOptions).animate(this.element);\n    } else {\n      removeClass([this.element], CLASSNAMES.OPEN);\n      addClass([this.element], CLASSNAMES.CLOSE);\n      this.trigger('close');\n    }\n    this.unwireEvents();\n  };\n  /**\n   * Gets scrollable parent elements for the given element.\n   *\n   * @returns {void}\n   * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n   */\n  Popup.prototype.getScrollableParent = function (element) {\n    this.checkFixedParent(element);\n    return getScrollableParent(element, this.fixedParent);\n  };\n  Popup.prototype.checkFixedParent = function (element) {\n    var parent = element.parentElement;\n    while (parent && parent.tagName !== 'HTML') {\n      var parentStyle = getComputedStyle(parent);\n      if (parentStyle.position === 'fixed' && !isNullOrUndefined(this.element) && this.element.offsetParent && this.element.offsetParent.tagName === 'BODY') {\n        this.element.style.top = window.scrollY > parseInt(this.element.style.top) ? formatUnit(window.scrollY - parseInt(this.element.style.top)) : formatUnit(parseInt(this.element.style.top) - window.scrollY);\n        this.element.style.position = 'fixed';\n        this.fixedParent = true;\n      }\n      parent = parent.parentElement;\n      if (!isNullOrUndefined(this.element) && isNullOrUndefined(this.element.offsetParent) && parentStyle.position === 'fixed' && this.element.style.position === 'fixed') {\n        this.fixedParent = true;\n      }\n    }\n  };\n  __decorate([Property('auto')], Popup.prototype, \"height\", void 0);\n  __decorate([Property('auto')], Popup.prototype, \"width\", void 0);\n  __decorate([Property(null)], Popup.prototype, \"content\", void 0);\n  __decorate([Property('container')], Popup.prototype, \"targetType\", void 0);\n  __decorate([Property(null)], Popup.prototype, \"viewPortElement\", void 0);\n  __decorate([Property({\n    X: 'none',\n    Y: 'none'\n  })], Popup.prototype, \"collision\", void 0);\n  __decorate([Property('')], Popup.prototype, \"relateTo\", void 0);\n  __decorate([Complex({}, PositionData)], Popup.prototype, \"position\", void 0);\n  __decorate([Property(0)], Popup.prototype, \"offsetX\", void 0);\n  __decorate([Property(0)], Popup.prototype, \"offsetY\", void 0);\n  __decorate([Property(1000)], Popup.prototype, \"zIndex\", void 0);\n  __decorate([Property(false)], Popup.prototype, \"enableRtl\", void 0);\n  __decorate([Property('reposition')], Popup.prototype, \"actionOnScroll\", void 0);\n  __decorate([Property(null)], Popup.prototype, \"showAnimation\", void 0);\n  __decorate([Property(null)], Popup.prototype, \"hideAnimation\", void 0);\n  __decorate([Event()], Popup.prototype, \"open\", void 0);\n  __decorate([Event()], Popup.prototype, \"close\", void 0);\n  __decorate([Event()], Popup.prototype, \"targetExitViewport\", void 0);\n  Popup = __decorate([NotifyPropertyChanges], Popup);\n  return Popup;\n}(Component);\nexport { Popup };\n/**\n * Gets scrollable parent elements for the given element.\n *\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @param {boolean} fixedParent - specifies the parent element\n * @private\n * @returns {void}\n */\nexport function getScrollableParent(element, fixedParent) {\n  var eleStyle = getComputedStyle(element);\n  var scrollParents = [];\n  var overflowRegex = /(auto|scroll)/;\n  var parent = element.parentElement;\n  while (parent && parent.tagName !== 'HTML') {\n    var parentStyle = getComputedStyle(parent);\n    if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static') && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n      scrollParents.push(parent);\n    }\n    parent = parent.parentElement;\n  }\n  if (!fixedParent) {\n    scrollParents.push(document);\n  }\n  return scrollParents;\n}\n/**\n * Gets the maximum z-index of the given element.\n *\n * @returns {void}\n * @param { HTMLElement } element - Specify the element to get the maximum z-index of it.\n * @private\n */\nexport function getZindexPartial(element) {\n  // upto body traversal\n  var parent = element.parentElement;\n  var parentZindex = [];\n  while (parent) {\n    if (parent.tagName !== 'BODY') {\n      var index = document.defaultView.getComputedStyle(parent, null).getPropertyValue('z-index');\n      var position = document.defaultView.getComputedStyle(parent, null).getPropertyValue('position');\n      if (index !== 'auto' && position !== 'static') {\n        parentZindex.push(index);\n      }\n      parent = parent.parentElement;\n    } else {\n      break;\n    }\n  }\n  var childrenZindex = [];\n  for (var i = 0; i < document.body.children.length; i++) {\n    if (!element.isEqualNode(document.body.children[i])) {\n      var index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n      var position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n      if (index !== 'auto' && position !== 'static') {\n        childrenZindex.push(index);\n      }\n    }\n  }\n  childrenZindex.push('999');\n  var siblingsZindex = [];\n  if (!isNullOrUndefined(element.parentElement) && element.parentElement.tagName !== 'BODY') {\n    var childNodes = [].slice.call(element.parentElement.children);\n    for (var i = 0; i < childNodes.length; i++) {\n      if (!element.isEqualNode(childNodes[i])) {\n        var index = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('z-index');\n        var position = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('position');\n        if (index !== 'auto' && position !== 'static') {\n          siblingsZindex.push(index);\n        }\n      }\n    }\n  }\n  var finalValue = parentZindex.concat(childrenZindex, siblingsZindex);\n  // eslint-disable-next-line\n  var currentZindexValue = Math.max.apply(Math, finalValue) + 1;\n  return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n/**\n * Gets the maximum z-index of the page.\n *\n * @returns {void}\n * @param { HTMLElement } tagName - Specify the tagName to get the maximum z-index of it.\n * @private\n */\nexport function getMaxZindex(tagName) {\n  if (tagName === void 0) {\n    tagName = ['*'];\n  }\n  var maxZindex = [];\n  for (var i = 0; i < tagName.length; i++) {\n    var elements = document.getElementsByTagName(tagName[i]);\n    for (var i_1 = 0; i_1 < elements.length; i_1++) {\n      var index = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('z-index');\n      var position = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('position');\n      if (index !== 'auto' && position !== 'static') {\n        maxZindex.push(index);\n      }\n    }\n  }\n  // eslint-disable-next-line\n  var currentZindexValue = Math.max.apply(Math, maxZindex) + 1;\n  return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","setStyleAttribute","addClass","removeClass","ChildProperty","Complex","isNullOrUndefined","formatUnit","Browser","calculatePosition","calculateRelativeBasedPosition","Animation","Property","Event","Component","NotifyPropertyChanges","EventHandler","flip","fit","isCollide","PositionData","_super","apply","CLASSNAMES","ROOT","RTL","OPEN","CLOSE","Popup","element","options","call","onPropertyChanged","newProp","oldProp","_i","_a","keys","prop","width","height","zIndex","setEnableRtl","refreshPosition","x","offsetX","style","left","parseInt","toString","y","offsetY","top","setContent","actionOnScroll","wireScrollEvents","unwireScrollEvents","getModuleName","resolveCollision","checkCollision","getPersistData","addOnPersist","destroy","classList","remove","unwireEvents","render","add","styles","fixedParent","wireEvents","isDevice","window","orientationOnChange","getRelateToElement","getScrollableParent","parent_1","scrollRefresh","parent_2","relateToElement","relateTo","document","body","setProperties","querySelector","e","offsetParent","tagName","parentElement","hide","targetVisible","isElementOnViewport","targetInvisibleStatus","trigger","scrollElement","scrollParents","parent_3","isElementVisible","rect","checkGetBoundingClientRect","parent_4","getBoundingClientRect","bottom","right","win","windowView","scrollY","scrollX","outerWidth","outerHeight","off","ele","elementView","preRender","reposition","enableRtl","content","innerHTML","textContent","relateToElem","props","contains","appendChild","_this","setTimeout","collision","checkFixedParent","pos","position","X","Y","parentDisplay","display","getAnchorPosition","eleRect","error","anchorEle","anchorRect","anchor","anchorPos","targetType","innerWidth","innerHeight","callFlip","param","viewPortElement","callFit","data","elementRect","viewPortRect","horz","vert","show","animationOptions","relativeElement","zIndexElement","getZindexPartial","showAnimation","begin","isDestroyed","end","animate","hideAnimation","parent","parentStyle","getComputedStyle","eleStyle","overflowRegex","test","overflow","overflowY","overflowX","push","parentZindex","index","defaultView","getPropertyValue","childrenZindex","children","isEqualNode","siblingsZindex","childNodes","slice","finalValue","concat","currentZindexValue","Math","max","getMaxZindex","maxZindex","elements","getElementsByTagName","i_1"],"sources":["C:/Users/Josh/Desktop/School-work/admin_dash/Admin_Dashboard/node_modules/@syncfusion/ej2-popups/src/popup/popup.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { setStyleAttribute, addClass, removeClass, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit } from '@syncfusion/ej2-base';\nimport { Browser } from '@syncfusion/ej2-base';\nimport { calculatePosition, calculateRelativeBasedPosition } from '../common/position';\nimport { Animation, Property, Event, Component } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { flip, fit, isCollide } from '../common/collision';\n/**\n * Specifies the offset position values.\n */\nvar PositionData = /** @class */ (function (_super) {\n    __extends(PositionData, _super);\n    function PositionData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('left')\n    ], PositionData.prototype, \"X\", void 0);\n    __decorate([\n        Property('top')\n    ], PositionData.prototype, \"Y\", void 0);\n    return PositionData;\n}(ChildProperty));\nexport { PositionData };\n// don't use space in classNames\nvar CLASSNAMES = {\n    ROOT: 'e-popup',\n    RTL: 'e-rtl',\n    OPEN: 'e-popup-open',\n    CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\nvar Popup = /** @class */ (function (_super) {\n    __extends(Popup, _super);\n    function Popup(element, options) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {PopupModel} newProp - specifies the new property\n     * @param {PopupModel} oldProp - specifies the old property\n     * @private\n     * @returns {void}\n     */\n    Popup.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'zIndex':\n                    setStyleAttribute(this.element, { 'zIndex': newProp.zIndex });\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'position':\n                case 'relateTo':\n                    this.refreshPosition();\n                    break;\n                case 'offsetX':\n                    // eslint-disable-next-line\n                    var x = newProp.offsetX - oldProp.offsetX;\n                    this.element.style.left = (parseInt(this.element.style.left, 10) + (x)).toString() + 'px';\n                    break;\n                case 'offsetY':\n                    // eslint-disable-next-line\n                    var y = newProp.offsetY - oldProp.offsetY;\n                    this.element.style.top = (parseInt(this.element.style.top, 10) + (y)).toString() + 'px';\n                    break;\n                case 'content':\n                    this.setContent();\n                    break;\n                case 'actionOnScroll':\n                    if (newProp.actionOnScroll !== 'none') {\n                        this.wireScrollEvents();\n                    }\n                    else {\n                        this.unwireScrollEvents();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * gets the Component module name.\n     *\n     * @returns {void}\n     * @private\n     */\n    Popup.prototype.getModuleName = function () {\n        return 'popup';\n    };\n    /**\n     * To resolve if any collision occurs.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.resolveCollision = function () {\n        this.checkCollision();\n    };\n    /**\n     * gets the persisted state properties of the Component.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the control.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.destroy = function () {\n        this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL, CLASSNAMES.OPEN, CLASSNAMES.CLOSE);\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Popup.prototype.render = function () {\n        this.element.classList.add(CLASSNAMES.ROOT);\n        var styles = {};\n        if (this.zIndex !== 1000) {\n            styles.zIndex = this.zIndex;\n        }\n        if (this.width !== 'auto') {\n            styles.width = formatUnit(this.width);\n        }\n        if (this.height !== 'auto') {\n            styles.height = formatUnit(this.height);\n        }\n        setStyleAttribute(this.element, styles);\n        this.fixedParent = false;\n        this.setEnableRtl();\n        this.setContent();\n    };\n    Popup.prototype.wireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n        }\n    };\n    Popup.prototype.wireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollRefresh, this);\n            }\n        }\n    };\n    Popup.prototype.unwireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.unwireScrollEvents();\n        }\n    };\n    Popup.prototype.unwireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollRefresh);\n            }\n        }\n    };\n    Popup.prototype.getRelateToElement = function () {\n        var relateToElement = this.relateTo === '' || isNullOrUndefined(this.relateTo) ?\n            document.body : this.relateTo;\n        this.setProperties({ relateTo: relateToElement }, true);\n        return ((typeof this.relateTo) === 'string') ?\n            document.querySelector(this.relateTo) : this.relateTo;\n    };\n    Popup.prototype.scrollRefresh = function (e) {\n        if (this.actionOnScroll === 'reposition') {\n            if (!isNullOrUndefined(this.element) && !(this.element.offsetParent === e.target ||\n                (this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' &&\n                    e.target.parentElement == null))) {\n                this.refreshPosition();\n            }\n        }\n        else if (this.actionOnScroll === 'hide') {\n            this.hide();\n        }\n        if (this.actionOnScroll !== 'none') {\n            if (this.getRelateToElement()) {\n                var targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n                if (!targetVisible && !this.targetInvisibleStatus) {\n                    this.trigger('targetExitViewport');\n                    this.targetInvisibleStatus = true;\n                }\n                else if (targetVisible) {\n                    this.targetInvisibleStatus = false;\n                }\n            }\n        }\n    };\n    /**\n     * This method is to get the element visibility on viewport when scroll\n     * the page. This method will returns true even though 1 px of element\n     * part is in visible.\n     *\n     * @param {HTMLElement} relateToElement - specifies the element\n     * @param {HTMLElement} scrollElement - specifies the scroll element\n     * @returns {boolean} - retruns the boolean\n     */\n    // eslint-disable-next-line\n    Popup.prototype.isElementOnViewport = function (relateToElement, scrollElement) {\n        var scrollParents = this.getScrollableParent(relateToElement);\n        for (var parent_3 = 0; parent_3 < scrollParents.length; parent_3++) {\n            if (this.isElementVisible(relateToElement, scrollParents[parent_3])) {\n                continue;\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    };\n    Popup.prototype.isElementVisible = function (relateToElement, scrollElement) {\n        var rect = this.checkGetBoundingClientRect(relateToElement);\n        if (!rect.height || !rect.width) {\n            return false;\n        }\n        if (!isNullOrUndefined(this.checkGetBoundingClientRect(scrollElement))) {\n            var parent_4 = scrollElement.getBoundingClientRect();\n            return !(rect.bottom < parent_4.top) &&\n                (!(rect.bottom > parent_4.bottom) &&\n                    (!(rect.right > parent_4.right) &&\n                        !(rect.left < parent_4.left)));\n        }\n        else {\n            var win = window;\n            var windowView = {\n                top: win.scrollY,\n                left: win.scrollX,\n                right: win.scrollX + win.outerWidth,\n                bottom: win.scrollY + win.outerHeight\n            };\n            var off = calculatePosition(relateToElement);\n            var ele = {\n                top: off.top,\n                left: off.left,\n                right: off.left + rect.width,\n                bottom: off.top + rect.height\n            };\n            var elementView = {\n                top: windowView.bottom - ele.top,\n                left: windowView.right - ele.left,\n                bottom: ele.bottom - windowView.top,\n                right: ele.right - windowView.left\n            };\n            return elementView.top > 0\n                && elementView.left > 0\n                && elementView.right > 0\n                && elementView.bottom > 0;\n        }\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Popup.prototype.preRender = function () {\n        //There is no event handler\n    };\n    Popup.prototype.setEnableRtl = function () {\n        this.reposition();\n        // eslint-disable-next-line\n        this.enableRtl ? this.element.classList.add(CLASSNAMES.RTL) : this.element.classList.remove(CLASSNAMES.RTL);\n    };\n    Popup.prototype.setContent = function () {\n        if (!isNullOrUndefined(this.content)) {\n            this.element.innerHTML = '';\n            if (typeof (this.content) === 'string') {\n                this.element.textContent = this.content;\n            }\n            else {\n                var relateToElem = this.getRelateToElement();\n                // eslint-disable-next-line\n                var props = this.content.props;\n                if (!relateToElem.classList.contains('e-dropdown-btn') || isNullOrUndefined(props)) {\n                    this.element.appendChild(this.content);\n                }\n            }\n        }\n    };\n    Popup.prototype.orientationOnChange = function () {\n        var _this = this;\n        setTimeout(function () {\n            _this.refreshPosition();\n        }, 200);\n    };\n    // eslint-disable-next-line\n    /**\n     * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.refreshPosition = function (target, collision) {\n        if (!isNullOrUndefined(target)) {\n            this.checkFixedParent(target);\n        }\n        this.reposition();\n        if (!collision) {\n            this.checkCollision();\n        }\n    };\n    Popup.prototype.reposition = function () {\n        var pos;\n        var position;\n        var relateToElement = this.getRelateToElement();\n        if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n            pos = { left: this.position.X, top: this.position.Y };\n        }\n        else if ((typeof this.position.X === 'string' && typeof this.position.Y === 'number') ||\n            (typeof this.position.X === 'number' && typeof this.position.Y === 'string')) {\n            var parentDisplay = void 0;\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            if (this.element.classList.contains('e-dlg-modal')) {\n                parentDisplay = this.element.parentElement.style.display;\n                this.element.parentElement.style.display = 'block';\n            }\n            position = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            if (typeof this.position.X === 'string') {\n                pos = { left: position.left, top: this.position.Y };\n            }\n            else {\n                pos = { left: this.position.X, top: position.top };\n            }\n            this.element.style.display = display;\n            if (this.element.classList.contains('e-dlg-modal')) {\n                this.element.parentElement.style.display = parentDisplay;\n            }\n        }\n        else if (relateToElement) {\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            this.element.style.display = display;\n        }\n        else {\n            pos = { left: 0, top: 0 };\n        }\n        if (!isNullOrUndefined(pos)) {\n            this.element.style.left = pos.left + 'px';\n            this.element.style.top = pos.top + 'px';\n        }\n    };\n    Popup.prototype.checkGetBoundingClientRect = function (ele) {\n        var eleRect;\n        try {\n            eleRect = ele.getBoundingClientRect();\n            return eleRect;\n        }\n        catch (error) {\n            return null;\n        }\n    };\n    Popup.prototype.getAnchorPosition = function (anchorEle, ele, position, offsetX, offsetY) {\n        var eleRect = this.checkGetBoundingClientRect(ele);\n        var anchorRect = this.checkGetBoundingClientRect(anchorEle);\n        if (isNullOrUndefined(eleRect) || isNullOrUndefined(anchorRect)) {\n            return null;\n        }\n        var anchor = anchorEle;\n        var anchorPos = { left: 0, top: 0 };\n        if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n            anchorPos = calculatePosition(anchorEle);\n        }\n        else {\n            if ((ele.classList.contains('e-dlg-modal') && anchor.tagName !== 'BODY')) {\n                ele = ele.parentElement;\n            }\n            anchorPos = calculateRelativeBasedPosition(anchor, ele);\n        }\n        switch (position.X) {\n            default:\n            case 'left':\n                break;\n            case 'center':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.left += (window.innerWidth / 2 - eleRect.width / 2);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width / 2 - eleRect.width / 2);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width / 2);\n                }\n                break;\n            case 'right':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.left += (window.innerWidth - eleRect.width);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width - eleRect.width);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width);\n                }\n                break;\n        }\n        switch (position.Y) {\n            default:\n            case 'top':\n                break;\n            case 'center':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.top += (window.innerHeight / 2 - eleRect.height / 2);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height / 2 - eleRect.height / 2);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height / 2);\n                }\n                break;\n            case 'bottom':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.top += (window.innerHeight - eleRect.height);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height - eleRect.height);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height);\n                }\n                break;\n        }\n        anchorPos.left += offsetX;\n        anchorPos.top += offsetY;\n        return anchorPos;\n    };\n    Popup.prototype.callFlip = function (param) {\n        var relateToElement = this.getRelateToElement();\n        flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n    };\n    Popup.prototype.callFit = function (param) {\n        if (isCollide(this.element, this.viewPortElement).length !== 0) {\n            if (isNullOrUndefined(this.viewPortElement)) {\n                var data = fit(this.element, this.viewPortElement, param);\n                if (param.X) {\n                    this.element.style.left = data.left + 'px';\n                }\n                if (param.Y) {\n                    this.element.style.top = data.top + 'px';\n                }\n            }\n            else {\n                var elementRect = this.checkGetBoundingClientRect(this.element);\n                var viewPortRect = this.checkGetBoundingClientRect(this.viewPortElement);\n                if (isNullOrUndefined(elementRect) || isNullOrUndefined(viewPortRect)) {\n                    return null;\n                }\n                if (param && param.Y === true) {\n                    if (viewPortRect.top > elementRect.top) {\n                        this.element.style.top = '0px';\n                    }\n                    else if (viewPortRect.bottom < elementRect.bottom) {\n                        this.element.style.top = parseInt(this.element.style.top, 10) - (elementRect.bottom - viewPortRect.bottom) + 'px';\n                    }\n                }\n                if (param && param.X === true) {\n                    if (viewPortRect.right < elementRect.right) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) - (elementRect.right - viewPortRect.right) + 'px';\n                    }\n                    else if (viewPortRect.left > elementRect.left) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) + (viewPortRect.left - elementRect.left) + 'px';\n                    }\n                }\n            }\n        }\n    };\n    Popup.prototype.checkCollision = function () {\n        var horz = this.collision.X;\n        var vert = this.collision.Y;\n        if (horz === 'none' && vert === 'none') {\n            return;\n        }\n        if (horz === 'flip' && vert === 'flip') {\n            this.callFlip({ X: true, Y: true });\n        }\n        else if (horz === 'fit' && vert === 'fit') {\n            this.callFit({ X: true, Y: true });\n        }\n        else {\n            if (horz === 'flip') {\n                this.callFlip({ X: true, Y: false });\n            }\n            else if (vert === 'flip') {\n                this.callFlip({ Y: true, X: false });\n            }\n            if (horz === 'fit') {\n                this.callFit({ X: true, Y: false });\n            }\n            else if (vert === 'fit') {\n                this.callFit({ X: false, Y: true });\n            }\n        }\n    };\n    /**\n     * Shows the popup element from screen.\n     *\n     * @returns {void}\n     * @param {AnimationModel} animationOptions - specifies the model\n     * @param { HTMLElement } relativeElement - To calculate the zIndex value dynamically.\n     */\n    Popup.prototype.show = function (animationOptions, relativeElement) {\n        var _this = this;\n        this.wireEvents();\n        if (this.zIndex === 1000 || !isNullOrUndefined(relativeElement)) {\n            var zIndexElement = (isNullOrUndefined(relativeElement)) ? this.element : relativeElement;\n            this.zIndex = getZindexPartial(zIndexElement);\n            setStyleAttribute(this.element, { 'zIndex': this.zIndex });\n        }\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.showAnimation;\n        if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.checkCollision();\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n        }\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.begin = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.CLOSE);\n                    addClass([_this.element], CLASSNAMES.OPEN);\n                }\n            };\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    _this.trigger('open');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.trigger('open');\n        }\n    };\n    /**\n     * Hides the popup element from screen.\n     *\n     * @param {AnimationModel} animationOptions - To give the animation options.\n     * @returns {void}\n     */\n    Popup.prototype.hide = function (animationOptions) {\n        var _this = this;\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.hideAnimation;\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.OPEN);\n                    addClass([_this.element], CLASSNAMES.CLOSE);\n                    _this.trigger('close');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n            this.trigger('close');\n        }\n        this.unwireEvents();\n    };\n    /**\n     * Gets scrollable parent elements for the given element.\n     *\n     * @returns {void}\n     * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n     */\n    Popup.prototype.getScrollableParent = function (element) {\n        this.checkFixedParent(element);\n        return getScrollableParent(element, this.fixedParent);\n    };\n    Popup.prototype.checkFixedParent = function (element) {\n        var parent = element.parentElement;\n        while (parent && parent.tagName !== 'HTML') {\n            var parentStyle = getComputedStyle(parent);\n            if (parentStyle.position === 'fixed' && !isNullOrUndefined(this.element) && this.element.offsetParent && this.element.offsetParent.tagName === 'BODY') {\n                this.element.style.top = window.scrollY > parseInt(this.element.style.top) ? formatUnit(window.scrollY - parseInt(this.element.style.top))\n                    : formatUnit(parseInt(this.element.style.top) - window.scrollY);\n                this.element.style.position = 'fixed';\n                this.fixedParent = true;\n            }\n            parent = parent.parentElement;\n            if (!isNullOrUndefined(this.element) && isNullOrUndefined(this.element.offsetParent) && parentStyle.position === 'fixed'\n                && this.element.style.position === 'fixed') {\n                this.fixedParent = true;\n            }\n        }\n    };\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"content\", void 0);\n    __decorate([\n        Property('container')\n    ], Popup.prototype, \"targetType\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"viewPortElement\", void 0);\n    __decorate([\n        Property({ X: 'none', Y: 'none' })\n    ], Popup.prototype, \"collision\", void 0);\n    __decorate([\n        Property('')\n    ], Popup.prototype, \"relateTo\", void 0);\n    __decorate([\n        Complex({}, PositionData)\n    ], Popup.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(1000)\n    ], Popup.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], Popup.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('reposition')\n    ], Popup.prototype, \"actionOnScroll\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"showAnimation\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"hideAnimation\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"targetExitViewport\", void 0);\n    Popup = __decorate([\n        NotifyPropertyChanges\n    ], Popup);\n    return Popup;\n}(Component));\nexport { Popup };\n/**\n * Gets scrollable parent elements for the given element.\n *\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @param {boolean} fixedParent - specifies the parent element\n * @private\n * @returns {void}\n */\nexport function getScrollableParent(element, fixedParent) {\n    var eleStyle = getComputedStyle(element);\n    var scrollParents = [];\n    var overflowRegex = /(auto|scroll)/;\n    var parent = element.parentElement;\n    while (parent && parent.tagName !== 'HTML') {\n        var parentStyle = getComputedStyle(parent);\n        if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static')\n            && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n            scrollParents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    if (!fixedParent) {\n        scrollParents.push(document);\n    }\n    return scrollParents;\n}\n/**\n * Gets the maximum z-index of the given element.\n *\n * @returns {void}\n * @param { HTMLElement } element - Specify the element to get the maximum z-index of it.\n * @private\n */\nexport function getZindexPartial(element) {\n    // upto body traversal\n    var parent = element.parentElement;\n    var parentZindex = [];\n    while (parent) {\n        if (parent.tagName !== 'BODY') {\n            var index = document.defaultView.getComputedStyle(parent, null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(parent, null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                parentZindex.push(index);\n            }\n            parent = parent.parentElement;\n        }\n        else {\n            break;\n        }\n    }\n    var childrenZindex = [];\n    for (var i = 0; i < document.body.children.length; i++) {\n        if (!element.isEqualNode(document.body.children[i])) {\n            var index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                childrenZindex.push(index);\n            }\n        }\n    }\n    childrenZindex.push('999');\n    var siblingsZindex = [];\n    if (!isNullOrUndefined(element.parentElement) && element.parentElement.tagName !== 'BODY') {\n        var childNodes = [].slice.call(element.parentElement.children);\n        for (var i = 0; i < childNodes.length; i++) {\n            if (!element.isEqualNode(childNodes[i])) {\n                var index = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('z-index');\n                var position = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('position');\n                if (index !== 'auto' && position !== 'static') {\n                    siblingsZindex.push(index);\n                }\n            }\n        }\n    }\n    var finalValue = parentZindex.concat(childrenZindex, siblingsZindex);\n    // eslint-disable-next-line\n    var currentZindexValue = Math.max.apply(Math, finalValue) + 1;\n    return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n/**\n * Gets the maximum z-index of the page.\n *\n * @returns {void}\n * @param { HTMLElement } tagName - Specify the tagName to get the maximum z-index of it.\n * @private\n */\nexport function getMaxZindex(tagName) {\n    if (tagName === void 0) { tagName = ['*']; }\n    var maxZindex = [];\n    for (var i = 0; i < tagName.length; i++) {\n        var elements = document.getElementsByTagName(tagName[i]);\n        for (var i_1 = 0; i_1 < elements.length; i_1++) {\n            var index = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                maxZindex.push(index);\n            }\n        }\n    }\n    // eslint-disable-next-line\n    var currentZindexValue = Math.max.apply(Math, maxZindex) + 1;\n    return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}